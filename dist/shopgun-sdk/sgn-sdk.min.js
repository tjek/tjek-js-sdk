!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof rollupNeedsAnOptionToDisableAMDInUMD&&rollupNeedsAnOptionToDisableAMDInUMD.amd?rollupNeedsAnOptionToDisableAMDInUMD(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SGN=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},u={}.toString,f=function(t){return u.call(t).slice(8,-1)},h="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,d=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return p(d(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(t,e){return m.call(t,e)},w=r.document,_=g(w)&&g(w.createElement),k=function(t){return _?w.createElement(t):{}},x=!o&&!i((function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})),S=Object.getOwnPropertyDescriptor,E={f:o?S:function(t,e){if(t=v(t),e=y(e,!0),x)try{return S(t,e)}catch(t){}if(b(t,e))return l(!c.f.call(t,e),t[e])}},T=/#|\.prototype\./,P=function(t,e){var n=O[A(t)];return n==L||n!=I&&("function"==typeof e?i(e):!!e)},A=P.normalize=function(t){return String(t).replace(T,".").toLowerCase()},O=P.data={},I=P.NATIVE="N",L=P.POLYFILL="P",C=P,j={},R=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},M=function(t,e,n){if(R(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},D=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},N=Object.defineProperty,z={f:o?N:function(t,e,n){if(D(t),e=y(e,!0),D(n),x)try{return N(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U=o?function(t,e,n){return z.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},F=E.f,B=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},q=function(t,e){var n,i,o,a,s,c,l,u,f=t.target,h=t.global,p=t.stat,d=t.proto,v=h?r:p?r[f]:(r[f]||{}).prototype,g=h?j:j[f]||(j[f]={}),y=g.prototype;for(o in e)n=!C(h?o:f+(p?".":"#")+o,t.forced)&&v&&b(v,o),s=g[o],n&&(c=t.noTargetGet?(u=F(v,o))&&u.value:v[o]),a=n&&c?c:e[o],n&&typeof s==typeof a||(l=t.bind&&n?M(a,r):t.wrap&&n?B(a):d&&"function"==typeof a?M(Function.call,a):a,(t.sham||a&&a.sham||s&&s.sham)&&U(l,"sham",!0),g[o]=l,d&&(b(j,i=f+"Prototype")||U(j,i,{}),j[i][o]=a,t.real&&y&&!y[o]&&U(y,o,a)))},V=[].slice,H={},W=function(t,e,n){if(!(e in H)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";H[e]=Function("C,a","return new C("+r.join(",")+")")}return H[e](t,n)},Y=Function.bind||function(t){var e=R(this),n=V.call(arguments,1),r=function(){var i=n.concat(V.call(arguments));return this instanceof r?W(e,i.length,i):e.apply(t,i)};return g(e.prototype)&&(r.prototype=e.prototype),r};q({target:"Function",proto:!0},{bind:Y});var X,G=function(t){return j[t+"Prototype"]},$=G("Function").bind,Z=Function.prototype,K=function(t){var e=t.bind;return t===Z||t instanceof Function&&e===Z.bind?$:e},J=function(t){return"function"==typeof t?t:void 0},Q=function(t,e){return arguments.length<2?J(j[t])||J(r[t]):j[t]&&j[t][e]||r[t]&&r[t][e]},tt=Math.ceil,et=Math.floor,nt=function(t){return isNaN(t=+t)?0:(t>0?et:tt)(t)},rt=Math.min,it=function(t){return t>0?rt(nt(t),9007199254740991):0},ot=Math.max,at=Math.min,st=function(t,e){var n=nt(t);return n<0?ot(n+e,0):at(n,e)},ct=function(t){return function(e,n,r){var i,o=v(e),a=it(o.length),s=st(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},lt={includes:ct(!0),indexOf:ct(!1)},ut={},ft=lt.indexOf,ht=function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!b(ut,n)&&b(r,n)&&o.push(n);for(;e.length>i;)b(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=Object.keys||function(t){return ht(t,pt)},vt=o?Object.defineProperties:function(t,e){D(t);for(var n,r=dt(e),i=r.length,o=0;i>o;)z.f(t,n=r[o++],e[n]);return t},gt=Q("document","documentElement"),yt="__core-js_shared__",mt=r[yt]||function(t,e){try{U(r,t,e)}catch(n){r[t]=e}return e}(yt,{}),bt=e((function(t){(t.exports=function(t,e){return mt[t]||(mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),wt=0,_t=Math.random(),kt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++wt+_t).toString(36)},xt=bt("keys"),St=function(t){return xt[t]||(xt[t]=kt(t))},Et=St("IE_PROTO"),Tt=function(){},Pt=function(t){return"<script>"+t+"</"+"script>"},At=function(){try{X=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;At=X?function(t){t.write(Pt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(X):((e=k("iframe")).style.display="none",gt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Pt("document.F=Object")),t.close(),t.F);for(var n=pt.length;n--;)delete At.prototype[pt[n]];return At()};ut[Et]=!0;var Ot=Object.create||function(t,e){var n;return null!==t?(Tt.prototype=D(t),n=new Tt,Tt.prototype=null,n[Et]=t):n=At(),void 0===e?n:vt(n,e)},It=Q("Reflect","construct"),Lt=i((function(){function t(){}return!(It((function(){}),[],t)instanceof t)})),Ct=!i((function(){It((function(){}))})),jt=Lt||Ct;q({target:"Reflect",stat:!0,forced:jt,sham:jt},{construct:function(t,e){R(t),D(e);var n=arguments.length<3?t:R(arguments[2]);if(Ct&&!Lt)return It(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Y.apply(t,r))}var i=n.prototype,o=Ot(g(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return g(a)?a:o}});var Rt=j.Reflect.construct,Mt=function(t){return Object(d(t))},Dt=i((function(){dt(1)}));q({target:"Object",stat:!0,forced:Dt},{keys:function(t){return dt(Mt(t))}});var Nt,zt,Ut=j.Object.keys,Ft="process"==f(r.process),Bt=Q("navigator","userAgent")||"",qt=r.process,Vt=qt&&qt.versions,Ht=Vt&&Vt.v8;Ht?zt=(Nt=Ht.split("."))[0]+Nt[1]:Bt&&(!(Nt=Bt.match(/Edge\/(\d+)/))||Nt[1]>=74)&&(Nt=Bt.match(/Chrome\/(\d+)/))&&(zt=Nt[1]);var Wt=zt&&+zt,Yt=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(Ft?38===Wt:Wt>37&&Wt<41)})),Xt=Yt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=Array.isArray||function(t){return"Array"==f(t)},$t=pt.concat("length","prototype"),Zt={f:Object.getOwnPropertyNames||function(t){return ht(t,$t)}},Kt=Zt.f,Jt={}.toString,Qt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],te={f:function(t){return Qt&&"[object Window]"==Jt.call(t)?function(t){try{return Kt(t)}catch(t){return Qt.slice()}}(t):Kt(v(t))}},ee={f:Object.getOwnPropertySymbols},ne=function(t,e,n,r){r&&r.enumerable?t[e]=n:U(t,e,n)},re=bt("wks"),ie=r.Symbol,oe=Xt?ie:ie&&ie.withoutSetter||kt,ae=function(t){return b(re,t)&&(Yt||"string"==typeof re[t])||(Yt&&b(ie,t)?re[t]=ie[t]:re[t]=oe("Symbol."+t)),re[t]},se={f:ae},ce=z.f,le=function(t){var e=j.Symbol||(j.Symbol={});b(e,t)||ce(e,t,{value:se.f(t)})},ue={};ue[ae("toStringTag")]="z";var fe="[object z]"===String(ue),he=ae("toStringTag"),pe="Arguments"==f(function(){return arguments}()),de=fe?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),he))?n:pe?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},ve=fe?{}.toString:function(){return"[object "+de(this)+"]"},ge=z.f,ye=ae("toStringTag"),me=function(t,e,n,r){if(t){var i=n?t:t.prototype;b(i,ye)||ge(i,ye,{configurable:!0,value:e}),r&&!fe&&U(i,"toString",ve)}},be=Function.toString;"function"!=typeof mt.inspectSource&&(mt.inspectSource=function(t){return be.call(t)});var we,_e,ke,xe=mt.inspectSource,Se=r.WeakMap,Ee="function"==typeof Se&&/native code/.test(xe(Se)),Te=r.WeakMap;if(Ee){var Pe=mt.state||(mt.state=new Te),Ae=Pe.get,Oe=Pe.has,Ie=Pe.set;we=function(t,e){return e.facade=t,Ie.call(Pe,t,e),e},_e=function(t){return Ae.call(Pe,t)||{}},ke=function(t){return Oe.call(Pe,t)}}else{var Le=St("state");ut[Le]=!0,we=function(t,e){return e.facade=t,U(t,Le,e),e},_e=function(t){return b(t,Le)?t[Le]:{}},ke=function(t){return b(t,Le)}}var Ce={set:we,get:_e,has:ke,enforce:function(t){return ke(t)?_e(t):we(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=_e(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},je=ae("species"),Re=function(t,e){var n;return Gt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Gt(n.prototype)?g(n)&&null===(n=n[je])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Me=[].push,De=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(c,l,u,f){for(var h,d,v=Mt(c),g=p(v),y=M(l,u,3),m=it(g.length),b=0,w=f||Re,_=e?w(c,m):n||a?w(c,0):void 0;m>b;b++)if((s||b in g)&&(d=y(h=g[b],b,v),t))if(e)_[b]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:Me.call(_,h)}else switch(t){case 4:return!1;case 7:Me.call(_,h)}return o?-1:r||i?i:_}},Ne={forEach:De(0),map:De(1),filter:De(2),some:De(3),every:De(4),find:De(5),findIndex:De(6),filterOut:De(7)},ze=Ne.forEach,Ue=St("hidden"),Fe="Symbol",Be=ae("toPrimitive"),qe=Ce.set,Ve=Ce.getterFor(Fe),He=Object.prototype,We=r.Symbol,Ye=Q("JSON","stringify"),Xe=E.f,Ge=z.f,$e=te.f,Ze=c.f,Ke=bt("symbols"),Je=bt("op-symbols"),Qe=bt("string-to-symbol-registry"),tn=bt("symbol-to-string-registry"),en=bt("wks"),nn=r.QObject,rn=!nn||!nn.prototype||!nn.prototype.findChild,on=o&&i((function(){return 7!=Ot(Ge({},"a",{get:function(){return Ge(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Xe(He,e);r&&delete He[e],Ge(t,e,n),r&&t!==He&&Ge(He,e,r)}:Ge,an=function(t,e){var n=Ke[t]=Ot(We.prototype);return qe(n,{type:Fe,tag:t,description:e}),o||(n.description=e),n},sn=Xt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof We},cn=function(t,e,n){t===He&&cn(Je,e,n),D(t);var r=y(e,!0);return D(n),b(Ke,r)?(n.enumerable?(b(t,Ue)&&t[Ue][r]&&(t[Ue][r]=!1),n=Ot(n,{enumerable:l(0,!1)})):(b(t,Ue)||Ge(t,Ue,l(1,{})),t[Ue][r]=!0),on(t,r,n)):Ge(t,r,n)},ln=function(t,e){D(t);var n=v(e),r=dt(n).concat(pn(n));return ze(r,(function(e){o&&!un.call(n,e)||cn(t,e,n[e])})),t},un=function(t){var e=y(t,!0),n=Ze.call(this,e);return!(this===He&&b(Ke,e)&&!b(Je,e))&&(!(n||!b(this,e)||!b(Ke,e)||b(this,Ue)&&this[Ue][e])||n)},fn=function(t,e){var n=v(t),r=y(e,!0);if(n!==He||!b(Ke,r)||b(Je,r)){var i=Xe(n,r);return!i||!b(Ke,r)||b(n,Ue)&&n[Ue][r]||(i.enumerable=!0),i}},hn=function(t){var e=$e(v(t)),n=[];return ze(e,(function(t){b(Ke,t)||b(ut,t)||n.push(t)})),n},pn=function(t){var e=t===He,n=$e(e?Je:v(t)),r=[];return ze(n,(function(t){!b(Ke,t)||e&&!b(He,t)||r.push(Ke[t])})),r};if(Yt||(ne((We=function(){if(this instanceof We)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=kt(t),n=function(t){this===He&&n.call(Je,t),b(this,Ue)&&b(this[Ue],e)&&(this[Ue][e]=!1),on(this,e,l(1,t))};return o&&rn&&on(He,e,{configurable:!0,set:n}),an(e,t)}).prototype,"toString",(function(){return Ve(this).tag})),ne(We,"withoutSetter",(function(t){return an(kt(t),t)})),c.f=un,z.f=cn,E.f=fn,Zt.f=te.f=hn,ee.f=pn,se.f=function(t){return an(ae(t),t)},o&&Ge(We.prototype,"description",{configurable:!0,get:function(){return Ve(this).description}})),q({global:!0,wrap:!0,forced:!Yt,sham:!Yt},{Symbol:We}),ze(dt(en),(function(t){le(t)})),q({target:Fe,stat:!0,forced:!Yt},{for:function(t){var e=String(t);if(b(Qe,e))return Qe[e];var n=We(e);return Qe[e]=n,tn[n]=e,n},keyFor:function(t){if(!sn(t))throw TypeError(t+" is not a symbol");if(b(tn,t))return tn[t]},useSetter:function(){rn=!0},useSimple:function(){rn=!1}}),q({target:"Object",stat:!0,forced:!Yt,sham:!o},{create:function(t,e){return void 0===e?Ot(t):ln(Ot(t),e)},defineProperty:cn,defineProperties:ln,getOwnPropertyDescriptor:fn}),q({target:"Object",stat:!0,forced:!Yt},{getOwnPropertyNames:hn,getOwnPropertySymbols:pn}),q({target:"Object",stat:!0,forced:i((function(){ee.f(1)}))},{getOwnPropertySymbols:function(t){return ee.f(Mt(t))}}),Ye){var dn=!Yt||i((function(){var t=We();return"[null]"!=Ye([t])||"{}"!=Ye({a:t})||"{}"!=Ye(Object(t))}));q({target:"JSON",stat:!0,forced:dn},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(g(e)||void 0!==t)&&!sn(t))return Gt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!sn(e))return e}),i[1]=e,Ye.apply(null,i)}})}We.prototype[Be]||U(We.prototype,Be,We.prototype.valueOf),me(We,Fe),ut[Ue]=!0;var vn=j.Object.getOwnPropertySymbols,gn=ae("species"),yn=function(t){return Wt>=51||!i((function(){var e=[];return(e.constructor={})[gn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},mn=Ne.filter,bn=yn("filter");q({target:"Array",proto:!0,forced:!bn},{filter:function(t){return mn(this,t,arguments.length>1?arguments[1]:void 0)}});var wn=G("Array").filter,_n=Array.prototype,kn=function(t){var e=t.filter;return t===_n||t instanceof Array&&e===_n.filter?wn:e},xn=E.f,Sn=i((function(){xn(1)}));q({target:"Object",stat:!0,forced:!o||Sn,sham:!o},{getOwnPropertyDescriptor:function(t,e){return xn(v(t),e)}});var En,Tn,Pn,An=e((function(t){var e=j.Object,n=t.exports=function(t,n){return e.getOwnPropertyDescriptor(t,n)};e.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),On={},In=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ln=St("IE_PROTO"),Cn=Object.prototype,jn=In?Object.getPrototypeOf:function(t){return t=Mt(t),b(t,Ln)?t[Ln]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Cn:null},Rn=ae("iterator"),Mn=!1;[].keys&&("next"in(Pn=[].keys())?(Tn=jn(jn(Pn)))!==Object.prototype&&(En=Tn):Mn=!0);var Dn=null==En||i((function(){var t={};return En[Rn].call(t)!==t}));Dn&&(En={}),Dn&&!b(En,Rn)&&U(En,Rn,(function(){return this}));var Nn={IteratorPrototype:En,BUGGY_SAFARI_ITERATORS:Mn},zn=Nn.IteratorPrototype,Un=function(){return this},Fn=function(t,e,n){var r=e+" Iterator";return t.prototype=Ot(zn,{next:l(1,n)}),me(t,r,!1,!0),On[r]=Un,t},Bn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return D(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),qn=Nn.IteratorPrototype,Vn=Nn.BUGGY_SAFARI_ITERATORS,Hn=ae("iterator"),Wn="keys",Yn="values",Xn="entries",Gn=function(){return this},$n=function(t,e,n,r,i,o,a){Fn(n,e,r);var s,c,l,u=function(t){if(t===i&&v)return v;if(!Vn&&t in p)return p[t];switch(t){case Wn:case Yn:case Xn:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,d=p[Hn]||p["@@iterator"]||i&&p[i],v=!Vn&&d||u(i),g="Array"==e&&p.entries||d;if(g&&(s=jn(g.call(new t)),qn!==Object.prototype&&s.next&&(me(s,f,!0,!0),On[f]=Gn)),i==Yn&&d&&d.name!==Yn&&(h=!0,v=function(){return d.call(this)}),a&&p[Hn]!==v&&U(p,Hn,v),On[e]=v,i)if(c={values:u(Yn),keys:o?v:u(Wn),entries:u(Xn)},a)for(l in c)(Vn||h||!(l in p))&&ne(p,l,c[l]);else q({target:e,proto:!0,forced:Vn||h},c);return c},Zn="Array Iterator",Kn=Ce.set,Jn=Ce.getterFor(Zn);$n(Array,"Array",(function(t,e){Kn(this,{type:Zn,target:v(t),index:0,kind:e})}),(function(){var t=Jn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),On.Arguments=On.Array;var Qn=ae("toStringTag");for(var tr in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var er=r[tr],nr=er&&er.prototype;nr&&de(nr)!==Qn&&U(nr,Qn,tr),On[tr]=On.Array}var rr=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))},ir=Ne.forEach,or=rr("forEach")?[].forEach:function(t){return ir(this,t,arguments.length>1?arguments[1]:void 0)};q({target:"Array",proto:!0,forced:[].forEach!=or},{forEach:or});var ar=G("Array").forEach,sr=Array.prototype,cr={DOMTokenList:!0,NodeList:!0},lr=function(t){var e=t.forEach;return t===sr||t instanceof Array&&e===sr.forEach||cr.hasOwnProperty(de(t))?ar:e},ur=Q("Reflect","ownKeys")||function(t){var e=Zt.f(D(t)),n=ee.f;return n?e.concat(n(t)):e},fr=function(t,e,n){var r=y(e);r in t?z.f(t,r,l(0,n)):t[r]=n};q({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=v(t),i=E.f,o=ur(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&fr(a,e,n);return a}});var hr=j.Object.getOwnPropertyDescriptors;q({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:vt});var pr=e((function(t){var e=j.Object,n=t.exports=function(t,n){return e.defineProperties(t,n)};e.defineProperties.sham&&(n.sham=!0)}));q({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:z.f});var dr=e((function(t){var e=j.Object,n=t.exports=function(t,n,r){return e.defineProperty(t,n,r)};e.defineProperty.sham&&(n.sham=!0)})),vr=dr,gr=dr;function yr(t,e,n){return e in t?gr(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),gr(t,r.key,r)}}function wr(t,e,n){return e&&br(t.prototype,e),n&&br(t,n),t}function _r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}q({target:"Object",stat:!0,sham:!o},{create:Ot});var kr=j.Object,xr=function(t,e){return kr.create(t,e)},Sr=xr;q({target:"Object",stat:!0},{setPrototypeOf:Bn});var Er=j.Object.setPrototypeOf;function Tr(t,e){return(Tr=Er||function(t,e){return t.__proto__=e,t})(t,e)}function Pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Sr(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}var Ar=ae("isConcatSpreadable"),Or=9007199254740991,Ir="Maximum allowed index exceeded",Lr=Wt>=51||!i((function(){var t=[];return t[Ar]=!1,t.concat()[0]!==t})),Cr=yn("concat"),jr=function(t){if(!g(t))return!1;var e=t[Ar];return void 0!==e?!!e:Gt(t)};q({target:"Array",proto:!0,forced:!Lr||!Cr},{concat:function(t){var e,n,r,i,o,a=Mt(this),s=Re(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(jr(o=-1===e?a:arguments[e])){if(c+(i=it(o.length))>Or)throw TypeError(Ir);for(n=0;n<i;n++,c++)n in o&&fr(s,c,o[n])}else{if(c>=Or)throw TypeError(Ir);fr(s,c++,o)}return s.length=c,s}}),le("asyncIterator"),le("hasInstance"),le("isConcatSpreadable"),le("iterator"),le("match"),le("matchAll"),le("replace"),le("search"),le("species"),le("split"),le("toPrimitive"),le("toStringTag"),le("unscopables"),me(r.JSON,"JSON",!0);var Rr=j.Symbol;le("asyncDispose"),le("dispose"),le("observable"),le("patternMatch"),le("replaceAll");var Mr=Rr,Dr=function(t){return function(e,n){var r,i,o=String(d(e)),a=nt(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Nr={codeAt:Dr(!1),charAt:Dr(!0)},zr=Nr.charAt,Ur="String Iterator",Fr=Ce.set,Br=Ce.getterFor(Ur);$n(String,"String",(function(t){Fr(this,{type:Ur,string:String(t),index:0})}),(function(){var t,e=Br(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=zr(n,r),e.index+=t.length,{value:t,done:!1})}));var qr=se.f("iterator");function Vr(t){return(Vr="function"==typeof Mr&&"symbol"==typeof qr?function(t){return typeof t}:function(t){return t&&"function"==typeof Mr&&t.constructor===Mr&&t!==Mr.prototype?"symbol":typeof t})(t)}function Hr(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?_r(t):e}var Wr=i((function(){jn(1)}));q({target:"Object",stat:!0,forced:Wr,sham:!In},{getPrototypeOf:function(t){return jn(Mt(t))}});var Yr=j.Object.getPrototypeOf;function Xr(t){return(Xr=Er?Yr:function(t){return t.__proto__||Yr(t)})(t)}function Gr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,function(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}(t,e,"get"))}var $r,Zr,Kr=function(t){return t&&t.Math==Math&&t},Jr=Kr("object"==typeof globalThis&&globalThis)||Kr("object"==typeof window&&window)||Kr("object"==typeof self&&self)||Kr("object"==typeof t&&t)||function(){return this}()||Function("return this")(),Qr=function(t){try{return!!t()}catch(t){return!0}},ti=!Qr((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ei=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ni=Jr.document,ri=ei(ni)&&ei(ni.createElement),ii=function(t){return ri?ni.createElement(t):{}},oi=!ti&&!Qr((function(){return 7!=Object.defineProperty(ii("div"),"a",{get:function(){return 7}}).a})),ai=function(t){if(!ei(t))throw TypeError(String(t)+" is not an object");return t},si=function(t,e){if(!ei(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!ei(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!ei(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!ei(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},ci=Object.defineProperty,li={f:ti?ci:function(t,e,n){if(ai(t),e=si(e,!0),ai(n),oi)try{return ci(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},ui=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},fi=ti?function(t,e,n){return li.f(t,e,ui(1,n))}:function(t,e,n){return t[e]=n,t},hi=function(t,e){try{fi(Jr,t,e)}catch(n){Jr[t]=e}return e},pi="__core-js_shared__",di=Jr[pi]||hi(pi,{}),vi=e((function(t){(t.exports=function(t,e){return di[t]||(di[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),gi={}.hasOwnProperty,yi=function(t,e){return gi.call(t,e)},mi=0,bi=Math.random(),wi=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++mi+bi).toString(36)},_i={}.toString,ki=function(t){return _i.call(t).slice(8,-1)},xi="process"==ki(Jr.process),Si=Jr,Ei=function(t){return"function"==typeof t?t:void 0},Ti=function(t,e){return arguments.length<2?Ei(Si[t])||Ei(Jr[t]):Si[t]&&Si[t][e]||Jr[t]&&Jr[t][e]},Pi=Ti("navigator","userAgent")||"",Ai=Jr.process,Oi=Ai&&Ai.versions,Ii=Oi&&Oi.v8;Ii?Zr=($r=Ii.split("."))[0]+$r[1]:Pi&&(!($r=Pi.match(/Edge\/(\d+)/))||$r[1]>=74)&&($r=Pi.match(/Chrome\/(\d+)/))&&(Zr=$r[1]);var Li=Zr&&+Zr,Ci=!!Object.getOwnPropertySymbols&&!Qr((function(){return!Symbol.sham&&(xi?38===Li:Li>37&&Li<41)})),ji=Ci&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ri=vi("wks"),Mi=Jr.Symbol,Di=ji?Mi:Mi&&Mi.withoutSetter||wi,Ni=function(t){return yi(Ri,t)&&(Ci||"string"==typeof Ri[t])||(Ci&&yi(Mi,t)?Ri[t]=Mi[t]:Ri[t]=Di("Symbol."+t)),Ri[t]},zi={};zi[Ni("toStringTag")]="z";var Ui="[object z]"===String(zi),Fi=Function.toString;"function"!=typeof di.inspectSource&&(di.inspectSource=function(t){return Fi.call(t)});var Bi,qi,Vi,Hi=di.inspectSource,Wi=Jr.WeakMap,Yi="function"==typeof Wi&&/native code/.test(Hi(Wi)),Xi=vi("keys"),Gi=function(t){return Xi[t]||(Xi[t]=wi(t))},$i={},Zi=Jr.WeakMap;if(Yi){var Ki=di.state||(di.state=new Zi),Ji=Ki.get,Qi=Ki.has,to=Ki.set;Bi=function(t,e){return e.facade=t,to.call(Ki,t,e),e},qi=function(t){return Ji.call(Ki,t)||{}},Vi=function(t){return Qi.call(Ki,t)}}else{var eo=Gi("state");$i[eo]=!0,Bi=function(t,e){return e.facade=t,fi(t,eo,e),e},qi=function(t){return yi(t,eo)?t[eo]:{}},Vi=function(t){return yi(t,eo)}}var no={set:Bi,get:qi,has:Vi,enforce:function(t){return Vi(t)?qi(t):Bi(t,{})},getterFor:function(t){return function(e){var n;if(!ei(e)||(n=qi(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ro=e((function(t){var e=no.get,n=no.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a,s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||yi(i,"name")||fi(i,"name",e),(a=n(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==Jr?(s?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:fi(t,e,i)):c?t[e]=i:hi(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Hi(this)}))})),io=Ni("toStringTag"),oo="Arguments"==ki(function(){return arguments}()),ao=Ui?ki:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),io))?n:oo?ki(e):"Object"==(r=ki(e))&&"function"==typeof e.callee?"Arguments":r},so=Ui?{}.toString:function(){return"[object "+ao(this)+"]"};Ui||ro(Object.prototype,"toString",so,{unsafe:!0});var co,lo="".split,uo=Qr((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==ki(t)?lo.call(t,""):Object(t)}:Object,fo=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ho=function(t){return uo(fo(t))},po=Math.ceil,vo=Math.floor,go=function(t){return isNaN(t=+t)?0:(t>0?vo:po)(t)},yo=Math.min,mo=function(t){return t>0?yo(go(t),9007199254740991):0},bo=Math.max,wo=Math.min,_o=function(t){return function(e,n,r){var i,o=ho(e),a=mo(o.length),s=function(t,e){var n=go(t);return n<0?bo(n+e,0):wo(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ko={includes:_o(!0),indexOf:_o(!1)}.indexOf,xo=function(t,e){var n,r=ho(t),i=0,o=[];for(n in r)!yi($i,n)&&yi(r,n)&&o.push(n);for(;e.length>i;)yi(r,n=e[i++])&&(~ko(o,n)||o.push(n));return o},So=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Eo=Object.keys||function(t){return xo(t,So)},To=ti?Object.defineProperties:function(t,e){ai(t);for(var n,r=Eo(e),i=r.length,o=0;i>o;)li.f(t,n=r[o++],e[n]);return t},Po=Ti("document","documentElement"),Ao=Gi("IE_PROTO"),Oo=function(){},Io=function(t){return"<script>"+t+"</"+"script>"},Lo=function(){try{co=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Lo=co?function(t){t.write(Io("")),t.close();var e=t.parentWindow.Object;return t=null,e}(co):((e=ii("iframe")).style.display="none",Po.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Io("document.F=Object")),t.close(),t.F);for(var n=So.length;n--;)delete Lo.prototype[So[n]];return Lo()};$i[Ao]=!0;var Co=Object.create||function(t,e){var n;return null!==t?(Oo.prototype=ai(t),n=new Oo,Oo.prototype=null,n[Ao]=t):n=Lo(),void 0===e?n:To(n,e)},jo=Ni("unscopables"),Ro=Array.prototype;null==Ro[jo]&&li.f(Ro,jo,{configurable:!0,value:Co(null)});var Mo,Do,No,zo=function(t){Ro[jo][t]=!0},Uo={},Fo={}.propertyIsEnumerable,Bo=Object.getOwnPropertyDescriptor,qo={f:Bo&&!Fo.call({1:2},1)?function(t){var e=Bo(this,t);return!!e&&e.enumerable}:Fo},Vo=Object.getOwnPropertyDescriptor,Ho={f:ti?Vo:function(t,e){if(t=ho(t),e=si(e,!0),oi)try{return Vo(t,e)}catch(t){}if(yi(t,e))return ui(!qo.f.call(t,e),t[e])}},Wo=So.concat("length","prototype"),Yo={f:Object.getOwnPropertyNames||function(t){return xo(t,Wo)}},Xo={f:Object.getOwnPropertySymbols},Go=Ti("Reflect","ownKeys")||function(t){var e=Yo.f(ai(t)),n=Xo.f;return n?e.concat(n(t)):e},$o=function(t,e){for(var n=Go(e),r=li.f,i=Ho.f,o=0;o<n.length;o++){var a=n[o];yi(t,a)||r(t,a,i(e,a))}},Zo=/#|\.prototype\./,Ko=function(t,e){var n=Qo[Jo(t)];return n==ea||n!=ta&&("function"==typeof e?Qr(e):!!e)},Jo=Ko.normalize=function(t){return String(t).replace(Zo,".").toLowerCase()},Qo=Ko.data={},ta=Ko.NATIVE="N",ea=Ko.POLYFILL="P",na=Ko,ra=Ho.f,ia=function(t,e){var n,r,i,o,a,s=t.target,c=t.global,l=t.stat;if(n=c?Jr:l?Jr[s]||hi(s,{}):(Jr[s]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=ra(n,r))&&a.value:n[r],!na(c?r:s+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;$o(o,i)}(t.sham||i&&i.sham)&&fi(o,"sham",!0),ro(n,r,o,t)}},oa=function(t){return Object(fo(t))},aa=!Qr((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),sa=Gi("IE_PROTO"),ca=Object.prototype,la=aa?Object.getPrototypeOf:function(t){return t=oa(t),yi(t,sa)?t[sa]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ca:null},ua=Ni("iterator"),fa=!1;[].keys&&("next"in(No=[].keys())?(Do=la(la(No)))!==Object.prototype&&(Mo=Do):fa=!0),(null==Mo||Qr((function(){var t={};return Mo[ua].call(t)!==t})))&&(Mo={}),yi(Mo,ua)||fi(Mo,ua,(function(){return this}));var ha={IteratorPrototype:Mo,BUGGY_SAFARI_ITERATORS:fa},pa=li.f,da=Ni("toStringTag"),va=function(t,e,n){t&&!yi(t=n?t:t.prototype,da)&&pa(t,da,{configurable:!0,value:e})},ga=ha.IteratorPrototype,ya=function(){return this},ma=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ai(n),function(t){if(!ei(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),ba=ha.IteratorPrototype,wa=ha.BUGGY_SAFARI_ITERATORS,_a=Ni("iterator"),ka="keys",xa="values",Sa="entries",Ea=function(){return this},Ta=function(t,e,n,r,i,o,a){!function(t,e,n){var r=e+" Iterator";t.prototype=Co(ga,{next:ui(1,n)}),va(t,r,!1),Uo[r]=ya}(n,e,r);var s,c,l,u=function(t){if(t===i&&v)return v;if(!wa&&t in p)return p[t];switch(t){case ka:case xa:case Sa:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,p=t.prototype,d=p[_a]||p["@@iterator"]||i&&p[i],v=!wa&&d||u(i),g="Array"==e&&p.entries||d;if(g&&(s=la(g.call(new t)),ba!==Object.prototype&&s.next&&(la(s)!==ba&&(ma?ma(s,ba):"function"!=typeof s[_a]&&fi(s,_a,Ea)),va(s,f,!0))),i==xa&&d&&d.name!==xa&&(h=!0,v=function(){return d.call(this)}),p[_a]!==v&&fi(p,_a,v),Uo[e]=v,i)if(c={values:u(xa),keys:o?v:u(ka),entries:u(Sa)},a)for(l in c)(wa||h||!(l in p))&&ro(p,l,c[l]);else ia({target:e,proto:!0,forced:wa||h},c);return c},Pa="Array Iterator",Aa=no.set,Oa=no.getterFor(Pa),Ia=Ta(Array,"Array",(function(t,e){Aa(this,{type:Pa,target:ho(t),index:0,kind:e})}),(function(){var t=Oa(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Uo.Arguments=Uo.Array,zo("keys"),zo("values"),zo("entries");var La={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ca=Ni("iterator"),ja=Ni("toStringTag"),Ra=Ia.values;for(var Ma in La){var Da=Jr[Ma],Na=Da&&Da.prototype;if(Na){if(Na[Ca]!==Ra)try{fi(Na,Ca,Ra)}catch(yp){Na[Ca]=Ra}if(Na[ja]||fi(Na,ja,Ma),La[Ma])for(var za in Ia)if(Na[za]!==Ia[za])try{fi(Na,za,Ia[za])}catch(yp){Na[za]=Ia[za]}}}var Ua=G("Array").concat,Fa=Array.prototype,Ba=function(t){var e=t.concat;return t===Fa||t instanceof Array&&e===Fa.concat?Ua:e},qa=lt.includes;q({target:"Array",proto:!0},{includes:function(t){return qa(this,t,arguments.length>1?arguments[1]:void 0)}});var Va=G("Array").includes,Ha=ae("match"),Wa=function(t){if(function(t){var e;return g(t)&&(void 0!==(e=t[Ha])?!!e:"RegExp"==f(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Ya=ae("match");q({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ya]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(d(this)).indexOf(Wa(t),arguments.length>1?arguments[1]:void 0)}});var Xa=G("String").includes,Ga=Array.prototype,$a=String.prototype,Za=function(t){var e=t.includes;return t===Ga||t instanceof Array&&e===Ga.includes?Va:"string"==typeof t||t===$a||t instanceof String&&e===$a.includes?Xa:e},Ka=G("Array").keys,Ja=Array.prototype,Qa={DOMTokenList:!0,NodeList:!0},ts=function(t){var e=t.keys;return t===Ja||t instanceof Array&&e===Ja.keys||Qa.hasOwnProperty(de(t))?Ka:e},es=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:ne(t,r,e[r],n);return t},ns=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),rs=e((function(t){var e=z.f,n=kt("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!g(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!b(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!b(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return ns&&a.REQUIRED&&i(t)&&!b(t,n)&&o(t),t}};ut[n]=!0})),is=ae("iterator"),os=Array.prototype,as=function(t){return void 0!==t&&(On.Array===t||os[is]===t)},ss=ae("iterator"),cs=function(t){if(null!=t)return t[ss]||t["@@iterator"]||On[de(t)]},ls=function(t){var e=t.return;if(void 0!==e)return D(e.call(t)).value},us=function(t,e){this.stopped=t,this.result=e},fs=function(t,e,n){var r,i,o,a,s,c,l,u=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),d=M(e,u,1+f+p),v=function(t){return r&&ls(r),new us(!0,t)},g=function(t){return f?(D(t),p?d(t[0],t[1],v):d(t[0],t[1])):p?d(t,v):d(t)};if(h)r=t;else{if("function"!=typeof(i=cs(t)))throw TypeError("Target is not iterable");if(as(i)){for(o=0,a=it(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof us)return s;return new us(!1)}r=i.call(t)}for(c=r.next;!(l=c.call(r)).done;){try{s=g(l.value)}catch(t){throw ls(r),t}if("object"==typeof s&&s&&s instanceof us)return s}return new us(!1)},hs=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},ps=z.f,ds=Ne.forEach,vs=Ce.set,gs=Ce.getterFor,ys=rs.getWeakData,ms=Ce.set,bs=Ce.getterFor,ws=Ne.find,_s=Ne.findIndex,ks=0,xs=function(t){return t.frozen||(t.frozen=new Ss)},Ss=function(){this.entries=[]},Es=function(t,e){return ws(t.entries,(function(t){return t[0]===e}))};Ss.prototype={get:function(t){var e=Es(this,t);if(e)return e[1]},has:function(t){return!!Es(this,t)},set:function(t,e){var n=Es(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=_s(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var Ts={getConstructor:function(t,e,n,r){var i=t((function(t,o){hs(t,i,e),ms(t,{type:e,id:ks++,frozen:void 0}),null!=o&&fs(o,t[r],{that:t,AS_ENTRIES:n})})),o=bs(e),a=function(t,e,n){var r=o(t),i=ys(D(e),!0);return!0===i?xs(r).set(e,n):i[r.id]=n,t};return es(i.prototype,{delete:function(t){var e=o(this);if(!g(t))return!1;var n=ys(t);return!0===n?xs(e).delete(t):n&&b(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!g(t))return!1;var n=ys(t);return!0===n?xs(e).has(t):n&&b(n,e.id)}}),es(i.prototype,n?{get:function(t){var e=o(this);if(g(t)){var n=ys(t);return!0===n?xs(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}};e((function(t){var e,n=Ce.enforce,a=!r.ActiveXObject&&"ActiveXObject"in r,s=Object.isExtensible,c=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},l=t.exports=function(t,e,n){var a,s=-1!==t.indexOf("Map"),c=-1!==t.indexOf("Weak"),l=s?"set":"add",u=r[t],f=u&&u.prototype,h={};if(o&&"function"==typeof u&&(c||f.forEach&&!i((function(){(new u).entries().next()})))){a=e((function(e,n){vs(hs(e,a,t),{type:t,collection:new u}),null!=n&&fs(n,e[l],{that:e,AS_ENTRIES:s})}));var p=gs(t);ds(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in f)||c&&"clear"==t||U(a.prototype,t,(function(n,r){var i=p(this).collection;if(!e&&c&&!g(n))return"get"==t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),c||ps(a.prototype,"size",{configurable:!0,get:function(){return p(this).collection.size}})}else a=n.getConstructor(e,t,s,l),rs.REQUIRED=!0;return me(a,t,!1,!0),h[t]=a,q({global:!0,forced:!0},h),c||n.setStrong(a,t,s),a}("WeakMap",c,Ts);if(Ee&&a){e=Ts.getConstructor(c,"WeakMap",!0),rs.REQUIRED=!0;var u=l.prototype,f=u.delete,h=u.has,p=u.get,d=u.set;es(u,{delete:function(t){if(g(t)&&!s(t)){var r=n(this);return r.frozen||(r.frozen=new e),f.call(this,t)||r.frozen.delete(t)}return f.call(this,t)},has:function(t){if(g(t)&&!s(t)){var r=n(this);return r.frozen||(r.frozen=new e),h.call(this,t)||r.frozen.has(t)}return h.call(this,t)},get:function(t){if(g(t)&&!s(t)){var r=n(this);return r.frozen||(r.frozen=new e),h.call(this,t)?p.call(this,t):r.frozen.get(t)}return p.call(this,t)},set:function(t,r){if(g(t)&&!s(t)){var i=n(this);i.frozen||(i.frozen=new e),h.call(this,t)?d.call(this,t,r):i.frozen.set(t,r)}else d.call(this,t,r);return this}})}}));var Ps=j.WeakMap,As=e((function(t){var e=function(){};e.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(t){for(var n=["bind","unbind","trigger"],r=0;r<n.length;r++)t.prototype[n[r]]=e.prototype[n[r]]},"exports"in t&&(t.exports=e)})),Os="https://wolf-api.tjek.com/sync",Is=Object.freeze({__proto__:null,coreUrl:"https://squid-api.tjek.com",eventsTrackUrl:Os});function Ls(t,e){var n=Ut(t);if(vn){var r=vn(t);e&&(r=kn(r).call(r,(function(e){return An(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)lr(n=Ls(Object(r),!0)).call(n,(function(e){yr(t,e,r[e])}));else if(hr)pr(t,hr(r));else{var i;lr(i=Ls(Object(r))).call(i,(function(e){vr(t,e,An(r,e))}))}}return t}function js(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Rs=new Ps,Ms=function(t){Pr(n,t);var e=js(n);function n(){var t,r;mr(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,Ba(t=[this]).call(t,o)),Rs.set(_r(r),{writable:!0,value:Cs({},Is)}),r}return wr(n,[{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var n in t){var r;"appKey"===n&&(n="apiKey");var i=t[n];Za(r=ts(this)).call(r,n)&&(Gr(this,Rs)[n]=i,e[n]=i)}this.trigger("change",e)}},{key:"get",value:function(t){return"appKey"===t&&(t="apiKey"),Gr(this,Rs)[t]}}]),n}(As);Ms.prototype.keys=["appVersion","apiKey","authToken","eventTracker","coreUrl","eventsTrackUrl"];var Ds=function(){var t=ai(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Ns(t,e){return RegExp(t,e)}var zs={UNSUPPORTED_Y:Qr((function(){var t=Ns("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:Qr((function(){var t=Ns("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Us=RegExp.prototype.exec,Fs=String.prototype.replace,Bs=Us,qs=function(){var t=/a/,e=/b*/g;return Us.call(t,"a"),Us.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Vs=zs.UNSUPPORTED_Y||zs.BROKEN_CARET,Hs=void 0!==/()??/.exec("")[1];(qs||Hs||Vs)&&(Bs=function(t){var e,n,r,i,o=this,a=Vs&&o.sticky,s=Ds.call(o),c=o.source,l=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),n=new RegExp("^(?:"+c+")",s)),Hs&&(n=new RegExp("^"+c+"$(?!\\s)",s)),qs&&(e=o.lastIndex),r=Us.call(a?n:o,u),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:qs&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Hs&&r&&r.length>1&&Fs.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Ws=Bs;ia({target:"RegExp",proto:!0,forced:/./.exec!==Ws},{exec:Ws});var Ys=Ni("species"),Xs=!Qr((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Gs="$0"==="a".replace(/./,"$0"),$s=Ni("replace"),Zs=!!/./[$s]&&""===/./[$s]("a","$0"),Ks=!Qr((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Js=function(t,e,n,r){var i=Ni(t),o=!Qr((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!Qr((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Ys]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||"replace"===t&&(!Xs||!Gs||Zs)||"split"===t&&!Ks){var s=/./[i],c=n(i,""[t],(function(t,e,n,r,i){return e.exec===Ws?o&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Gs,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Zs}),l=c[0],u=c[1];ro(String.prototype,t,l),ro(RegExp.prototype,i,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}r&&fi(RegExp.prototype[i],"sham",!0)},Qs=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},tc=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==ki(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ws.call(t,e)};Js("search",1,(function(t,e,n){return[function(e){var n=fo(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=ai(t),o=String(this),a=i.lastIndex;Qs(a,0)||(i.lastIndex=0);var s=tc(i,o);return Qs(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var ec="toString",nc=RegExp.prototype,rc=nc.toString,ic=Qr((function(){return"/a/b"!=rc.call({source:"a",flags:"b"})})),oc=rc.name!=ec;(ic||oc)&&ro(RegExp.prototype,ec,(function(){var t=ai(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in nc)?Ds.call(t):n)}),{unsafe:!0});var ac=ae("iterator"),sc=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[ac]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),cc=Object.assign,lc=Object.defineProperty,uc=!cc||i((function(){if(o&&1!==cc({b:1},cc(lc({},"a",{enumerable:!0,get:function(){lc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=cc({},t)[n]||dt(cc({},e)).join("")!=r}))?function(t,e){for(var n=Mt(t),r=arguments.length,i=1,a=ee.f,s=c.f;r>i;)for(var l,u=p(arguments[i++]),f=a?dt(u).concat(a(u)):dt(u),h=f.length,d=0;h>d;)l=f[d++],o&&!s.call(u,l)||(n[l]=u[l]);return n}:cc,fc=function(t,e,n,r){try{return r?e(D(n)[0],n[1]):e(n)}catch(e){throw ls(t),e}},hc=function(t){var e,n,r,i,o,a,s=Mt(t),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,f=void 0!==u,h=cs(s),p=0;if(f&&(u=M(u,l>2?arguments[2]:void 0,2)),null==h||c==Array&&as(h))for(n=new c(e=it(s.length));e>p;p++)a=f?u(s[p],p):s[p],fr(n,p,a);else for(o=(i=h.call(s)).next,n=new c;!(r=o.call(i)).done;p++)a=f?fc(i,u,[r.value,p],!0):r.value,fr(n,p,a);return n.length=p,n},pc=2147483647,dc=/[^\0-\u007E]/,vc=/[.\u3002\uFF0E\uFF61]/g,gc="Overflow: input needs wider integers to process",yc=Math.floor,mc=String.fromCharCode,bc=function(t){return t+22+75*(t<26)},wc=function(t,e,n){var r=0;for(t=n?yc(t/700):t>>1,t+=yc(t/e);t>455;r+=36)t=yc(t/35);return yc(r+36*t/(t+38))},_c=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(mc(n));var c=r.length,l=c;for(c&&r.push("-");l<i;){var u=pc;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<u&&(u=n);var f=l+1;if(u-o>yc((pc-a)/f))throw RangeError(gc);for(a+=(u-o)*f,o=u,e=0;e<t.length;e++){if((n=t[e])<o&&++a>pc)throw RangeError(gc);if(n==o){for(var h=a,p=36;;p+=36){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var v=h-d,g=36-d;r.push(mc(bc(d+v%g))),h=yc(v/g)}r.push(mc(bc(h))),s=wc(a,f,l==c),a=0,++l}}++a,++o}return r.join("")},kc=function(t){var e=cs(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return D(e.call(t))},xc=Q("fetch"),Sc=Q("Headers"),Ec=ae("iterator"),Tc="URLSearchParams",Pc="URLSearchParamsIterator",Ac=Ce.set,Oc=Ce.getterFor(Tc),Ic=Ce.getterFor(Pc),Lc=/\+/g,Cc=Array(4),jc=function(t){return Cc[t-1]||(Cc[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},Rc=function(t){try{return decodeURIComponent(t)}catch(e){return t}},Mc=function(t){var e=t.replace(Lc," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(jc(n--),Rc);return e}},Dc=/[!'()~]|%20/g,Nc={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},zc=function(t){return Nc[t]},Uc=function(t){return encodeURIComponent(t).replace(Dc,zc)},Fc=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:Mc(r.shift()),value:Mc(r.join("="))}))},Bc=function(t){this.entries.length=0,Fc(this.entries,t)},qc=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Vc=Fn((function(t,e){Ac(this,{type:Pc,iterator:kc(Oc(t).entries),kind:e})}),"Iterator",(function(){var t=Ic(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Hc=function(){hs(this,Hc,Tc);var t,e,n,r,i,o,a,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(Ac(u,{type:Tc,entries:f,updateURL:function(){},updateSearchParams:Bc}),void 0!==l)if(g(l))if("function"==typeof(t=cs(l)))for(n=(e=t.call(l)).next;!(r=n.call(e)).done;){if((a=(o=(i=kc(D(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in l)b(l,c)&&f.push({key:c,value:l[c]+""});else Fc(f,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},Wc=Hc.prototype;es(Wc,{append:function(t,e){qc(arguments.length,2);var n=Oc(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){qc(arguments.length,1);for(var e=Oc(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){qc(arguments.length,1);for(var e=Oc(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){qc(arguments.length,1);for(var e=Oc(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){qc(arguments.length,1);for(var e=Oc(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){qc(arguments.length,1);for(var n,r=Oc(this),i=r.entries,o=!1,a=t+"",s=e+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=Oc(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=Oc(this).entries,r=M(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Vc(this,"keys")},values:function(){return new Vc(this,"values")},entries:function(){return new Vc(this,"entries")}},{enumerable:!0}),ne(Wc,Ec,Wc.entries),ne(Wc,"toString",(function(){for(var t,e=Oc(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(Uc(t.key)+"="+Uc(t.value));return n.join("&")}),{enumerable:!0}),me(Hc,Tc),q({global:!0,forced:!sc},{URLSearchParams:Hc}),sc||"function"!=typeof xc||"function"!=typeof Sc||q({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,de(n)===Tc&&((r=e.headers?new Sc(e.headers):new Sc).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Ot(e,{body:l(0,String(n)),headers:l(0,r)}))),i.push(e)),xc.apply(this,i)}});var Yc,Xc={URLSearchParams:Hc,getState:Oc},Gc=Nr.codeAt,$c=r.URL,Zc=Xc.URLSearchParams,Kc=Xc.getState,Jc=Ce.set,Qc=Ce.getterFor("URL"),tl=Math.floor,el=Math.pow,nl="Invalid scheme",rl="Invalid host",il="Invalid port",ol=/[A-Za-z]/,al=/[\d+-.A-Za-z]/,sl=/\d/,cl=/^(0x|0X)/,ll=/^[0-7]+$/,ul=/^\d+$/,fl=/^[\dA-Fa-f]+$/,hl=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,pl=/[\u0000\t\u000A\u000D #/:?@[\\]]/,dl=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,vl=/[\t\u000A\u000D]/g,gl=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return rl;if(!(n=ml(e.slice(1,-1))))return rl;t.host=n}else if(Tl(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(vc,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(dc.test(n)?"xn--"+_c(n):n);return r.join(".")}(e),hl.test(e))return rl;if(null===(n=yl(e)))return rl;t.host=n}else{if(pl.test(e))return rl;for(n="",r=hc(e),i=0;i<r.length;i++)n+=Sl(r[i],wl);t.host=n}},yl=function(t){var e,n,r,i,o,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=cl.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?ul:8==o?ll:fl).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=el(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*el(256,3-r);return s},ml=function(t){var e,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&fl.test(h());)e=16*e+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!sl.test(h()))return;for(;sl.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[l++]=e}else{if(null!==u)return;f++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c},bl=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=tl(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},wl={},_l=uc({},wl,{" ":1,'"':1,"<":1,">":1,"`":1}),kl=uc({},_l,{"#":1,"?":1,"{":1,"}":1}),xl=uc({},kl,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Sl=function(t,e){var n=Gc(t,0);return n>32&&n<127&&!b(e,t)?t:encodeURIComponent(t)},El={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Tl=function(t){return b(El,t.scheme)},Pl=function(t){return""!=t.username||""!=t.password},Al=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Ol=function(t,e){var n;return 2==t.length&&ol.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Il=function(t){var e;return t.length>1&&Ol(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Ll=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Ol(e[0],!0)||e.pop()},Cl=function(t){return"."===t||"%2e"===t.toLowerCase()},jl={},Rl={},Ml={},Dl={},Nl={},zl={},Ul={},Fl={},Bl={},ql={},Vl={},Hl={},Wl={},Yl={},Xl={},Gl={},$l={},Zl={},Kl={},Jl={},Ql={},tu=function(t,e,n,r){var i,o,a,s,c,l=n||jl,u=0,f="",h=!1,p=!1,d=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(dl,"")),e=e.replace(vl,""),i=hc(e);u<=i.length;){switch(o=i[u],l){case jl:if(!o||!ol.test(o)){if(n)return nl;l=Ml;continue}f+=o.toLowerCase(),l=Rl;break;case Rl:if(o&&(al.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return nl;f="",l=Ml,u=0;continue}if(n&&(Tl(t)!=b(El,f)||"file"==f&&(Pl(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(Tl(t)&&El[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?l=Yl:Tl(t)&&r&&r.scheme==t.scheme?l=Dl:Tl(t)?l=Fl:"/"==i[u+1]?(l=Nl,u++):(t.cannotBeABaseURL=!0,t.path.push(""),l=Kl)}break;case Ml:if(!r||r.cannotBeABaseURL&&"#"!=o)return nl;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=Ql;break}l="file"==r.scheme?Yl:zl;continue;case Dl:if("/"!=o||"/"!=i[u+1]){l=zl;continue}l=Bl,u++;break;case Nl:if("/"==o){l=ql;break}l=Zl;continue;case zl:if(t.scheme=r.scheme,o==Yc)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Tl(t))l=Ul;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=Jl;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=Zl;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Ql}break;case Ul:if(!Tl(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=Zl;continue}l=ql}else l=Bl;break;case Fl:if(l=Bl,"/"!=o||"/"!=f.charAt(u+1))continue;u++;break;case Bl:if("/"!=o&&"\\"!=o){l=ql;continue}break;case ql:if("@"==o){h&&(f="%40"+f),h=!0,a=hc(f);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||d){var y=Sl(g,xl);d?t.password+=y:t.username+=y}else d=!0}f=""}else if(o==Yc||"/"==o||"?"==o||"#"==o||"\\"==o&&Tl(t)){if(h&&""==f)return"Invalid authority";u-=hc(f).length+1,f="",l=Vl}else f+=o;break;case Vl:case Hl:if(n&&"file"==t.scheme){l=Gl;continue}if(":"!=o||p){if(o==Yc||"/"==o||"?"==o||"#"==o||"\\"==o&&Tl(t)){if(Tl(t)&&""==f)return rl;if(n&&""==f&&(Pl(t)||null!==t.port))return;if(s=gl(t,f))return s;if(f="",l=$l,n)return;continue}"["==o?p=!0:"]"==o&&(p=!1),f+=o}else{if(""==f)return rl;if(s=gl(t,f))return s;if(f="",l=Wl,n==Hl)return}break;case Wl:if(!sl.test(o)){if(o==Yc||"/"==o||"?"==o||"#"==o||"\\"==o&&Tl(t)||n){if(""!=f){var m=parseInt(f,10);if(m>65535)return il;t.port=Tl(t)&&m===El[t.scheme]?null:m,f=""}if(n)return;l=$l;continue}return il}f+=o;break;case Yl:if(t.scheme="file","/"==o||"\\"==o)l=Xl;else{if(!r||"file"!=r.scheme){l=Zl;continue}if(o==Yc)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",l=Jl;else{if("#"!=o){Il(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),Ll(t)),l=Zl;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Ql}}break;case Xl:if("/"==o||"\\"==o){l=Gl;break}r&&"file"==r.scheme&&!Il(i.slice(u).join(""))&&(Ol(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=Zl;continue;case Gl:if(o==Yc||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Ol(f))l=Zl;else if(""==f){if(t.host="",n)return;l=$l}else{if(s=gl(t,f))return s;if("localhost"==t.host&&(t.host=""),n)return;f="",l=$l}continue}f+=o;break;case $l:if(Tl(t)){if(l=Zl,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Yc&&(l=Zl,"/"!=o))continue}else t.fragment="",l=Ql;else t.query="",l=Jl;break;case Zl:if(o==Yc||"/"==o||"\\"==o&&Tl(t)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Ll(t),"/"==o||"\\"==o&&Tl(t)||t.path.push("")):Cl(f)?"/"==o||"\\"==o&&Tl(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Ol(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(o==Yc||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",l=Jl):"#"==o&&(t.fragment="",l=Ql)}else f+=Sl(o,kl);break;case Kl:"?"==o?(t.query="",l=Jl):"#"==o?(t.fragment="",l=Ql):o!=Yc&&(t.path[0]+=Sl(o,wl));break;case Jl:n||"#"!=o?o!=Yc&&("'"==o&&Tl(t)?t.query+="%27":t.query+="#"==o?"%23":Sl(o,wl)):(t.fragment="",l=Ql);break;case Ql:o!=Yc&&(t.fragment+=Sl(o,_l))}u++}},eu=function(t){var e,n,r=hs(this,eu,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=Jc(r,{type:"URL"});if(void 0!==i)if(i instanceof eu)e=Qc(i);else if(n=tu(e={},String(i)))throw TypeError(n);if(n=tu(s,a,null,e))throw TypeError(n);var c=s.searchParams=new Zc,l=Kc(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},o||(r.href=ru.call(r),r.origin=iu.call(r),r.protocol=ou.call(r),r.username=au.call(r),r.password=su.call(r),r.host=cu.call(r),r.hostname=lu.call(r),r.port=uu.call(r),r.pathname=fu.call(r),r.search=hu.call(r),r.searchParams=pu.call(r),r.hash=du.call(r))},nu=eu.prototype,ru=function(){var t=Qc(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==i?(l+="//",Pl(t)&&(l+=n+(r?":"+r:"")+"@"),l+=bl(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},iu=function(){var t=Qc(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Tl(t)?e+"://"+bl(t.host)+(null!==n?":"+n:""):"null"},ou=function(){return Qc(this).scheme+":"},au=function(){return Qc(this).username},su=function(){return Qc(this).password},cu=function(){var t=Qc(this),e=t.host,n=t.port;return null===e?"":null===n?bl(e):bl(e)+":"+n},lu=function(){var t=Qc(this).host;return null===t?"":bl(t)},uu=function(){var t=Qc(this).port;return null===t?"":String(t)},fu=function(){var t=Qc(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},hu=function(){var t=Qc(this).query;return t?"?"+t:""},pu=function(){return Qc(this).searchParams},du=function(){var t=Qc(this).fragment;return t?"#"+t:""},vu=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&vt(nu,{href:vu(ru,(function(t){var e=Qc(this),n=String(t),r=tu(e,n);if(r)throw TypeError(r);Kc(e.searchParams).updateSearchParams(e.query)})),origin:vu(iu),protocol:vu(ou,(function(t){var e=Qc(this);tu(e,String(t)+":",jl)})),username:vu(au,(function(t){var e=Qc(this),n=hc(String(t));if(!Al(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Sl(n[r],xl)}})),password:vu(su,(function(t){var e=Qc(this),n=hc(String(t));if(!Al(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Sl(n[r],xl)}})),host:vu(cu,(function(t){var e=Qc(this);e.cannotBeABaseURL||tu(e,String(t),Vl)})),hostname:vu(lu,(function(t){var e=Qc(this);e.cannotBeABaseURL||tu(e,String(t),Hl)})),port:vu(uu,(function(t){var e=Qc(this);Al(e)||(""==(t=String(t))?e.port=null:tu(e,t,Wl))})),pathname:vu(fu,(function(t){var e=Qc(this);e.cannotBeABaseURL||(e.path=[],tu(e,t+"",$l))})),search:vu(hu,(function(t){var e=Qc(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",tu(e,t,Jl)),Kc(e.searchParams).updateSearchParams(e.query)})),searchParams:vu(pu),hash:vu(du,(function(t){var e=Qc(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",tu(e,t,Ql)):e.fragment=null}))}),ne(nu,"toJSON",(function(){return ru.call(this)}),{enumerable:!0}),ne(nu,"toString",(function(){return ru.call(this)}),{enumerable:!0}),$c){var gu=$c.createObjectURL,yu=$c.revokeObjectURL;gu&&ne(eu,"createObjectURL",(function(t){return gu.apply($c,arguments)})),yu&&ne(eu,"revokeObjectURL",(function(t){return yu.apply($c,arguments)}))}me(eu,"URL"),q({global:!0,forced:!sc,sham:!o},{URL:eu});var mu=j.URL,bu=j.URLSearchParams,wu=e((function(e,n){var r=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!=typeof self?self:t);!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=l(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[l(t)]},h.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},h.prototype.set=function(t,e){this.map[l(t)]=u(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];_.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,o){var a=new b(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=h,t.Request=b,t.Response=_),e.Headers=h,e.Request=b,e.Response=_,e.fetch=x}({})}(r),delete r.fetch.polyfill,(n=r.fetch).default=r.fetch,n.fetch=r.fetch,n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response,e.exports=n})),_u=lt.indexOf,ku=[].indexOf,xu=!!ku&&1/[1].indexOf(1,-0)<0,Su=rr("indexOf");q({target:"Array",proto:!0,forced:xu||!Su},{indexOf:function(t){return xu?ku.apply(this,arguments)||0:_u(this,t,arguments.length>1?arguments[1]:void 0)}});var Eu=G("Array").indexOf,Tu=Array.prototype,Pu=function(t){var e=t.indexOf;return t===Tu||t instanceof Array&&e===Tu.indexOf?Eu:e},Au=Math.min,Ou=[].lastIndexOf,Iu=!!Ou&&1/[1].lastIndexOf(1,-0)<0,Lu=rr("lastIndexOf"),Cu=Iu||!Lu?function(t){if(Iu)return Ou.apply(this,arguments)||0;var e=v(this),n=it(e.length),r=n-1;for(arguments.length>1&&(r=Au(r,nt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:Ou;q({target:"Array",proto:!0,forced:Cu!==[].lastIndexOf},{lastIndexOf:Cu});var ju=G("Array").lastIndexOf,Ru=Array.prototype,Mu=function(t){var e=t.lastIndexOf;return t===Ru||t instanceof Array&&e===Ru.lastIndexOf?ju:e},Du="\t\n\v\f\r                　\u2028\u2029\ufeff",Nu="["+Du+"]",zu=RegExp("^"+Nu+Nu+"*"),Uu=RegExp(Nu+Nu+"*$"),Fu=function(t){return function(e){var n=String(d(e));return 1&t&&(n=n.replace(zu,"")),2&t&&(n=n.replace(Uu,"")),n}},Bu={start:Fu(1),end:Fu(2),trim:Fu(3)},qu=Bu.trim,Vu=r.parseInt,Hu=/^[+-]?0[Xx]/,Wu=8!==Vu(Du+"08")||22!==Vu(Du+"0x16")?function(t,e){var n=qu(String(t));return Vu(n,e>>>0||(Hu.test(n)?16:10))}:Vu;q({global:!0,forced:parseInt!=Wu},{parseInt:Wu});var Yu=j.parseInt,Xu=yn("splice"),Gu=Math.max,$u=Math.min,Zu=9007199254740991,Ku="Maximum allowed length exceeded";q({target:"Array",proto:!0,forced:!Xu},{splice:function(t,e){var n,r,i,o,a,s,c=Mt(this),l=it(c.length),u=st(t,l),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=l-u):(n=f-2,r=$u(Gu(nt(e),0),l-u)),l+n-r>Zu)throw TypeError(Ku);for(i=Re(c,r),o=0;o<r;o++)(a=u+o)in c&&fr(i,o,c[a]);if(i.length=r,n<r){for(o=u;o<l-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=l;o>l-r+n;o--)delete c[o-1]}else if(n>r)for(o=l-r;o>u;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+u]=arguments[o+2];return c.length=l-r+n,i}});var Ju=G("Array").splice,Qu=Array.prototype,tf=function(t){var e=t.splice;return t===Qu||t instanceof Array&&e===Qu.splice?Ju:e},ef=[].slice,nf=/MSIE .\./.test(Bt),rf=function(t){return function(e,n){var r=arguments.length>2,i=r?ef.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};q({global:!0,bind:!0,forced:nf},{setTimeout:rf(r.setTimeout),setInterval:rf(r.setInterval)});var of=j.setTimeout,af=function(t,e){var n=this;if(!(n instanceof af))return new af(t,e);Bn&&(n=Bn(new Error(void 0),jn(n))),void 0!==e&&U(n,"message",String(e));var r=[];return fs(t,r.push,{that:r}),U(n,"errors",r),n};af.prototype=Ot(Error.prototype,{constructor:l(5,af),message:l(5,""),name:l(5,"AggregateError")}),q({global:!0},{AggregateError:af});var sf=r.Promise,cf=ae("species"),lf=ae("iterator"),uf=!1;try{var ff=0,hf={next:function(){return{done:!!ff++}},return:function(){uf=!0}};hf[lf]=function(){return this},Array.from(hf,(function(){throw 2}))}catch(yp){}var pf,df,vf,gf=function(t,e){if(!e&&!uf)return!1;var n=!1;try{var r={};r[lf]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},yf=ae("species"),mf=function(t,e){var n,r=D(t).constructor;return void 0===r||null==(n=D(r)[yf])?e:R(n)},bf=/(iphone|ipod|ipad).*applewebkit/i.test(Bt),wf=r.location,_f=r.setImmediate,kf=r.clearImmediate,xf=r.process,Sf=r.MessageChannel,Ef=r.Dispatch,Tf=0,Pf={},Af="onreadystatechange",Of=function(t){if(Pf.hasOwnProperty(t)){var e=Pf[t];delete Pf[t],e()}},If=function(t){return function(){Of(t)}},Lf=function(t){Of(t.data)},Cf=function(t){r.postMessage(t+"",wf.protocol+"//"+wf.host)};_f&&kf||(_f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Pf[++Tf]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},pf(Tf),Tf},kf=function(t){delete Pf[t]},Ft?pf=function(t){xf.nextTick(If(t))}:Ef&&Ef.now?pf=function(t){Ef.now(If(t))}:Sf&&!bf?(vf=(df=new Sf).port2,df.port1.onmessage=Lf,pf=M(vf.postMessage,vf,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&wf&&"file:"!==wf.protocol&&!i(Cf)?(pf=Cf,r.addEventListener("message",Lf,!1)):pf=Af in k("script")?function(t){gt.appendChild(k("script")).onreadystatechange=function(){gt.removeChild(this),Of(t)}}:function(t){setTimeout(If(t),0)});var jf,Rf,Mf,Df,Nf,zf,Uf,Ff,Bf={set:_f,clear:kf},qf=/web0s(?!.*chrome)/i.test(Bt),Vf=E.f,Hf=Bf.set,Wf=r.MutationObserver||r.WebKitMutationObserver,Yf=r.document,Xf=r.process,Gf=r.Promise,$f=Vf(r,"queueMicrotask"),Zf=$f&&$f.value;Zf||(jf=function(){var t,e;for(Ft&&(t=Xf.domain)&&t.exit();Rf;){e=Rf.fn,Rf=Rf.next;try{e()}catch(t){throw Rf?Df():Mf=void 0,t}}Mf=void 0,t&&t.enter()},bf||Ft||qf||!Wf||!Yf?Gf&&Gf.resolve?(Uf=Gf.resolve(void 0),Ff=Uf.then,Df=function(){Ff.call(Uf,jf)}):Df=Ft?function(){Xf.nextTick(jf)}:function(){Hf.call(r,jf)}:(Nf=!0,zf=Yf.createTextNode(""),new Wf(jf).observe(zf,{characterData:!0}),Df=function(){zf.data=Nf=!Nf}));var Kf=Zf||function(t){var e={fn:t,next:void 0};Mf&&(Mf.next=e),Rf||(Rf=e,Df()),Mf=e},Jf=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=R(e),this.reject=R(n)},Qf={f:function(t){return new Jf(t)}},th=function(t,e){if(D(t),g(e)&&e.constructor===t)return e;var n=Qf.f(t);return(0,n.resolve)(e),n.promise},eh=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},nh=Bf.set,rh=ae("species"),ih="Promise",oh=Ce.get,ah=Ce.set,sh=Ce.getterFor(ih),ch=sf,lh=r.TypeError,uh=r.document,fh=r.process;Q("fetch");var hh,ph,dh,vh=Qf.f,gh=vh,yh=!!(uh&&uh.createEvent&&r.dispatchEvent),mh="function"==typeof PromiseRejectionEvent,bh="unhandledrejection",wh=C(ih,(function(){if(!(xe(ch)!==String(ch))){if(66===Wt)return!0;if(!Ft&&!mh)return!0}if(!ch.prototype.finally)return!0;if(Wt>=51&&/native code/.test(ch))return!1;var t=ch.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[rh]=e,!(t.then((function(){}))instanceof e)})),_h=wh||!gf((function(t){ch.all(t).catch((function(){}))})),kh=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},xh=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Kf((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=i?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{u?(i||(2===t.rejection&&Ph(t),t.rejection=1),!0===u?a=r:(p&&p.enter(),a=u(r),p&&(p.exit(),c=!0)),a===l.promise?h(lh("Promise-chain cycle")):(s=kh(a))?s.call(a,f,h):f(a)):h(r)}catch(t){p&&!c&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Eh(t)}))}},Sh=function(t,e,n){var i,o;yh?((i=uh.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!mh&&(o=r["on"+t])?o(i):t===bh&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Eh=function(t){nh.call(r,(function(){var e,n=t.facade,r=t.value;if(Th(t)&&(e=eh((function(){Ft?fh.emit("unhandledRejection",r,n):Sh(bh,n,r)})),t.rejection=Ft||Th(t)?2:1,e.error))throw e.value}))},Th=function(t){return 1!==t.rejection&&!t.parent},Ph=function(t){nh.call(r,(function(){var e=t.facade;Ft?fh.emit("rejectionHandled",e):Sh("rejectionhandled",e,t.value)}))},Ah=function(t,e,n){return function(r){t(e,r,n)}},Oh=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,xh(t,!0))},Ih=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw lh("Promise can't be resolved itself");var r=kh(e);r?Kf((function(){var n={done:!1};try{r.call(e,Ah(Ih,n,t),Ah(Oh,n,t))}catch(e){Oh(n,e,t)}})):(t.value=e,t.state=1,xh(t,!1))}catch(e){Oh({done:!1},e,t)}}};wh&&(ch=function(t){hs(this,ch,ih),R(t),hh.call(this);var e=oh(this);try{t(Ah(Ih,e),Ah(Oh,e))}catch(t){Oh(e,t)}},(hh=function(t){ah(this,{type:ih,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=es(ch.prototype,{then:function(t,e){var n=sh(this),r=vh(mf(this,ch));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Ft?fh.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&xh(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),ph=function(){var t=new hh,e=oh(t);this.promise=t,this.resolve=Ah(Ih,e),this.reject=Ah(Oh,e)},Qf.f=vh=function(t){return t===ch||t===dh?new ph(t):gh(t)}),q({global:!0,wrap:!0,forced:wh},{Promise:ch}),me(ch,ih,!1,!0),function(t){var e=Q(t),n=z.f;o&&e&&!e[cf]&&n(e,cf,{configurable:!0,get:function(){return this}})}(ih),dh=Q(ih),q({target:ih,stat:!0,forced:wh},{reject:function(t){var e=vh(this);return e.reject.call(void 0,t),e.promise}}),q({target:ih,stat:!0,forced:true},{resolve:function(t){return th(this===dh?ch:this,t)}}),q({target:ih,stat:!0,forced:_h},{all:function(t){var e=this,n=vh(e),r=n.resolve,i=n.reject,o=eh((function(){var n=R(e.resolve),o=[],a=0,s=1;fs(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=vh(e),r=n.reject,i=eh((function(){var i=R(e.resolve);fs(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),q({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Qf.f(e),r=n.resolve,i=n.reject,o=eh((function(){var n=R(e.resolve),i=[],o=0,a=1;fs(t,(function(t){var s=o++,c=!1;i.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){c||(c=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Lh="No one promise resolved";q({target:"Promise",stat:!0},{any:function(t){var e=this,n=Qf.f(e),r=n.resolve,i=n.reject,o=eh((function(){var n=R(e.resolve),o=[],a=0,s=1,c=!1;fs(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||c||(c=!0,r(t))}),(function(t){u||c||(u=!0,o[l]=t,--s||i(new(Q("AggregateError"))(o,Lh)))}))})),--s||i(new(Q("AggregateError"))(o,Lh))}));return o.error&&i(o.value),n.promise}});var Ch=!!sf&&i((function(){sf.prototype.finally.call({then:function(){}},(function(){}))}));q({target:"Promise",proto:!0,real:!0,forced:Ch},{finally:function(t){var e=mf(this,Q("Promise")),n="function"==typeof t;return this.then(n?function(n){return th(e,t()).then((function(){return n}))}:t,n?function(n){return th(e,t()).then((function(){throw n}))}:t)}});var jh=j.Promise,Rh=jh,Mh=li.f,Dh=Function.prototype,Nh=Dh.toString,zh=/^\s*function ([^ (]*)/,Uh="name";ti&&!(Uh in Dh)&&Mh(Dh,Uh,{configurable:!0,get:function(){try{return Nh.call(this).match(zh)[1]}catch(t){return""}}});var Fh=function(t){return function(e,n){var r,i,o=String(fo(e)),a=go(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Bh={codeAt:Fh(!1),charAt:Fh(!0)},qh=Bh.charAt,Vh=function(t,e,n){return e+(n?qh(t,e).length:1)},Hh=Math.floor,Wh="".replace,Yh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Xh=/\$([$&'`]|\d{1,2})/g,Gh=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=Xh;return void 0!==i&&(i=oa(i),c=Yh),Wh.call(o,c,(function(o,c){var l;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":l=i[c.slice(1,-1)];break;default:var u=+c;if(0===u)return o;if(u>s){var f=Hh(u/10);return 0===f?o:f<=s?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):o}l=r[u-1]}return void 0===l?"":l}))},$h=Math.max,Zh=Math.min;Js("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=fo(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=ai(t),l=String(this),u="function"==typeof r;u||(r=String(r));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var p=[];;){var d=tc(c,l);if(null===d)break;if(p.push(d),!f)break;""===String(d[0])&&(c.lastIndex=Vh(l,mo(c.lastIndex),h))}for(var v,g="",y=0,m=0;m<p.length;m++){d=p[m];for(var b=String(d[0]),w=$h(Zh(go(d.index),l.length),0),_=[],k=1;k<d.length;k++)_.push(void 0===(v=d[k])?v:String(v));var x=d.groups;if(u){var S=[b].concat(_,w,l);void 0!==x&&S.push(x);var E=String(r.apply(void 0,S))}else E=Gh(b,l,w,_,x,r);w>=y&&(g+=l.slice(y,w)+E,y=w+b.length)}return g+l.slice(y)}]}));var Kh=function(t,e,n){var r,i;return ma&&"function"==typeof(r=e.constructor)&&r!==n&&ei(i=r.prototype)&&i!==n.prototype&&ma(t,i),t},Jh=Ni("match"),Qh=function(t){var e;return ei(t)&&(void 0!==(e=t[Jh])?!!e:"RegExp"==ki(t))},tp=Ni("species"),ep=function(t){var e=Ti(t),n=li.f;ti&&e&&!e[tp]&&n(e,tp,{configurable:!0,get:function(){return this}})},np=li.f,rp=Yo.f,ip=no.set,op=Ni("match"),ap=Jr.RegExp,sp=ap.prototype,cp=/a/g,lp=/a/g,up=new ap(cp)!==cp,fp=zs.UNSUPPORTED_Y;if(ti&&na("RegExp",!up||fp||Qr((function(){return lp[op]=!1,ap(cp)!=cp||ap(lp)==lp||"/a/i"!=ap(cp,"i")})))){for(var hp=function(t,e){var n,r=this instanceof hp,i=Qh(t),o=void 0===e;if(!r&&i&&t.constructor===hp&&o)return t;up?i&&!o&&(t=t.source):t instanceof hp&&(o&&(e=Ds.call(t)),t=t.source),fp&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Kh(up?new ap(t,e):ap(t,e),r?this:sp,hp);return fp&&n&&ip(a,{sticky:n}),a},pp=function(t){t in hp||np(hp,t,{configurable:!0,get:function(){return ap[t]},set:function(e){ap[t]=e}})},dp=rp(ap),vp=0;dp.length>vp;)pp(dp[vp++]);sp.constructor=hp,hp.prototype=sp,ro(Jr,"RegExp",hp)}function gp(){return"object"==typeof window&&"object"==typeof document}function yp(t,e){if(t.message=t.message||null,"string"==typeof e)t.message=e;else if("object"==typeof e&&null!=e){for(var n in e){var r=e[n];t[n]=r}null!=e.message&&(t.message=e.message),null==e.code&&null==e.message||(t.code=e.code||e.name),null!=e.stack&&(t.stack=e.stack)}return t.name=(null==e?void 0:e.name)||t.name||t.code||"Error",t.time=new Date,t}function mp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function bp(){var t="desktop";return"iPod"===navigator.platform||"iPhone"===navigator.platform?t="mobile":"iPad"===navigator.platform?t="tablet":("Android"===navigator.platform||/android/gi.test(navigator.userAgent))&&(t=/tablet/gi.test(navigator.userAgent)?"tablet":"mobile"),t}function wp(){var t="fine";return matchMedia("(pointer:coarse)").matches&&(t="coarse"),t}function _p(t,e){return t===e?"quadratic":t>e?"horizontal":"vertical"}function kp(t){t=t.replace("#","");for(var e=Yu((e+"").replace(/[^a-f0-9]/gi,""),16),n=[],r=0,i=0;i<3;){var o=Yu(t.substring(2*i,2),16);n[i]=o,o>0&&(r+=o),++i}return r<=381?"dark":"light"}function xp(t){if(gp())return window.btoa(t);return(t instanceof Buffer?t:Buffer.from(t.toString(),"binary")).toString("base64")}function Sp(t,e){for(var n=[];t.length;)n.push(tf(t).call(t,0,e));return n}function Ep(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2?arguments[2]:void 0,r=void 0,i=void 0;return function(){var o=n||this,a=(new Date).getTime(),s=arguments;r&&a<r+e?(clearTimeout(i),i=of((function(){r=a,t.apply(o,s)}),e)):(r=a,t.apply(o,s))}}function Tp(t,e){var n=new Image;return n.onload=function(){return e(null,n.width,n.height)},n.onerror=function(){return e(new Error)},n.src=t,n}function Pp(t,e){var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;do{if(n.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}function Ap(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length-1,r=function(t,n,r){return new Rh((function(i,o){for(var a=function(t,e){return t?o(t):i(e)},s=[],c=0,l=Math.max(r.length,n)+1,u=0<=l;u?c<l:c>l;u?c++:c--)s.push(c===n?a:r[c]);return t.apply(e,s)}))};return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if("function"==typeof i[n])return t.apply(null,i);if("function"==typeof Rh)return r(t,n,i);throw new Error("To be able to use this asynchronous method you should:\nSupply a callback function as argument #".concat(1+n,".\nThis callback function will be called with the method call response.\nAlternatively, when supported, it can return a Promise if no callback function is given."))}}ep("RegExp");var Op=Object.freeze({__proto__:null,isBrowser:gp,isNode:function(){return"object"==typeof process},error:yp,uuid:mp,getQueryParam:function(t,e){var n=e||window.location.href,r=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(n);if(r)return r[1]},getRandomNumberBetween:function(t,e){return Math.floor(Math.random()*e)+t},getOS:function(){var t=null,e=window.navigator.userAgent;return Pu(e).call(e,"Windows")>-1?t="Windows":Pu(e).call(e,"Mac")>-1?t="macOS":Pu(e).call(e,"X11")>-1?t="unix":Pu(e).call(e,"Linux")>-1?t="Linux":Pu(e).call(e,"iOS")>-1?t="iOS":Pu(e).call(e,"Android")>-1&&(t="Android"),t},getDeviceCategory:bp,getPointer:wp,getOrientation:_p,getScreenDimensions:function(){var t,e=null!==(t=window.devicePixelRatio)&&void 0!==t?t:1,n={width:window.screen.width,height:window.screen.height};return{density:e,logical:n,physical:{width:Math.round(n.width*e),height:Math.round(n.height*e)}}},getUtcOffsetSeconds:function(){var t=new Date,e=new Date(t.getFullYear(),0,1,0,0,0,0),n=e.toGMTString();return(e-new Date(n.substring(0,Mu(n).call(n," ")-1)))/1e3},getUtcDstOffsetSeconds:function(){return 60*(new Date).getTimezoneOffset()*-1},getColorBrightness:kp,btoa:xp,chunk:Sp,throttle:Ep,loadImage:Tp,distance:function(t,e,n,r){var i=Math.PI*t/180,o=Math.PI*n/180,a=e-r,s=Math.PI*a/180,c=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(s);return c=1.609344*(c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515)*1e3},closest:Pp,promiseCallbackInterop:Ap});var Ip=Ap((function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=ow.config.get("coreUrl")+(null!==(t=n.url)&&void 0!==t?t:""),o=n.method||"get",a=null!==(e=n.headers)&&void 0!==e?e:{},s=ow.config.get("apiKey"),c=ow.config.get("clientVersion"),l=n.body;if(s){if(a["X-Api-Key"]=s,a.Accept||(a.Accept="application/json"),null!=c&&(a["X-Client-Version"]=c),n.qs){var u=new mu(i),f=new bu(u.search);for(var h in n.qs)f.append(h,n.qs[h]);i=u.origin+u.pathname+"?"+f.toString()}wu(i,{method:o,body:l,headers:a,credentials:"same-origin"}).then((function(t){t.status>=200&&t.status<300||304===t.status?t.json().then((function(t){r(null,t)})).catch(r):r(yp(new Error("Core API error"),{code:"CoreAPIError",statusCode:t.status}),t.text())})).catch(r)}else r(new Error("`apiKey` needs to be configured, please see README"))}),1),Lp=Object.freeze({__proto__:null,request:Ip});Js("match",1,(function(t,e,n){return[function(e){var n=fo(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=ai(t),o=String(this);if(!i.global)return tc(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],l=0;null!==(s=tc(i,o));){var u=String(s[0]);c[l]=u,""===u&&(i.lastIndex=Vh(o,mo(i.lastIndex),a)),l++}return 0===l?null:c}]}));var Cp=e((function(t){var e,n=0,r=0,i={},o={};function a(t,r,i){return"_root"==r?i:t!==i?function(t){return e||(e=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:u.matchesSelector)}(t).call(t,r)?t:t.parentNode?(n++,a(t.parentNode,r,i)):void 0:void 0}function s(t,e,n,r){i[t.id]||(i[t.id]={}),i[t.id][e]||(i[t.id][e]={}),i[t.id][e][n]||(i[t.id][e][n]=[]),i[t.id][e][n].push(r)}function c(t,e,n,r){if(i[t.id])if(e)if(r||n)if(r){if(i[t.id][e][n])for(var o=0;o<i[t.id][e][n].length;o++)if(i[t.id][e][n][o]===r){var a;tf(a=i[t.id][e][n]).call(a,o,1);break}}else delete i[t.id][e][n];else i[t.id][e]={};else for(var s in i[t.id])i[t.id].hasOwnProperty(s)&&(i[t.id][s]={})}function l(t,e,r,l){if(this.element){t instanceof Array||(t=[t]),r||"function"!=typeof e||(r=e,e="_root");var f,h=this.id;for(f=0;f<t.length;f++)l?c(this,t[f],e,r):(i[h]&&i[h][t[f]]||u.addEvent(this,t[f],p(t[f])),s(this,t[f],e,r));return this}function p(t){return function(e){!function(t,e,r){if(i[t][r]){var s,c,l=e.target||e.srcElement,f={},h=0,p=0;for(s in n=0,i[t][r])i[t][r].hasOwnProperty(s)&&(c=a(l,s,o[t].element))&&u.matchesEvent(r,o[t].element,c,"_root"==s,e)&&(n++,i[t][r][s].match=c,f[n]=i[t][r][s]);for(e.stopPropagation=function(){e.cancelBubble=!0},h=0;h<=n;h++)if(f[h])for(p=0;p<f[h].length;p++){if(!1===f[h][p].call(f[h].match,e))return void u.cancel(e);if(e.cancelBubble)return}}}(h,e,t)}}}function u(t,e){if(!(this instanceof u)){for(var n in o)if(o[n].element===t)return o[n];return r++,o[r]=new u(t,r),o[r]}this.element=t,this.id=e}u.prototype.on=function(t,e,n){return l.call(this,t,e,n)},u.prototype.off=function(t,e,n){return l.call(this,t,e,n,!0)},u.matchesSelector=function(){},u.cancel=function(t){t.preventDefault(),t.stopPropagation()},u.addEvent=function(t,e,n){var r="blur"==e||"focus"==e;t.element.addEventListener(e,n,r)},u.matchesEvent=function(){return!0},t.exports&&(t.exports=u),"undefined"!=typeof window&&window.exports&&(window.Gator=u)})),jp=function(){function t(e){var n,r=e.minWidth,i=void 0===r?300:r,o=e.maxWidth,a=void 0===o?"100vw":o,s=e.anchorEl,c=e.contentEl;mr(this,t),this.resize=K(n=this.resize).call(n,this),this.minWidth=i,this.maxWidth=a,this.anchorEl=s,this.contentEl=c,this.elInner=document.createElement("div"),this.elInner.className="sgn-offer-details-inner",this.el=document.createElement("div"),this.el.className="sgn-offer-details",this.el.setAttribute("tabindex",-1),this.el.appendChild(this.elInner),this.el.appendChild(this.contentEl),this.position()}return wr(t,[{key:"appendTo",value:function(t){return t.appendChild(this.el),this.el.offsetWidth,this.show(),this}},{key:"show",value:function(){return this.el.className+=" in",window.addEventListener("resize",this.resize,!1),this}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resize,!1),this.el.parentNode.removeChild(this.el)}},{key:"position",value:function(){var t=this.anchorEl.getBoundingClientRect(),e=window.pageYOffset+t.top+this.anchorEl.offsetHeight,n=(window.pageXOffset,t.left),r=this.anchorEl.offsetWidth;this.el.style.top=e+"px";var i=t.left>=window.outerWidth/2;n=window.pageXOffset+t.left;var o=window.pageXOffset+(window.outerWidth-t.right);i?(this.el.style.left="auto",this.el.style.right=o+"px",this.elInner.style.left="auto",this.elInner.style.right=0):(this.el.style.left=n+"px",this.el.style.right="auto",this.elInner.style.left=0,this.elInner.style.right="auto"),this.el.style.minWidth="number"==typeof this.minWidth?Math.max(r,this.minWidth)+"px":this.minWidth,this.el.style.maxWidth=this.maxWidth,this.elInner.style.width=r-8+"px"}},{key:"resize",value:function(){this.position()}}]),t}(),Rp=Ne.map,Mp=yn("map");q({target:"Array",proto:!0,forced:!Mp},{map:function(t){return Rp(this,t,arguments.length>1?arguments[1]:void 0)}});var Dp=G("Array").map,Np=Array.prototype,zp=function(t){var e=t.map;return t===Np||t instanceof Array&&e===Np.map?Dp:e},Up=e((function(t,e){t.exports=function(){
/*!
	   * mustache.js - Logic-less {{mustache}} templates with JavaScript
	   * http://github.com/janl/mustache.js
	   */
var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return e(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function a(t,e){return null!=t&&"object"!=typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var s=RegExp.prototype.test;function c(t,e){return s.call(t,e)}var l=/\S/;function u(t){return!c(l,t)}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return f[t]}))}var p=/\s*/,d=/\s+/,v=/\s*=/,g=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/;function m(t,n){if(!t)return[];var r,o,a,s=!1,c=[],l=[],f=[],h=!1,m=!1,k="",x=0;function E(){if(h&&!m)for(;f.length;)delete l[f.pop()];else f=[];h=!1,m=!1}function T(t){if("string"==typeof t&&(t=t.split(d,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),o=new RegExp("\\s*"+i(t[1])),a=new RegExp("\\s*"+i("}"+t[1]))}T(n||S.tags);for(var P,A,O,I,L,C,j=new _(t);!j.eos();){if(P=j.pos,O=j.scanUntil(r))for(var R=0,M=O.length;R<M;++R)u(I=O.charAt(R))?(f.push(l.length),k+=I):(m=!0,s=!0,k+=" "),l.push(["text",I,P,P+1]),P+=1,"\n"===I&&(E(),k="",x=0,s=!1);if(!j.scan(r))break;if(h=!0,A=j.scan(y)||"name",j.scan(p),"="===A?(O=j.scanUntil(v),j.scan(v),j.scanUntil(o)):"{"===A?(O=j.scanUntil(a),j.scan(g),j.scanUntil(o),A="&"):O=j.scanUntil(o),!j.scan(o))throw new Error("Unclosed tag at "+j.pos);if(L=">"==A?[A,O,P,j.pos,k,x,s]:[A,O,P,j.pos],x++,l.push(L),"#"===A||"^"===A)c.push(L);else if("/"===A){if(!(C=c.pop()))throw new Error('Unopened section "'+O+'" at '+P);if(C[1]!==O)throw new Error('Unclosed section "'+C[1]+'" at '+P)}else"name"===A||"{"===A||"&"===A?m=!0:"="===A&&T(O)}if(E(),C=c.pop())throw new Error('Unclosed section "'+C[1]+'" at '+j.pos);return w(b(l))}function b(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function w(t){for(var e,n=[],r=n,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}function _(t){this.string=t,this.tail=t,this.pos=0}function k(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function x(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}_.prototype.eos=function(){return""===this.tail},_.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},_.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},k.prototype.push=function(t){return new k(t,this)},k.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var i,s,c,l=this,u=!1;l;){if(t.indexOf(".")>0)for(i=l.view,s=t.split("."),c=0;null!=i&&c<s.length;)c===s.length-1&&(u=o(i,s[c])||a(i,s[c])),i=i[s[c++]];else i=l.view[t],u=o(l.view,t);if(u){e=i;break}l=l.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},x.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},x.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||S.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=m(t,e),i&&n.set(r,o)),o},x.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),o=this.parse(t,i),a=e instanceof k?e:new k(e,void 0);return this.renderTokens(o,a,n,t,r)},x.prototype.renderTokens=function(t,e,n,r,i){for(var o,a,s,c="",l=0,u=t.length;l<u;++l)s=void 0,"#"===(a=(o=t[l])[0])?s=this.renderSection(o,e,n,r,i):"^"===a?s=this.renderInverted(o,e,n,r,i):">"===a?s=this.renderPartial(o,e,n,i):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},x.prototype.renderSection=function(t,r,i,o,a){var s=this,c="",l=r.lookup(t[1]);function u(t){return s.render(t,r,i,a)}if(l){if(e(l))for(var f=0,h=l.length;f<h;++f)c+=this.renderTokens(t[4],r.push(l[f]),i,o,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(t[4],r.push(l),i,o,a);else if(n(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(t[3],t[5]),u))&&(c+=l)}else c+=this.renderTokens(t[4],r,i,o,a);return c}},x.prototype.renderInverted=function(t,n,r,i,o){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,i,o)},x.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},x.prototype.renderPartial=function(t,e,r,i){if(r){var o=this.getConfigTags(i),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var s=t[6],c=t[5],l=t[4],u=a;0==c&&l&&(u=this.indentPartial(a,l,s));var f=this.parse(u,o);return this.renderTokens(f,e,r,u,i)}}},x.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},x.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||S.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===S.escape?String(i):r(i)},x.prototype.rawValue=function(t){return t[1]},x.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},x.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var S={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){E.templateCache=t},get templateCache(){return E.templateCache}},E=new x;return S.clearCache=function(){return E.clearCache()},S.parse=function(t,e){return E.parse(t,e)},S.render=function(t,e,n,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+r(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,n,i)},S.escape=h,S.Scanner=_,S.Context=k,S.Writer=x,S}()}));function Fp(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Bp=function(t){Pr(n,t);var e=Fp(n);function n(){var t,r,i,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mr(this,n),(o=e.call(this)).keyUp=K(t=o.keyUp).call(t,_r(o)),o.resize=K(r=o.resize).call(r,_r(o)),o.scroll=K(i=o.scroll).call(i,_r(o)),o.options=a,o.el=document.createElement("div"),o.backgroundEl=document.createElement("div"),o}return wr(n,[{key:"render",value:function(){var t=this.options,e=t.header,n=t.singleChoiceItems,r=t.template,i=void 0===r?'<div class="sgn-popover__background" data-close></div>\n<div class="sgn-popover__menu">\n    {{#header}}\n        <div class="sgn-popover__header">{{header}}</div>\n    {{/header}}\n    <div class="sgn-popover__content">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index="{{index}}">\n                    <p class="sgn-popover-item__title">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class="sgn-popover-item__subtitle">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>':r,o={header:e,singleChoiceItems:null==n?void 0:zp(n).call(n,(function(t,e){return{item:t,index:e}}))};return this.el.className="sgn-popover",this.el.setAttribute("tabindex",-1),this.el.innerHTML=Up.render(i,o),this.position(),this.addEventListeners(),this}},{key:"destroy",value:function(){Cp(this.el).off(),window.removeEventListener("resize",this.resize,!1),window.removeEventListener("scroll",this.scroll,!1),this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.trigger("destroyed"))}},{key:"position",value:function(){var t=this.options.y,e=this.options.x,n=this.el.querySelector(".sgn-popover__menu"),r=n.offsetWidth,i=n.offsetHeight,o=this.el.parentNode.offsetWidth,a=this.el.parentNode.offsetHeight,s=this.el.parentNode.getBoundingClientRect();t-=s.top,e-=s.left,t-=window.pageYOffset,e-=window.pageXOffset,n.style.top=t+i>a?a-i+"px":t+"px",n.style.left=e+r>o?o-r+"px":e+"px"}},{key:"addEventListeners",value:function(){var t,e=this,n=K(t=this.trigger).call(t,this);this.el.addEventListener("keyup",this.keyUp),Cp(this.el).on("click","[data-index]",(function(t){t.preventDefault(),t.stopPropagation(),n("selected",{index:+this.getAttribute("data-index")})})),Cp(this.el).on("click","[data-close]",(function(t){t.preventDefault(),t.stopPropagation(),e.destroy()})),Cp(this.el).on("click",".sgn-popover__menu",(function(t){t.stopPropagation()})),window.addEventListener("resize",this.resize,!1),window.addEventListener("scroll",this.scroll,!1)}},{key:"keyUp",value:function(t){27===t.keyCode&&this.destroy()}},{key:"resize",value:function(){this.destroy()}},{key:"scroll",value:function(){this.destroy()}}]),n}(As);function qp(t,e){var n=t.items,r=null;return 1===n.length?e(n[0]):n.length>1&&(r=new Bp({header:t.header,x:t.x,y:t.y,singleChoiceItems:n}),K(r).call(r,"selected",(function(t){e(n[t.index]),r.destroy()})),K(r).call(r,"destroyed",(function(){t.el.focus()})),t.el.appendChild(r.el),r.render().el.focus()),{destroy:function(){var t;null===(t=r)||void 0===t||t.destroy()}}}var Vp=Object.freeze({__proto__:null,on:function(t,e,n,r){return Cp(t).on(e,n,r)},off:function(t,e,n,r){return Cp(t).off(e,n,r)},OfferDetails:jp,Popover:Bp,singleChoicePopover:qp}),Hp=[].join,Wp=uo!=Object,Yp=function(t,e){var n=[][t];return!!n&&Qr((function(){n.call(null,e||function(){throw 1},1)}))}("join",",");ia({target:"Array",proto:!0,forced:Wp||!Yp},{join:function(t){return Hp.call(ho(this),void 0===t?",":t)}}),q({target:"Array",stat:!0},{isArray:Gt});var Xp=j.Array.isArray,Gp=Xp;q({target:"Object",stat:!0,forced:Object.assign!==uc},{assign:uc});var $p=j.Object.assign,Zp=yn("slice"),Kp=ae("species"),Jp=[].slice,Qp=Math.max;q({target:"Array",proto:!0,forced:!Zp},{slice:function(t,e){var n,r,i,o=v(this),a=it(o.length),s=st(t,a),c=st(void 0===e?a:e,a);if(Gt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Gt(n.prototype)?g(n)&&null===(n=n[Kp])&&(n=void 0):n=void 0,n===Array||void 0===n))return Jp.call(o,s,c);for(r=new(void 0===n?Array:n)(Qp(c-s,0)),i=0;s<c;s++,i++)s in o&&fr(r,i,o[s]);return r.length=i,r}});var td=G("Array").slice,ed=Array.prototype,nd=function(t){var e=t.slice;return t===ed||t instanceof Array&&e===ed.slice?td:e},rd=nd,id=Q("JSON","stringify"),od=/[\uD800-\uDFFF]/g,ad=/^[\uD800-\uDBFF]$/,sd=/^[\uDC00-\uDFFF]$/,cd=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return ad.test(t)&&!sd.test(i)||sd.test(t)&&!ad.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},ld=i((function(){return'"\\udf06\\ud834"'!==id("\udf06\ud834")||'"\\udead"'!==id("\udead")}));id&&q({target:"JSON",stat:!0,forced:ld},{stringify:function(t,e,n){var r=id.apply(null,arguments);return"string"==typeof r?r.replace(od,cd):r}}),j.JSON||(j.JSON={stringify:JSON.stringify});var ud=function(t,e,n){return j.JSON.stringify.apply(null,arguments)},fd=j.setInterval,hd=e((function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()})),pd={utf8:{stringToBytes:function(t){return pd.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(pd.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},dd=pd,vd=function(t){return null!=t&&(gd(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&gd(t.slice(0,0))}(t)||!!t._isBuffer)};function gd(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var yd=e((function(t){!function(){var e=hd,n=dd.utf8,r=vd,i=dd.bin,o=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,f=-1732584194,h=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var d=o._ff,v=o._gg,g=o._hh,y=o._ii;for(p=0;p<s.length;p+=16){var m=l,b=u,w=f,_=h;l=d(l,u,f,h,s[p+0],7,-680876936),h=d(h,l,u,f,s[p+1],12,-389564586),f=d(f,h,l,u,s[p+2],17,606105819),u=d(u,f,h,l,s[p+3],22,-1044525330),l=d(l,u,f,h,s[p+4],7,-176418897),h=d(h,l,u,f,s[p+5],12,1200080426),f=d(f,h,l,u,s[p+6],17,-1473231341),u=d(u,f,h,l,s[p+7],22,-45705983),l=d(l,u,f,h,s[p+8],7,1770035416),h=d(h,l,u,f,s[p+9],12,-1958414417),f=d(f,h,l,u,s[p+10],17,-42063),u=d(u,f,h,l,s[p+11],22,-1990404162),l=d(l,u,f,h,s[p+12],7,1804603682),h=d(h,l,u,f,s[p+13],12,-40341101),f=d(f,h,l,u,s[p+14],17,-1502002290),l=v(l,u=d(u,f,h,l,s[p+15],22,1236535329),f,h,s[p+1],5,-165796510),h=v(h,l,u,f,s[p+6],9,-1069501632),f=v(f,h,l,u,s[p+11],14,643717713),u=v(u,f,h,l,s[p+0],20,-373897302),l=v(l,u,f,h,s[p+5],5,-701558691),h=v(h,l,u,f,s[p+10],9,38016083),f=v(f,h,l,u,s[p+15],14,-660478335),u=v(u,f,h,l,s[p+4],20,-405537848),l=v(l,u,f,h,s[p+9],5,568446438),h=v(h,l,u,f,s[p+14],9,-1019803690),f=v(f,h,l,u,s[p+3],14,-187363961),u=v(u,f,h,l,s[p+8],20,1163531501),l=v(l,u,f,h,s[p+13],5,-1444681467),h=v(h,l,u,f,s[p+2],9,-51403784),f=v(f,h,l,u,s[p+7],14,1735328473),l=g(l,u=v(u,f,h,l,s[p+12],20,-1926607734),f,h,s[p+5],4,-378558),h=g(h,l,u,f,s[p+8],11,-2022574463),f=g(f,h,l,u,s[p+11],16,1839030562),u=g(u,f,h,l,s[p+14],23,-35309556),l=g(l,u,f,h,s[p+1],4,-1530992060),h=g(h,l,u,f,s[p+4],11,1272893353),f=g(f,h,l,u,s[p+7],16,-155497632),u=g(u,f,h,l,s[p+10],23,-1094730640),l=g(l,u,f,h,s[p+13],4,681279174),h=g(h,l,u,f,s[p+0],11,-358537222),f=g(f,h,l,u,s[p+3],16,-722521979),u=g(u,f,h,l,s[p+6],23,76029189),l=g(l,u,f,h,s[p+9],4,-640364487),h=g(h,l,u,f,s[p+12],11,-421815835),f=g(f,h,l,u,s[p+15],16,530742520),l=y(l,u=g(u,f,h,l,s[p+2],23,-995338651),f,h,s[p+0],6,-198630844),h=y(h,l,u,f,s[p+7],10,1126891415),f=y(f,h,l,u,s[p+14],15,-1416354905),u=y(u,f,h,l,s[p+5],21,-57434055),l=y(l,u,f,h,s[p+12],6,1700485571),h=y(h,l,u,f,s[p+3],10,-1894986606),f=y(f,h,l,u,s[p+10],15,-1051523),u=y(u,f,h,l,s[p+1],21,-2054922799),l=y(l,u,f,h,s[p+8],6,1873313359),h=y(h,l,u,f,s[p+15],10,-30611744),f=y(f,h,l,u,s[p+6],15,-1560198380),u=y(u,f,h,l,s[p+13],21,1309151649),l=y(l,u,f,h,s[p+4],6,-145523070),h=y(h,l,u,f,s[p+11],10,-1120210379),f=y(f,h,l,u,s[p+2],15,718787259),u=y(u,f,h,l,s[p+9],21,-343485551),l=l+m>>>0,u=u+b>>>0,f=f+w>>>0,h=h+_>>>0}return e.endian([l,u,f,h])};o._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(o(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()})),md="sgn-",bd=function(){try{var t=window.localStorage;return t["".concat(md,"test-storage")]="foobar",delete t["".concat(md,"test-storage")],t}catch(t){return{}}}();function wd(t){try{return JSON.parse(bd["".concat(md).concat(t)])}catch(t){}}function _d(t,e){try{bd["".concat(md).concat(t)]=ud(e)}catch(t){}}var kd=Object.freeze({__proto__:null,get:wd,set:_d}),xd=function(){var t,e=wd("client-id");return null!==(t=e)&&void 0!==t&&t.data&&(e=e.data),null==e&&_d("client-id",e=mp()),{id:e}};function Sd(){var t=wd("event-tracker-pool");return Gp(t)?kn(t).call(t,(function(t){return"string"==typeof t._i})):[]}var Ed,Td=function(){return _d("event-tracker-pool",Ba(Ed).call(Ed,Sd()))},Pd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in mr(this,t),Ed||(Ed=Sd(),_d("event-tracker-pool",[]),"undefined"!=typeof window&&window.addEventListener("beforeunload",Td,!1)),this.defaultOptions){var r=this.defaultOptions[n];this[n]=e[n]||r}this.client=e.client||xd(),this.eventsTrackUrl=e.eventsTrackUrl||Os,this.location={geohash:null,time:null,country:null},this.dispatching=!1,this.hasMadeInitialDispatch=!1,this.eventsTrackUrl&&(Id(this.eventsTrackUrl),this.hasMadeInitialDispatch=!0)}return wr(t,[{key:"setEventsTrackUrl",value:function(t){this.eventsTrackUrl=t,this.hasMadeInitialDispatch||(Id(this.eventsTrackUrl),this.hasMadeInitialDispatch=!0)}},{key:"trackEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if("number"!=typeof t)throw yp(new Error("Event type is required"));if(null!=this.trackId){var r=$p({},e,{_e:t,_v:n,_i:mp(),_t:Math.round((new Date).getTime()/1e3),_a:this.trackId});for(this.location.geohash&&(r["l.h"]=this.location.geohash),this.location.time&&(r["l.ht"]=this.location.time),this.location.country&&(r["l.c"]=this.location.country),Ed.push(r);Ed.length>this.poolLimit;)Ed.shift();return Id(this.eventsTrackUrl),this}}},{key:"setLocation",value:function(t){for(var e in t){var n=t[e];Object.prototype.hasOwnProperty.call(this.location,e)&&(this.location[e]=n)}return this}},{key:"trackPagedPublicationOpened",value:function(t,e){return this.trackEvent(1,t,e)}},{key:"trackPagedPublicationPageDisappeared",value:function(t,e){return this.trackEvent(2,t,e)}},{key:"trackOfferOpened",value:function(t,e){return this.trackEvent(3,t,e)}},{key:"trackSearched",value:function(t,e){return this.trackEvent(5,t,e)}},{key:"trackIncitoPublicationOpened",value:function(t,e){return this.trackEvent(11,t,e)}},{key:"createViewToken",value:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xp(String.fromCharCode.apply(null,rd(t=yd(Ba(e=[this.client.id]).call(e,r).join(""),{asBytes:!0})).call(t,0,8)))}}]),t}();Pd.prototype.defaultOptions={trackId:null,poolLimit:1e3};var Ad=!1,Od=null,Id=Ep((function(t){if(Ed){if(!0!==Ad&&0!==Ed.length){var e=rd(Ed).call(Ed,0,100),n=0;Ad=!0,wu(t,{method:"post",timeout:2e4,headers:{"Content-Type":"application/json; charset=utf-8"},body:ud({events:e})}).then((function(t){return t.json()})).then((function(e){var r;Ad=!1,Od&&(clearInterval(Od),Od=null),lr(r=e.events).call(r,(function(t){"validation_error"===t.status||"ack"===t.status?Ed=kn(Ed).call(Ed,(function(e){return e._i!==t.id})):n++})),Ed.length>=100&&0===n&&Id(t)})).catch((function(e){Ad=!1,Od||(console.warn("We're gonna keep trying, but there was an error while dispatching events:",e),Od=fd((function(){return Id(t)}),2e4))}))}}else console.warn("Tracker: dispatch called with no active event pool.")}),4e3),Ld=Object.freeze({__proto__:null,Tracker:Pd}),Cd=Xp;var jd=ae("iterator"),Rd=function(t){var e=Object(t);return void 0!==e[jd]||"@@iterator"in e||On.hasOwnProperty(de(e))},Md=kc;var Dd=nd,Nd=!gf((function(t){Array.from(t)}));q({target:"Array",stat:!0,forced:Nd},{from:hc});var zd=j.Array.from,Ud=zd;function Fd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bd(t,e){return function(t){if(Cd(t))return t}(t)||function(t,e){if(void 0!==Mr&&Rd(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=Md(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){var n;if(t){if("string"==typeof t)return Fd(t,e);var r=Dd(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Ud(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fd(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qd=/"/g;ia({target:"String",proto:!0,forced:function(t){return Qr((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}("link")},{link:function(t){return e="a",n="href",r=t,i=String(fo(this)),o="<"+e,""!==n&&(o+=" "+n+'="'+String(r).replace(qd,"&quot;")+'"'),o+">"+i+"</"+e+">";var e,n,r,i,o}});var Vd=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Hd=Ni("species"),Wd=function(t,e){var n,r=ai(t).constructor;return void 0===r||null==(n=ai(r)[Hd])?e:Vd(n)},Yd=[].push,Xd=Math.min,Gd=4294967295,$d=!Qr((function(){return!RegExp(Gd,"y")}));Js("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(fo(this)),i=void 0===n?Gd:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Qh(t))return e.call(r,t,i);for(var o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=new RegExp(t.source,l+"g");(o=Ws.call(f,r))&&!((a=f.lastIndex)>u&&(c.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&Yd.apply(c,o.slice(1)),s=o[0].length,u=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return u===r.length?!s&&f.test("")||c.push(""):c.push(r.slice(u)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=fo(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=ai(t),s=String(this),c=Wd(a,RegExp),l=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+($d?"y":"g"),f=new c($d?a:"^(?:"+a.source+")",u),h=void 0===i?Gd:i>>>0;if(0===h)return[];if(0===s.length)return null===tc(f,s)?[s]:[];for(var p=0,d=0,v=[];d<s.length;){f.lastIndex=$d?d:0;var g,y=tc(f,$d?s:s.slice(d));if(null===y||(g=Xd(mo(f.lastIndex+($d?0:d)),s.length))===p)d=Vh(s,d,l);else{if(v.push(s.slice(p,d)),v.length===h)return v;for(var m=1;m<=y.length-1;m++)if(v.push(y[m]),v.length===h)return v;d=p=g}}return v.push(s.slice(p)),v}]}),!$d);var Zd=Bu.trim;q({target:"String",proto:!0,forced:function(t){return i((function(){return!!Du[t]()||"​᠎"!="​᠎"[t]()||Du[t].name!==t}))}("trim")},{trim:function(){return Zd(this)}});var Kd=G("String").trim,Jd=String.prototype,Qd=function(t){var e=t.trim;return"string"==typeof t||t===Jd||t instanceof String&&e===Jd.trim?Kd:e},tv=function(t){return null==t?0:"number"==typeof t?t+"px":"string"==typeof t?t.replace("dp","px"):0},ev=function(t){return"string"==typeof t?t.replace(/"/g,"&quot;"):t},nv=function(t){return"string"==typeof t&&t.length>0},rv=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};function iv(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var ov=function(t){Pr(n,t);var e=iv(n);function n(t,r){var i,o=r.incito,a=void 0===o?{}:o;return mr(this,n),(i=e.call(this)).containerEl=t,i.incito=a,i.el=document.createElement("div"),i.ids={},i.sections=[],i.canLazyload="IntersectionObserver"in window,i.render(),i}return wr(n,[{key:"render",value:function(){var t,e=this.incito.theme||{};(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.createElement("style");for(var n in t){var r,i,o=t[n],a=zp(r=o.src).call(r,(function(t){var e=Bd(t,2)[1];return"url('".concat(e,"')")})).join(", ");e.appendChild(document.createTextNode(Ba(i="@font-face { font-family: '".concat(n,"'; font-display: swap; src: ")).call(i,a,"; }")))}document.head.appendChild(e)}(this.incito.font_assets),this.el.dataset.readme="Incito by Tjek (https://incito.io)",this.el.className="incito",Gp(e.font_family))&&(this.el.style.fontFamily=kn(t=e.font_family).call(t,(function(t,e,n){return Pu(n).call(n,t)===e})).join(", "));nv(e.background_color)&&(this.el.style.backgroundColor=e.background_color),nv(e.text_color)&&(this.el.style.color=e.text_color),nv(e.style)&&(this.styleEl=document.createElement("style"),this.styleEl.innerText=e.style,document.head.appendChild(this.styleEl)),"number"==typeof e.line_spacing_multiplier&&(this.el.style.lineHeight=e.line_spacing_multiplier),null!=this.incito.locale&&this.el.setAttribute("lang",this.incito.locale),this.el.innerHTML=this.renderHtml(this.incito.root_view),this.containerEl.appendChild(this.el),this.canLazyload&&this.enableLazyloading()}},{key:"start",value:function(){this.el.addEventListener("click",(function(t){var e=Pp(t.target,".incito__view [data-link]"),n=e?e.dataset.link:null;nv(n)&&window.open(n,"_blank")})),this.canLazyload&&this.observeElements(this.el),this.trigger("started")}},{key:"destroy",value:function(){this.lazyObserver&&this.lazyObserver.disconnect(),this.videoObserver&&this.videoObserver.disconnect(),this.containerEl.removeChild(this.el),this.styleEl&&this.styleEl.parentNode.removeChild(this.styleEl),this.trigger("destroyed")}},{key:"observeElements",value:function(t){var e,n,r=this;lr(e=t.querySelectorAll(".incito--lazy")).call(e,(function(t){r.lazyObserver.observe(t)})),lr(n=t.querySelectorAll(".incito__video-view[data-autoplay=true]")).call(n,(function(t){r.videoObserver.observe(t)}))}},{key:"loadEl",value:function(t){var e=this;if("video"!==t.tagName.toLowerCase()||t.dataset.isLazyloaded)if(t.classList.contains("incito__incito-embed-view")){var n=t.dataset.src,r=t.dataset.method,i=t.dataset.body;wu(n,{method:r||"get",body:i?JSON.parse(unescape(i)):null}).then((function(t){if(200===t.status)return t.json()})).then((function(n){t.innerHTML=e.renderHtml(n),e.observeElements(t)}))}else t.dataset.bg?t.style.backgroundImage="url(".concat(t.dataset.bg,")"):t.dataset.src&&(t.src=t.dataset.src);else{var o=document.createElement("source");o.setAttribute("src",t.dataset.src),o.setAttribute("type",t.dataset.mime),t.appendChild(o),t.load(),t.dataset.isLazyloaded=!0}}},{key:"enableLazyloading",value:function(){var t=this;this.lazyObserver=new IntersectionObserver((function(e){lr(e).call(e,(function(e){e.isIntersecting&&(t.loadEl(e.target),t.lazyObserver.unobserve(e.target))}))}),{rootMargin:"500px 0px"}),this.videoObserver=new IntersectionObserver((function(e){lr(e).call(e,(function(e){if(e.isIntersecting){var n=e.target.dataset.autoplayState;t.loadEl(e.target),t.lazyObserver.unobserve(e.target),n&&"paused"!==n||(e.target.dataset.autoplayState="playing",e.target.play())}else e.target.paused||(e.target.dataset.autoplayState="paused",e.target.pause())}))}),{threshold:.25})}},{key:"renderView",value:function(t){var e,n,r="div",i=["incito__view"],o={},a={};if("TextView"===t.view_name){r="p",i.push("incito__text-view");var s=(t.text_style||"").split("|"),c=t.text;if(Gp(t.spans)&&t.spans.length>0){var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return 0===e.length?n.push({text:t}):e[0].start>0&&n.push({text:rd(t).call(t,0,e[0].start)}),lr(e).call(e,(function(r,i){var o=r.start,a=r.end;n.push({text:rd(t).call(t,o,a),span:r}),i===e.length-1?a<t.length&&n.push({text:rd(t).call(t,a,t.length)}):a<e[i+1].start&&n.push({text:rd(t).call(t,a,e[i+1].start)})})),n}(c,t.spans);c=(c=zp(l).call(l,(function(t){var e,n,r,i=rv(t.text||"");if("link"===(null===(e=t.span)||void 0===e?void 0:e.name)&&null!=t.span.url)return Ba(r='<a href="'.concat(encodeURI(t.span.url),'" rel="external" target="_blank">')).call(r,i,"</a>");if(null!=(null===(n=t.span)||void 0===n?void 0:n.name)){var o,a=t.span.name;return Ba(o='<span data-name="'.concat(a,'">')).call(o,i,"</span>")}return i}))).join("")}else c=rv(c);t.text_prevent_widow&&(c=c.replace(/&nbsp;([^\s]+)$/," $1").replace(/\s([^\s]+)\s*$/,"&nbsp;$1")),n=c.replace(/\n/g,"<br>"),Gp(t.font_family)&&t.font_family.length>0&&(o["font-family"]=t.font_family.join(", ")),null!=t.text_size&&(o["font-size"]="".concat(t.text_size,"px")),null!=t.line_spacing_multiplier&&(o["line-height"]=t.line_spacing_multiplier),null!=t.text_color&&(o.color=t.text_color),-1!==Pu(s).call(s,"bold")&&(o["font-weight"]="bold"),-1!==Pu(s).call(s,"italic")&&(o["font-style"]="italic"),Gp(t.text_decoration_line)&&(o["text-decoration-line"]=t.text_decoration_line.join(" "));var u=function(t){if(nv(t.text_shadow_color))return{dx:"number"==typeof t.text_shadow_dx?t.text_shadow_dx:0,dy:"number"==typeof t.text_shadow_dy?t.text_shadow_dy:0,radius:"number"==typeof t.text_shadow_radius?t.text_shadow_radius:0,color:t.text_shadow_color}}(t);if(nv(t.text_shadow))o["text-shadow"]=t.text_shadow;else if(null!=u){var f,h,p;o["text-shadow"]=Ba(f=Ba(h=Ba(p="".concat(u.dx,"px ")).call(p,u.dy,"px ")).call(h,u.radius,"px ")).call(f,u.color)}"left"===t.text_alignment?o["text-align"]="left":"center"===t.text_alignment?o["text-align"]="center":"right"===t.text_alignment&&(o["text-align"]="right"),!0===t.single_line||1===t.max_lines?a["data-single-line"]=!0:"number"==typeof t.max_lines&&(o.display="-webkit-box",o["-webkit-line-clamp"]=t.max_lines,o["-webkit-box-orient"]="vertical"),!0===t.text_all_caps&&(o["text-transform"]="uppercase")}else if("ImageView"===t.view_name)r="img",i.push("incito__image-view"),a.onerror="this.style.display='none'",nv(t.src)&&(this.canLazyload?(i.push("incito--lazy"),a["data-src"]=t.src):a.src=t.src),nv(t.label)&&(a.alt=t.label);else if("VideoView"===t.view_name)r="video",i.push("incito__video-view"),a.muted="",a.playsinline="",a.preload="none",a.poster="noposter",this.canLazyload?(a["data-src"]=t.src,a["data-mime"]=t.mime,!0===t.autoplay&&(a["data-autoplay"]=!0),!0===t.controls&&(a.controls=""),!0===t.loop&&(a.loop="")):(a.src=t.src,a.controls=""),this.canLazyload&&i.push("incito--lazy");else if("HTMLView"===t.view_name){var d,v;if(nv(t.style))lr(d=Qd(v=t.style).call(v).split(";")).call(d,(function(t){var e=Bd(Qd(t).call(t).split(":"),2),n=e[0],r=e[1];o[n]=r}))}else if("VideoEmbedView"===t.view_name||"HTMLEmbedView"===t.view_name)r="iframe",i.push("incito__html-embed-view"),a.sandbox="allow-scripts allow-same-origin",a.allowfullscreen="",this.canLazyload?(i.push("incito--lazy"),a["data-src"]=t.src):a.src=t.src;else if("IncitoEmbedView"===t.view_name)i.push("incito__incito-embed-view"),this.canLazyload&&(i.push("incito--lazy"),a["data-src"]=t.src,"get"!==t.method&&"post"!==t.method||(a["data-method"]=t.method),t.body&&(a["data-body"]=escape(ud(t.body))));else if("AbsoluteLayout"===t.view_name)i.push("incito__absolute-layout-view");else if("FlexLayout"===t.view_name){var g=["stretch","center","flex-start","flex-end","baseline"],y=["flex-start","flex-end","center","space-between","space-around"],m=["row","column"];i.push("incito__flex-layout-view"),o.display="flex",-1!==Pu(g).call(g,t.layout_flex_align_items)&&(o["align-items"]=t.layout_flex_align_items,o["ms-align-items"]=t.layout_flex_align_items),-1!==Pu(y).call(y,t.layout_flex_justify_content)&&(o["justify-content"]=t.layout_flex_justify_content,o["ms-flex-pack"]=t.layout_flex_justify_content),-1!==Pu(m).call(m,t.layout_flex_direction)&&(o["flex-direction"]=t.layout_flex_direction,o["ms-flex-direction"]=t.layout_flex_direction)}if(nv(t.id)&&(a["data-id"]=ev(t.id)),nv(t.role)&&(a["data-role"]=ev(t.role)),nv(t.accessibility_label)&&(a["aria-label"]=ev(t.accessibility_label)),!0===t.accessibility_hidden&&(a["aria-hidden"]=!0),Gp(t.feature_labels)){var b,w=kn(b=t.feature_labels).call(b,(function(t){return/^[a-z_-]{1,14}$/.test(t)}));w.length&&(a["data-feature-labels"]=w.join(","))}nv(t.title)&&(a.title=ev(t.title)),t.gravity&&(a["data-gravity"]=t.gravity),nv(t.link)&&(a["data-link"]=t.link),"match_parent"===t.layout_width?o.width="100%":"wrap_content"===t.layout_width?o.display="inline-block":null!=t.layout_width&&(o.width=tv(t.layout_width)),"match_parent"===t.layout_height?o.height="100%":"wrap_content"===t.layout_height?o.height="auto":null!=t.layout_height&&(o.height=tv(t.layout_height)),null!=t.min_width&&(o["min-width"]=tv(t.min_width)),null!=t.max_width&&(o["max-width"]=tv(t.max_width)),null!=t.min_height&&(o["min-height"]=tv(t.min_height)),null!=t.max_height&&(o["max-height"]=tv(t.max_height)),null!=t.layout_top&&(o.top=tv(t.layout_top)),null!=t.layout_left&&(o.left=tv(t.layout_left)),null!=t.layout_right&&(o.right=tv(t.layout_right)),null!=t.layout_bottom&&(o.bottom=tv(t.layout_bottom)),t.background_color&&(o["background-color"]=t.background_color),nv(t.background_image)&&(this.canLazyload?(i.push("incito--lazy"),a["data-bg"]=t.background_image):o["background-image"]="url(".concat(t.background_image,")")),-1!==Pu(e=["repeat_x","repeat_y","repeat"]).call(e,t.background_tile_mode)&&(o["background-repeat"]=t.background_tile_mode.replace("_","-")),nv(t.background_image_position)&&(o["background-position"]=t.background_image_position.replace("_"," ")),"center_crop"===t.background_image_scale_type?o["background-size"]="cover":"center_inside"===t.background_image_scale_type&&(o["background-size"]="contain"),null!=t.layout_margin&&(o.margin=tv(t.layout_margin)),null!=t.layout_margin_top&&(o["margin-top"]=tv(t.layout_margin_top)),null!=t.layout_margin_left&&(o["margin-left"]=tv(t.layout_margin_left)),null!=t.layout_margin_right&&(o["margin-right"]=tv(t.layout_margin_right)),null!=t.layout_margin_bottom&&(o["margin-bottom"]=tv(t.layout_margin_bottom)),null!=t.padding&&(o.padding=tv(t.padding)),null!=t.padding_top&&(o["padding-top"]=tv(t.padding_top)),null!=t.padding_left&&(o["padding-left"]=tv(t.padding_left)),null!=t.padding_right&&(o["padding-right"]=tv(t.padding_right)),null!=t.padding_bottom&&(o["padding-bottom"]=tv(t.padding_bottom)),null!=t.corner_radius&&(o["border-radius"]=tv(t.corner_radius)),null!=t.corner_top_left_radius&&(o["border-top-left-radius"]=tv(t.corner_top_left_radius)),null!=t.corner_top_right_radius&&(o["border-top-right-radius"]=tv(t.corner_top_right_radius)),null!=t.corner_bottom_left_radius&&(o["border-bottom-left-radius"]=tv(t.corner_bottom_left_radius)),null!=t.corner_bottom_right_radius&&(o["border-bottom-right-radius"]=tv(t.corner_bottom_right_radius)),!1===t.clip_children&&(o.overflow="visible");var _,k,x,S=function(t){if(nv(t.shadow_color))return{dx:"number"==typeof t.shadow_dx?t.shadow_dx:0,dy:"number"==typeof t.shadow_dy?t.shadow_dy:0,radius:"number"==typeof t.shadow_radius?t.shadow_radius:0,color:t.shadow_color}}(t);null!=S&&(o["box-shadow"]=Ba(_=Ba(k=Ba(x="".concat(S.dx,"px ")).call(x,S.dy,"px ")).call(k,S.radius,"px ")).call(_,S.color));var E=["solid","dotted","dashed"];null!=t.stroke_width&&(o["border-width"]=tv(t.stroke_width)),null!=t.stroke_color&&(o["border-color"]=t.stroke_color),-1!==Pu(E).call(E,t.stroke_style)&&(o["border-style"]=t.stroke_style),null!=t.stroke_top_width&&(o["border-top-width"]=tv(t.stroke_top_width)),null!=t.stroke_top_color&&(o["border-top-color"]=t.stroke_top_color),null!=t.stroke_left_width&&(o["border-left-width"]=tv(t.stroke_left_width)),null!=t.stroke_left_color&&(o["border-left-color"]=t.stroke_left_color),null!=t.stroke_right_width&&(o["border-right-width"]=tv(t.stroke_right_width)),null!=t.stroke_right_color&&(o["border-right-color"]=t.stroke_right_color),null!=t.stroke_bottom_width&&(o["border-bottom-width"]=tv(t.stroke_bottom_width)),null!=t.stroke_bottom_color&&(o["border-bottom-color"]=t.stroke_bottom_color),"number"==typeof t.layout_flex_shrink&&(o["flex-shrink"]=t.layout_flex_shrink,o["ms-flex-shrink"]=t.layout_flex_shrink),"number"==typeof t.layout_flex_grow&&(o["flex-grow"]=t.layout_flex_grow,o["ms-flex-grow"]=t.layout_flex_grow),null!=t.layout_flex_basis&&(o["flex-basis"]=tv(t.layout_flex_basis),o["ms-flex-basis"]=tv(t.layout_flex_basis));var T=function(t){var e=[],n=tv(t.transform_translate_x),r=tv(t.transform_translate_y);return 0!==n&&e.push("translateX(".concat(n,")")),0!==r&&e.push("translateY(".concat(r,")")),"number"==typeof t.transform_rotate&&0!==t.transform_rotate&&e.push("rotate(".concat(t.transform_rotate,"deg)")),"number"==typeof t.transform_scale&&1!==t.transform_scale&&e.push("scale(".concat(t.transform_scale,")")),e}(t);return T.length>0&&(o.transform=T.join(" ")),Gp(t.transform_origin)&&2===t.transform_origin.length&&(o["transform-origin"]=[tv(t.transform_origin[0]),tv(t.transform_origin[1])].join(" ")),{tagName:r,contents:n,classNames:i,styles:o,attrs:a}}},{key:"renderHtml",value:function(t){var e=this,n="";return function t(r){try{var i,o=e.renderView(r),a=o.tagName,s=o.contents,c=o.classNames,l=o.styles,u=o.attrs;for(var f in null!=r.id&&"object"==typeof r.meta&&(e.ids[r.id]=r.meta),"section"===r.role&&e.sections.push({id:r.id,meta:r.meta}),n+="<".concat(a),n+=' class="'.concat(c.join(" "),'"'),u){var h,p=u[f];n+=Ba(h=" ".concat(f,'="')).call(h,p,'"')}for(var d in n+=' style="',l){var v,g=l[d];n+=Ba(v="".concat(d,":")).call(v,g,"; ")}for(var y in n+='"',u){var m,b=u[y];n+=Ba(m=" ".concat(y,'="')).call(m,b,'"')}if(n+=">",Gp(r.child_views))lr(i=r.child_views).call(i,(function(e){t(e)}));s&&(n+=s),n+="</".concat(a,">")}catch(t){}}(t),n}}]),n}(As);function av(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var sv=function(t){Pr(n,t);var e=av(n);function n(t,r){var i;return mr(this,n),(i=e.call(this)).eventTracker=t,i.details=r,i}return wr(n,[{key:"trackOpened",value:function(){var t;return null==this.eventTracker||null==this.details||this.eventTracker.trackIncitoPublicationOpened({"ip.paged":Pu(t=this.details.types).call(t,"paged")>-1,"ip.id":this.details.id,vt:this.eventTracker.createViewToken(this.details.id)}),this}}]),n}(As);function cv(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var lv=function(t){Pr(n,t);var e=cv(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mr(this,n),(r=e.call(this)).el=t,r.options=i,r.incito=new ov(r.el,{incito:r.options.incito}),r._eventTracking=new sv(r.options.eventTracker,r.options.details),r}return wr(n,[{key:"start",value:function(){return this.incito.start(),this.el.classList.add("sgn-incito--started"),this._eventTracking.trackOpened(),this}},{key:"destroy",value:function(){this.incito.destroy()}}]),n}(As);yr(lv,"Incito",ov);var uv=zd,fv=Rr,hv=cs,pv=function(t){return function(e,n,r,i){R(n);var o=Mt(e),a=p(o),s=it(o.length),c=t?s-1:0,l=t?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=l;break}if(c+=l,t?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=l)c in a&&(i=n(i,a[c],c,o));return i}},dv={left:pv(!1),right:pv(!0)}.left,vv=rr("reduce");q({target:"Array",proto:!0,forced:!vv||!Ft&&Wt>79&&Wt<83},{reduce:function(t){return dv(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var gv=G("Array").reduce,yv=Array.prototype,mv=function(t){var e=t.reduce;return t===yv||t instanceof Array&&e===yv.reduce?gv:e},bv=c.f,wv=function(t){return function(e){for(var n,r=v(e),i=dt(r),a=i.length,s=0,c=[];a>s;)n=i[s++],o&&!bv.call(r,n)||c.push(t?[n,r[n]]:r[n]);return c}},_v={entries:wv(!0),values:wv(!1)},kv=_v.values;q({target:"Object",stat:!0},{values:function(t){return kv(t)}});var xv=j.Object.values,Sv=function(){function t(e){var n;mr(this,t),this.scroll=K(n=this.scroll).call(n,this),this.viewer=e,this.progressEl=this.viewer.el.querySelector(".sgn-incito__progress"),this.progressEl&&(this.scroll(),window.addEventListener("scroll",this.scroll,!1))}return wr(t,[{key:"destroy",value:function(){window.removeEventListener("scroll",this.scroll,!1)}},{key:"scroll",value:function(){var t=Math.round(window.pageYOffset/(document.body.scrollHeight-window.innerHeight)*100);this.progressEl.textContent="".concat(t," %"),this.viewer.trigger("progress",{progress:t})}}]),t}();function Ev(t,e){var n;if(void 0===fv||null==hv(t)){if(Gp(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Tv(t,e);var r=rd(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return uv(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=Md(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Tv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pv=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mr(this,t),this.fetchDetails=K(e=this.fetchDetails).call(e,this),this.options=n,this.deviceCategory=this.getDeviceCategory(),this.pixelRatio=this.getPixelRatio(),this.pointer=this.getPointer(),this.orientation=this.getOrientation(),this.time=this.getTime(),this.locale=this.getLocale(),this.maxWidth=this.getMaxWidth(),this.featureLabels=this.getFeatureLabels(),this.versionsSupported=["1.0.0"]}return wr(t,[{key:"getDeviceCategory",value:function(){return bp()}},{key:"getPixelRatio",value:function(){return window.devicePixelRatio||1}},{key:"getPointer",value:function(){return wp()}},{key:"getOrientation",value:function(){var t=_p(screen.width,screen.height);return"quadratic"===t&&(t="horizontal"),t}},{key:"getTime",value:function(){return(new Date).toISOString()}},{key:"getLocale",value:function(){var t=[],e=null;Gp(navigator.languages)&&navigator.languages.length>0?t=Ba(t).call(t,navigator.languages):"string"==typeof navigator.language&&navigator.language.length>0?t.push(navigator.language):"string"==typeof navigator.browserLanguage&&navigator.browserLanguage.length>0&&t.push(navigator.browserLanguage),t.push("en_US");var n,r=Ev(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null!=i&&(i=i.replace("-","_"),/[a-z][a-z]_[A-Z][A-Z]/g.test(i))){e=i;break}}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getMaxWidth",value:function(){return 90===Math.abs(window.orientation)?Math.min(this.options.el.offsetWidth,screen.width):this.options.el.offsetWidth}},{key:"getFeatureLabels",value:function(){var t=wd("incito-feature-labels");return!1===Gp(t)&&(t=[]),t}},{key:"anonymizeFeatureLabels",value:function(){var t,e,n=this.featureLabels.length,r=mv(t=this.featureLabels).call(t,(function(t,e){return t[e]||(t[e]={key:e,value:0}),t[e].value++,t}),{});return zp(e=xv(r)).call(e,(function(t){return{key:t.key,value:Math.round(t.value/n*100)/100}}))}},{key:"fetch",value:function(t){var e=this;this.fetchDetails(this.options.id,(function(n,r){if(null!=n)return t(n);e.fetchIncito(r.incito_publication_id,(function(e,n){if(null!=e)return t(e);t(null,{details:r,incito:n})}))}))}},{key:"fetchDetails",value:function(t,e){Ip({url:"/v2/catalogs/".concat(t)},e)}},{key:"fetchIncito",value:function(t,e){Ip({url:"/v4/rpc/generate_incito_from_publication",method:"post",headers:{"Content-Type":"application/json"},body:ud({id:t,device_category:this.deviceCategory,pointer:this.pointer,orientation:this.orientation,pixel_ratio:this.pixelRatio,max_width:this.maxWidth,versions_supported:this.versionsSupported,locale_code:this.locale,time:this.time,feature_labels:this.anonymizeFeatureLabels(this.featureLabels)})},e)}},{key:"createViewer",value:function(t){var e,n=this;if(null==t.incito)throw yp(new Error,"You need to supply valid Incito to create a viewer");var r=new lv(this.options.el,{id:this.options.id,details:t.details,incito:t.incito,eventTracker:this.options.eventTracker}),i=new Sv(r);return K(e=r.incito).call(e,"destroy",(function(){i.destroy()})),Cp(r.el).on("click",".incito__view[data-feature-labels]",(function(){var t,e=this.getAttribute("data-feature-labels").split(",");for(n.featureLabels=Ba(t=n.featureLabels).call(t,e);n.featureLabels.length>1e3;)n.featureLabels.shift();_d("incito-feature-labels",n.featureLabels)})),r}}]),t}(),Av=Object.freeze({__proto__:null,Viewer:lv,Bootstrapper:Pv}),Ov=Ne.find,Iv="find",Lv=!0;Iv in[]&&Array(1).find((function(){Lv=!1})),q({target:"Array",proto:!0,forced:Lv},{find:function(t){return Ov(this,t,arguments.length>1?arguments[1]:void 0)}});var Cv=G("Array").find,jv=Array.prototype,Rv=function(t){var e=t.find;return t===jv||t instanceof Array&&e===jv.find?Cv:e},Mv={"paged_publication.hotspot_picker.header":"Which offer did you mean?","incito_publication.product_picker.header":"Which product?"};function Dv(t,e){var n,r=null!==(n=Mv[t])&&void 0!==n?n:"";return Up.render(r,e)}var Nv=Object.freeze({__proto__:null,t:Dv,update:function(t){for(var e in t){var n=t[e];Mv[e]=n}}});function zv(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var Uv=function(t){Pr(n,t);var e=zv(n);function n(t){var r,i,o,a,s,c,l,u,f,h,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mr(this,n),(h=e.call(this)).destroy=K(r=h.destroy).call(r,_r(h)),h.beforeNavigation=K(i=h.beforeNavigation).call(i,_r(h)),h.prevClicked=K(o=h.prevClicked).call(o,_r(h)),h.nextClicked=K(a=h.nextClicked).call(a,_r(h)),h.closeClicked=K(s=h.closeClicked).call(s,_r(h)),h.keyDown=K(c=h.keyDown).call(c,_r(h)),h.options=p,h.els={root:t,progress:t.querySelector(".sgn-pp__progress"),progressBar:t.querySelector(".sgn-pp-progress__bar"),progressLabel:t.querySelector(".sgn-pp__progress-label"),prevControl:t.querySelector(".sgn-pp__control[data-direction=prev]"),nextControl:t.querySelector(".sgn-pp__control[data-direction=next]"),close:t.querySelector(".sgn-pp--close")},h.keyDownHandler=Ep(h.keyDown,150,_r(h)),!0===h.options.keyboard&&h.els.root.addEventListener("keydown",h.keyDownHandler,!1),null===(l=h.els.prevControl)||void 0===l||l.addEventListener("mousedown",h.prevClicked,!1),null===(u=h.els.nextControl)||void 0===u||u.addEventListener("mousedown",h.nextClicked,!1),null===(f=h.els.close)||void 0===f||f.addEventListener("mousedown",h.closeClicked,!1),K(h).call(h,"beforeNavigation",h.beforeNavigation),K(h).call(h,"destroyed",h.destroy),h}return wr(n,[{key:"destroy",value:function(){var t,e,n;!0===this.options.keyboard&&this.els.root.removeEventListener("keydown",this.keyDownHandler,!1),null===(t=this.els.prevControl)||void 0===t||t.removeEventListener("mousedown",this.prevClicked,!1),null===(e=this.els.nextControl)||void 0===e||e.removeEventListener("mousedown",this.nextClicked,!1),null===(n=this.els.close)||void 0===n||n.removeEventListener("mousedown",this.closeClicked,!1)}},{key:"beforeNavigation",value:function(t){var e="string"==typeof t.progressLabel&&t.progressLabel.length>0,n="sgn-pp--hidden";this.els.progress&&this.els.progressBar&&(this.els.progressBar.style.width="".concat(t.progress,"%"),!0===e?this.els.progress.classList.remove(n):this.els.progress.classList.add(n)),this.els.progressLabel&&(!0===e?(this.els.progressLabel.textContent=t.progressLabel,this.els.progressLabel.classList.remove(n)):this.els.progressLabel.classList.add(n)),this.els.prevControl&&(0===t.verso.newPosition?this.els.prevControl.classList.add(n):this.els.prevControl.classList.remove(n)),this.els.nextControl&&(t.verso.newPosition===t.pageSpreadCount-1?this.els.nextControl.classList.add(n):this.els.nextControl.classList.remove(n))}},{key:"prevClicked",value:function(t){t.preventDefault(),this.trigger("prev")}},{key:"nextClicked",value:function(t){t.preventDefault(),this.trigger("next")}},{key:"closeClicked",value:function(t){t.preventDefault(),this.trigger("close")}},{key:"keyDown",value:function(t){var e=t.keyCode;37===e?this.trigger("prev",{duration:0}):39===e||32===e?this.trigger("next",{duration:0}):49===e&&this.trigger("first",{duration:0})}}]),n}(As),Fv="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Bv=RegExp("^"+Fv+Fv+"*"),qv=RegExp(Fv+Fv+"*$"),Vv=function(t){return function(e){var n=String(fo(e));return 1&t&&(n=n.replace(Bv,"")),2&t&&(n=n.replace(qv,"")),n}},Hv={start:Vv(1),end:Vv(2),trim:Vv(3)},Wv=Yo.f,Yv=Ho.f,Xv=li.f,Gv=Hv.trim,$v="Number",Zv=Jr.Number,Kv=Zv.prototype,Jv=ki(Co(Kv))==$v,Qv=function(t){var e,n,r,i,o,a,s,c,l=si(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=Gv(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,r)}return+l};if(na($v,!Zv(" 0o1")||!Zv("0b1")||Zv("+0x1"))){for(var tg,eg=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof eg&&(Jv?Qr((function(){Kv.valueOf.call(n)})):ki(n)!=$v)?Kh(new Zv(Qv(e)),n,eg):Qv(e)},ng=ti?Wv(Zv):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),rg=0;ng.length>rg;rg++)yi(Zv,tg=ng[rg])&&!yi(eg,tg)&&Xv(eg,tg,Yv(Zv,tg));eg.prototype=Kv,Kv.constructor=eg,ro(Jr,$v,eg)}var ig=function(){function t(e){mr(this,t),yr(this,"run",0),this.el=e}return wr(t,[{key:"animate",value:function(){var t,e,n,r,i,o,a,s=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},u=null!==(t=c.x)&&void 0!==t?t:0,f=null!==(e=c.y)&&void 0!==e?e:0,h=null!==(n=c.scale)&&void 0!==n?n:1,p=null!==(r=c.easing)&&void 0!==r?r:"ease-out",d=null!==(i=c.duration)&&void 0!==i?i:0,v=++this.run,g=Ba(o=Ba(a="translateX(".concat(u,") translateY(")).call(a,f,") scale(")).call(o,h,")");if(this.el.style.transform===g)l();else if(d>0){var y,m=function t(){v===s.run&&(s.el.removeEventListener("transitionend",t),s.el.style.transition="none",l())};this.el.addEventListener("transitionend",m,!1),this.el.style.transition=Ba(y="transform ".concat(p," ")).call(y,d,"ms"),this.el.style.transform=g}else this.el.style.transition="none",this.el.style.transform=g,l();return this}}]),t}(),og=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mr(this,t),yr(this,"visibility","gone"),yr(this,"positioned",!1),yr(this,"active",!1),this.el=e,this.options=n,this.id=this.options.id,this.type=this.options.type,this.pageIds=this.options.pageIds,this.width=this.options.width,this.left=this.options.left,this.maxZoomScale=this.options.maxZoomScale}return wr(t,[{key:"isZoomable",value:function(){return this.getMaxZoomScale()>1&&"false"!==this.getEl().getAttribute("data-zoomable")}},{key:"isScrollable",value:function(){return this.getEl().classList.contains("verso--scrollable")}},{key:"getEl",value:function(){return this.el}},{key:"getOverlayEls",value:function(){return this.getEl().querySelectorAll(".verso__overlay")}},{key:"getPageEls",value:function(){return this.getEl().querySelectorAll(".verso__page")}},{key:"getRect",value:function(){return this.getEl().getBoundingClientRect()}},{key:"getContentRect",value:function(){for(var t,e,n,r,i={top:null,left:null,right:null,bottom:null,width:null,height:null},o=0,a=uv(this.getPageEls());o<a.length;o++){var s=a[o].getBoundingClientRect();(s.top<i.top||null==i.top)&&(i.top=s.top),(s.left<i.left||null==i.left)&&(i.left=s.left),(s.right>i.right||null==i.right)&&(i.right=s.right),(s.bottom>i.bottom||null==i.bottom)&&(i.bottom=s.bottom)}return i.top=null!==(t=i.top)&&void 0!==t?t:0,i.left=null!==(e=i.left)&&void 0!==e?e:0,i.right=null!==(n=i.right)&&void 0!==n?n:0,i.bottom=null!==(r=i.bottom)&&void 0!==r?r:0,i.width=i.right-i.left,i.height=i.bottom-i.top,i}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getPageIds",value:function(){return this.pageIds}},{key:"getWidth",value:function(){return this.width}},{key:"getLeft",value:function(){return this.left}},{key:"getMaxZoomScale",value:function(){return this.maxZoomScale}},{key:"getVisibility",value:function(){return this.visibility}},{key:"setVisibility",value:function(t){return this.visibility!==t&&(this.getEl().style.display="visible"===t?"block":"none",this.visibility=t),this}},{key:"position",value:function(){return!1===this.positioned&&(this.getEl().style.left="".concat(this.getLeft(),"%"),this.positioned=!0),this}},{key:"activate",value:function(){this.active=!0,this.getEl().setAttribute("data-active",this.active)}},{key:"deactivate",value:function(){this.active=!1,this.getEl().setAttribute("data-active",this.active)}}]),t}();q({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var ag=j.Date.now,sg=xr,cg=[],lg=cg.sort,ug=i((function(){cg.sort(void 0)})),fg=i((function(){cg.sort(null)})),hg=rr("sort");q({target:"Array",proto:!0,forced:ug||!fg||!hg},{sort:function(t){return void 0===t?lg.call(Mt(this)):lg.call(Mt(this),R(t))}});var pg=G("Array").sort,dg=Array.prototype,vg=function(t){var e=t.sort;return t===dg||t instanceof Array&&e===dg.sort?pg:e},gg=Ne.findIndex,yg="findIndex",mg=!0;yg in[]&&Array(1).findIndex((function(){mg=!1})),q({target:"Array",proto:!0,forced:mg},{findIndex:function(t){return gg(this,t,arguments.length>1?arguments[1]:void 0)}});var bg=G("Array").findIndex,wg=Array.prototype,_g=function(t){var e=t.findIndex;return t===wg||t instanceof Array&&e===wg.findIndex?bg:e},kg=_v.entries;q({target:"Object",stat:!0},{entries:function(t){return kg(t)}});var xg=j.Object.entries;
/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
function Sg(t,e){var n=Ut(t);if(vn){var r=vn(t);e&&(r=kn(r).call(r,(function(e){return An(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)lr(n=Sg(Object(r),!0)).call(n,(function(e){yr(t,e,r[e])}));else if(hr)pr(t,hr(r));else{var i;lr(i=Sg(Object(r))).call(i,(function(e){vr(t,e,An(r,e))}))}}return t}var Tg=["","webkit","Moz","MS","ms","o"],Pg=Math.round,Ag=Math.abs,Og=ag;function Ig(t,e,n){return!!Gp(t)&&(Lg(t,n[e],n),!0)}function Lg(t,e,n){var r;if(t)if(lr(t))lr(t).call(t,e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)Object.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t)}function Cg(t,e,n){var r,i=e.prototype;(r=t.prototype=sg(i)).constructor=t,r._super=i,n&&$p(r,n)}function jg(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Rg(t,e){return void 0===t?e:t}function Mg(t,e,n){var r;lr(r=Ug(e)).call(r,(function(e){return t.addEventListener(e,n,!1)}))}function Dg(t,e,n){var r;lr(r=Ug(e)).call(r,(function(e){return t.removeEventListener(e,n,!1)}))}function Ng(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function zg(t,e){return Pu(t).call(t,e)>-1}function Ug(t){return Qd(t).call(t).split(/\s+/g)}var Fg=function(t){return rd(Array.prototype).call(t,0)};function Bg(t,e,n){var r=[],i=[];return lr(t).call(t,(function(t,n){var o=e?t[e]:t;Pu(i).call(i,o)<0&&r.push(t),i[n]=o})),n&&vg(r).call(r,e?function(t,n){return t[e]>n[e]}:void 0),r}function qg(t,e){var n=e[0].toUpperCase()+rd(e).call(e,1);return Rv(Tg).call(Tg,(function(r){return(r?r+n:e)in t}))}var Vg=1;function Hg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||"undefined"!=typeof window&&window}var Wg=/mobile|tablet|ip(ad|hone|od)|android/i,Yg=function(){return"undefined"!=typeof window&&"ontouchstart"in window},Xg="touch",Gg="mouse",$g=24,Zg=["x","y"],Kg=["clientX","clientY"];function Jg(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){jg(t.options.enable,[t])&&n.handler(e)},this.init()}function Qg(t){var e=t.options.inputClass;return new(e||("undefined"!=typeof window&&void 0!==qg(window,"PointerEvent")?yy:Yg()&&Wg.test(navigator.userAgent)?Sy:Yg()?Ty:hy))(t,ty)}function ty(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=ey(e));i>1&&!n.firstMultiple?n.firstMultiple=ey(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=ny(r);e.timeStamp=Og(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=ay(s,c),e.distance=oy(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=iy(e.deltaX,e.deltaY);var l=ry(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Ag(l.x)>Ag(l.y)?l.x:l.y,e.scale=a?cy(a.pointers,r):1,e.rotation=a?sy(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,u=ry(s,c,l);r=u.x,i=u.y,n=Ag(u.x)>Ag(u.y)?u.x:u.y,o=iy(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var u=t.element;Ng(e.srcEvent.target,u)&&(u=e.srcEvent.target);e.target=u}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ey(t){var e,n=zp(e=t.pointers).call(e,(function(t){return{clientX:Pg(t.clientX),clientY:Pg(t.clientY)}}));return{timeStamp:Og(),pointers:n,center:ny(n),deltaX:t.deltaX,deltaY:t.deltaY}}function ny(t){var e=t.length;if(1===e)return{x:Pg(t[0].clientX),y:Pg(t[0].clientY)};var n=0,r=0;return lr(t).call(t,(function(t){var e=t.clientX,i=t.clientY;n+=e,r+=i})),{x:Pg(n/e),y:Pg(r/e)}}Jg.prototype={handler:function(){},init:function(){this.evEl&&Mg(this.element,this.evEl,this.domHandler),this.evTarget&&Mg(this.target,this.evTarget,this.domHandler),this.evWin&&Mg(Hg(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Dg(this.element,this.evEl,this.domHandler),this.evTarget&&Dg(this.target,this.evTarget,this.domHandler),this.evWin&&Dg(Hg(this.element),this.evWin,this.domHandler)}};var ry=function(t,e,n){return{x:e/t||0,y:n/t||0}};function iy(t,e){return t===e?1:Ag(t)>=Ag(e)?t<0?2:4:e<0?8:16}var oy=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zg,r=Bd(n,2),i=r[0],o=r[1];return Math.sqrt(Math.pow(e[i]-t[i],2)+Math.pow(e[o]-t[o],2))},ay=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zg,r=Bd(n,2),i=r[0],o=r[1];return 180*Math.atan2(e[o]-t[o],e[i]-t[i])/Math.PI},sy=function(t,e){return ay(e[1],e[0],Kg)+ay(t[1],t[0],Kg)},cy=function(t,e){return oy(e[0],e[1],Kg)/oy(t[0],t[1],Kg)},ly={mousedown:1,mousemove:2,mouseup:4},uy="mousedown",fy="mousemove mouseup";function hy(){this.evEl=uy,this.evWin=fy,this.pressed=!1,Jg.apply(this,arguments)}Cg(hy,Jg,{handler:function(t){var e=ly[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Gg,srcEvent:t}))}});var py={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},dy={2:Xg,3:"pen",4:Gg,5:"kinect"},vy="pointerdown",gy="pointermove pointerup pointercancel";function yy(){this.evEl=vy,this.evWin=gy,Jg.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}"undefined"!=typeof window&&window.MSPointerEvent&&!window.PointerEvent&&(vy="MSPointerDown",gy="MSPointerMove MSPointerUp MSPointerCancel"),Cg(yy,Jg,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=py[r],o=dy[t.pointerType]||t.pointerType,a=o==Xg,s=_g(e).call(e,(function(e){return e.pointerId==t.pointerId}));1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&tf(e).call(e,s,1))}});var my={touchstart:1,touchmove:2,touchend:4,touchcancel:8},by="touchstart",wy="touchstart touchmove touchend touchcancel";function _y(){this.evTarget=by,this.evWin=wy,this.started=!1,Jg.apply(this,arguments)}Cg(_y,Jg,{handler:function(t){var e=my[t.type];if(1===e&&(this.started=!0),this.started){var n=Bd(function(t,e){var n=Fg(t.touches),r=Fg(t.changedTouches);12&e&&(n=Bg(Ba(n).call(n,r),"identifier",!0));return[n,r]}(t,e),2),r=n[0],i=n[1];12&e&&r.length-i.length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r,changedPointers:i,pointerType:Xg,srcEvent:t})}}});var ky={touchstart:1,touchmove:2,touchend:4,touchcancel:8},xy="touchstart touchmove touchend touchcancel";function Sy(){this.evTarget=xy,this.targetIds={},Jg.apply(this,arguments)}function Ey(t,e){var n=Fg(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o=Fg(t.changedTouches),a=[],s=this.target;return i=kn(n).call(n,(function(t){return Ng(t.target,s)})),1===e&&lr(i).call(i,(function(t){r[t.identifier]=!0})),lr(o).call(o,(function(t){r[t.identifier]&&a.push(t),12&e&&delete r[t.identifier]})),a.length?[Bg(Ba(i).call(i,a),"identifier",!0),a]:void 0}Cg(Sy,Jg,{handler:function(t){var e=ky[t.type],n=Ey.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Xg,srcEvent:t})}});function Ty(){var t;Jg.apply(this,arguments);var e=K(t=this.handler).call(t,this);this.touch=new Sy(this.manager,e),this.mouse=new hy(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Py(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Ay.call(this,e)):12&t&&Ay.call(this,e)}function Ay(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;of((function(){var t=Pu(r).call(r,n);t>-1&&tf(r).call(r,t,1)}),2500)}}function Oy(t){var e,n=t.srcEvent,r=n.clientX,i=n.clientY;return!!Rv(e=this.lastTouches).call(e,(function(t){return Math.abs(r-t.x)<=25&&Math.abs(i-t.y)<=25}))}Cg(Ty,Jg,{handler:function(t,e,n){var r=n.pointerType==Xg,i=n.pointerType==Gg;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Py.call(this,e,n);else if(i&&Oy.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Iy=function(){var t="undefined"!=typeof document&&document.createElement("div");if(t)return qg(t.style,"touchAction")},Ly=function(){return void 0!==Iy()},Cy="compute",jy="auto",Ry="manipulation",My="none",Dy="pan-x",Ny="pan-y";function zy(t,e){this.manager=t,this.set(e)}zy.prototype={set:function(t){var e;t==Cy&&(t=this.compute());var n=Fy();Ly()&&this.manager.element.style&&n[t]&&(this.manager.element.style[Iy()]=t),this.actions=Qd(e=t.toLowerCase()).call(e)},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e=[];return lr(t=this.manager.recognizers).call(t,(function(t){jg(t.options.enable,[t])&&(e=Ba(e).call(e,t.getTouchAction()))})),function(t){if(zg(t,My))return My;var e=zg(t,Dy),n=zg(t,Ny);return e&&n?My:e||n?e?Dy:Ny:zg(t,Ry)?Ry:jy}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=Fy(),o=zg(r,My)&&!i.none,a=zg(r,Ny)&&!i["pan-y"],s=zg(r,Dy)&&!i["pan-x"];if(o){var c=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(c&&l&&u)return}if(!s||!a)return o||a&&6&n||s&&n&$g?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Uy=["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"];function Fy(){if(!Ly())return!1;var t="undefined"!=typeof window&&window.CSS&&window.CSS.supports;return mv(Uy).call(Uy,(function(e,n){return e[n]=!t||window.CSS.supports("touch-action",n),e}),{})}var By=32;function qy(t){this.options=Eg(Eg({},this.defaults),t),this.id=Vg++,this.manager=null,this.options.enable=Rg(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Vy(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Hy(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}qy.prototype={defaults:{},set:function(t){return $p(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(Ig(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wy(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return Ig(t,"dropRecognizeWith",this)||(t=Wy(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(Ig(t,"requireFailure",this))return this;var e=this.requireFail;return t=Wy(t,this),-1===Pu(e).call(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){var e,n;if(Ig(t,"dropRequireFailure",this))return this;t=Wy(t,this);var r=Pu(e=this.requireFail).call(e,t);return r>-1&&tf(n=this.requireFail).call(n,r,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Vy(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Vy(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=By},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=Eg({},t);if(!jg(this.options.enable,[this,e]))return this.reset(),void(this.state=By);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(){},getTouchAction:function(){},reset:function(){}};var Wy=function(t,e){var n=e.manager;return n?n.get(t):t};function Yy(){qy.apply(this,arguments)}function Xy(){Yy.apply(this,arguments),this.pX=null,this.pY=null}function Gy(){Yy.apply(this,arguments)}function $y(){qy.apply(this,arguments),this._timer=null,this._input=null}function Zy(){Yy.apply(this,arguments)}function Ky(){Yy.apply(this,arguments)}function Jy(){qy.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qy(t,e){return(e=e||{}).recognizers=Rg(e.recognizers,Qy.defaults.preset),new tm(t,e)}Cg(Yy,qy,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:By}}),Cg(Xy,Yy,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Ny),t&$g&&e.push(Dy),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Yy.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Hy(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),Cg(Gy,Yy,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[My]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),Cg($y,qy,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jy]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=of((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return By},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Og(),this.manager.emit(this.options.event,this._input)))}}),Cg(Zy,Yy,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[My]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),Cg(Ky,Yy,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Xy.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&$g&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&Ag(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Hy(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),Cg(Jy,qy,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ry]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||oy(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=of((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return By},failTimeout:function(){var t=this;return this._timer=of((function(){t.state=By}),this.options.interval),By},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qy.VERSION="2.0.7",Qy.defaults={domEvents:!1,touchAction:Cy,enable:!0,inputTarget:null,inputClass:null,preset:[[Zy,{enable:!1}],[Gy,{enable:!1},["rotate"]],[Ky,{direction:6}],[Xy,{direction:6},["swipe"]],[Jy],[Jy,{event:"doubletap",taps:2},["tap"]],[$y]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tm(t,e){var n,r=this;(this.options=Eg(Eg({},Qy.defaults),e),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Qg(this),this.touchAction=new zy(this,this.options.touchAction),em(this,!0),this.options.recognizers)&&lr(n=this.options.recognizers).call(n,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}))}function em(t,e){var n,r,i=t.element;i.style&&(lr(n=xg(t.options.cssProps)).call(n,(function(n){var o=Bd(n,2),a=o[0],s=o[1];r=qg(i.style,s),e?(t.oldCssProps[r]=i.style[r],i.style[r]=a):i.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}tm.prototype={set:function(t){return $p(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null),lr(n).call(n,(function(n){2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n)}))}},get:function(t){var e;return t instanceof qy?t:Rv(e=this.recognizers).call(e,(function(e){return e.options.event==t}))||null},add:function(t){if(Ig(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(Ig(t,"remove",this))return this;if(t=this.get(t)){var e,n,r=Pu(e=this.recognizers).call(e,t);if(-1!==r)tf(n=this.recognizers).call(n,r,1),this.touchAction.update()}return this},on:function(t,e){var n;if(void 0!==t&&void 0!==e){var r=this.handlers;return lr(n=Ug(t)).call(n,(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){var n;if(void 0!==t){var r=this.handlers;return lr(n=Ug(t)).call(n,(function(t){if(e){if(r[t]){var n,i;tf(n=r[t]).call(n,Pu(i=r[t]).call(i,e),1)}}else delete r[t]})),this}},emit:function(t,e){var n;this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var r=this.handlers[t]&&rd(n=this.handlers[t]).call(n);r&&r.length&&(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},lr(r).call(r,(function(t){return t(e)})))},destroy:function(){this.element&&em(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},$p(Qy,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:By,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:$g,DIRECTION_ALL:30,Manager:tm,Input:Jg,TouchAction:zy,TouchInput:Sy,MouseInput:hy,PointerEventInput:yy,TouchMouseInput:Ty,SingleTouchInput:_y,Recognizer:qy,AttrRecognizer:Yy,Tap:Jy,Pan:Xy,Swipe:Ky,Pinch:Gy,Rotate:Zy,Press:$y,on:Mg,off:Dg,each:Lg,inherit:Cg,prefixed:qg});var nm=Qy,rm=function(){function t(e){var n,r,i,o,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mr(this,t),this.el=e,this.options=c,this.swipeVelocity=null!==(n=this.options.swipeVelocity)&&void 0!==n?n:.3,this.swipeThreshold=null!==(r=this.options.swipeThreshold)&&void 0!==r?r:10,this.navigationDuration=null!==(i=this.options.navigationDuration)&&void 0!==i?i:240,this.navigationPanDuration=null!==(o=this.options.navigationPanDuration)&&void 0!==o?o:200,this.zoomDuration=null!==(a=this.options.zoomDuration)&&void 0!==a?a:200,this.doubleTapDelay=null!==(s=this.options.doubleTapDelay)&&void 0!==s?s:300,this.position=-1,this.pinching=!1,this.panning=!1,this.transform={left:0,top:0,scale:1},this.startTransform={left:0,top:0,scale:1},this.tap={count:0,delay:this.doubleTapDelay},this.started=!1,this.destroyed=!1,this._events={}}return wr(t,[{key:"bind",value:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e)}},{key:"unbind",value:function(t,e){var n,r;if(this._events[t])return tf(n=this._events[t]).call(n,Pu(r=this._events[t]).call(r,e),1)}},{key:"trigger",value:function(t){for(var e,n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];null===(e=this._events[t])||void 0===e||lr(e).call(e,(function(t){return t.apply(n,i)}))}},{key:"start",value:function(){var t,e,n,r,i,o,a,s,c,l,u,f,h,p,d,v;this.scrollerEl=this.el.querySelector(".verso__scroller"),this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this.animation=new ig(this.scrollerEl),this.hammer=new nm.Manager(this.scrollerEl,{touchAction:"none",enable:!1,inputClass:this.getHammerInputClass()}),this.hammer.add(new nm.Pan({threshold:5,direction:nm.DIRECTION_ALL})),this.hammer.add(new nm.Tap({event:"singletap",interval:0})),this.hammer.add(new nm.Pinch),this.hammer.add(new nm.Press({time:500})),this.hammer.on("panstart",K(t=this.onPanStart).call(t,this)),this.hammer.on("panmove",K(e=this.onPanMove).call(e,this)),this.hammer.on("panend",K(n=this.onPanEnd).call(n,this)),this.hammer.on("pancancel",K(r=this.onPanEnd).call(r,this)),this.hammer.on("singletap",K(i=this.onSingletap).call(i,this)),this.hammer.on("pinchstart",K(o=this.onPinchStart).call(o,this)),this.hammer.on("pinchmove",K(a=this.onPinchMove).call(a,this)),this.hammer.on("pinchend",K(s=this.onPinchEnd).call(s,this)),this.hammer.on("pinchcancel",K(c=this.onPinchEnd).call(c,this)),this.hammer.on("press",K(l=this.onPress).call(l,this)),this.scrollerEl.addEventListener("contextmenu",K(u=this.onContextmenu).call(u,this),!1),this.scrollerEl.addEventListener("wheel",K(f=this.onWheel).call(f,this),!1);var g=null!==(h=this.getPageSpreadPositionFromPageId(this.options.pageId))&&void 0!==h?h:0;return this.hammer.set({enable:!0}),this.started=!0,this.destroyed=!1,this.navigateTo(g,{duration:0}),this.resizeListener=K(p=this.onResize).call(p,this),this.touchStartListener=K(d=this.onTouchStart).call(d,this),this.touchEndListener=K(v=this.onTouchEnd).call(v,this),this.el.addEventListener("touchstart",this.touchStartListener,!1),this.el.addEventListener("touchend",this.touchEndListener,!1),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",this.resizeListener,!1),this}},{key:"destroy",value:function(){var t,e;return this.started?this.destroyed?console.warn("You've called .destroy() on a viewer that has already been destroyed and not restarted, this is a no-op."):(this.scrollerEl.removeEventListener("contextmenu",K(t=this.onContextmenu).call(t,this)),this.scrollerEl.removeEventListener("wheel",K(e=this.onWheel).call(e,this)),this.hammer.destroy(),this.el.removeEventListener("touchstart",this.touchStartListener),this.el.removeEventListener("touchend",this.touchEndListener),window.removeEventListener("resize",this.resizeListener),this.started=!1,this.destroyed=!0,this):console.warn("You've called .destroy() on a viewer that was not started yet, this is a no-op.")}},{key:"first",value:function(t){return this.navigateTo(0,t)}},{key:"prev",value:function(t){return this.navigateTo(this.getPosition()-1,t)}},{key:"next",value:function(t){return this.navigateTo(this.getPosition()+1,t)}},{key:"last",value:function(t){return this.navigateTo(this.getPageSpreadCount()-1,t)}},{key:"navigateTo",value:function(t){var e,n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.destroyed)return console.warn("You've called a navigation method on a viewer that was previously destroyed, this is a no-op.\nPlease call viewer.start() again, if you want to reuse this Viewer instance.\n\nYou might have forgotten to remove an event handler that\ncalls first/prev/next/last/navigateTo on the viewer.");if(!this.started)return console.warn("\nYou've called a navigation method on a viewer that hasn't been started yet, this is a no-op.\nPlease call viewer.start() first.\n\nYou might have forgotten to remove an event handler that\ncalls .first()/.prev()/.next()/.last()/.navigateTo() on the viewer.\n");if(!(t<0||t>this.getPageSpreadCount()-1)){var a=this.getPosition(),s=this.getPageSpreadFromPosition(a),c=this.getPageSpreadFromPosition(t),l=this.getCarouselFromPageSpread(c),u=null!==(e=o.velocity)&&void 0!==e?e:1,f=null!==(n=o.duration)&&void 0!==n?n:this.navigationDuration;f/=Math.abs(u);var h=c.isScrollable()?"pan-y":"none";null==s||s.deactivate(),c.activate(),lr(r=l.visible).call(r,(function(t){return t.position().setVisibility("visible")})),this.hammer.set({touchAction:h}),this.transform.left=this.getLeftTransformFromPageSpread(t,c),this.setPosition(t),this.transform.scale>1&&(this.transform.top=0,this.transform.scale=1,this.trigger("zoomedOut",{position:a})),this.trigger("beforeNavigation",{currentPosition:a,newPosition:t}),this.animation.animate({x:"".concat(this.transform.left,"%"),duration:f},(function(){var t;l=i.getCarouselFromPageSpread(i.getActivePageSpread()),lr(t=l.gone).call(t,(function(t){return t.setVisibility("gone")})),i.trigger("afterNavigation",{newPosition:i.getPosition(),previousPosition:a})}))}}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getLeftTransformFromPageSpread",value:function(t,e){var n=0;return t===this.getPageSpreadCount()-1?n=100-e.getWidth()-e.getLeft():t>0&&(n=(100-e.getWidth())/2-e.getLeft()),n}},{key:"getCarouselFromPageSpread",value:function(t){var e,n={visible:[],gone:[]};return lr(e=this.pageSpreads).call(e,(function(e){var r=!1;e.getLeft()<=t.getLeft()?e.getLeft()+e.getWidth()>t.getLeft()-100&&(r=!0):e.getLeft()-e.getWidth()<t.getLeft()+100&&(r=!0),!0===r?n.visible.push(e):n.gone.push(e)})),n}},{key:"traversePageSpreads",value:function(t){for(var e=[],n=0,r=0,i=uv(t);r<i.length;r++){var o,a,s,c=i[r],l=c.getAttribute("data-id"),u=c.getAttribute("data-type"),f=(null===(o=c.getAttribute("data-page-ids"))||void 0===o?void 0:o.split(","))||[],h=Number(null!==(a=c.getAttribute("data-max-zoom-scale"))&&void 0!==a?a:1),p=Number(null!==(s=c.getAttribute("data-width"))&&void 0!==s?s:100),d=new og(c,{id:l,type:u,pageIds:f,maxZoomScale:h,width:p,left:n});n+=p,e.push(d)}return e}},{key:"buildPageIds",value:function(t){var e={};return lr(t).call(t,(function(t){var n;lr(n=t.options.pageIds).call(n,(function(n){e[n]=t}))})),e}},{key:"isCoordinateInsideElement",value:function(t,e,n){var r=n.getBoundingClientRect();return t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}},{key:"getCoordinateInfo",value:function(t,e,n){for(var r,i={x:t-=this.el.offsetLeft,y:e-=this.el.offsetTop,contentX:0,contentY:0,pageX:0,pageY:0,overlayEls:[],pageEl:null,isInsideContentX:!1,isInsideContentY:!1,isInsideContent:!1},o=n.getContentRect(),a=n.getOverlayEls(),s=n.getPageEls(),c=0,l=uv(a);c<l.length;c++){var u=l[c];this.isCoordinateInsideElement(t,e,u)&&i.overlayEls.push(u)}for(var f=0,h=uv(s);f<h.length;f++)if(r=h[f],this.isCoordinateInsideElement(t,e,r)){i.pageEl=r;break}return i.contentX=(t-o.left)/Math.max(1,o.width),i.contentY=(e-o.top)/Math.max(1,o.height),i.pageEl&&(i.isInsideContentX=i.contentX>=0&&i.contentX<=1,i.isInsideContentY=i.contentY>=0&&i.contentY<=1,i.isInsideContent=i.isInsideContentX&&i.isInsideContentY),i}},{key:"getPageSpreadCount",value:function(){return this.pageSpreads.length}},{key:"getActivePageSpread",value:function(){return this.getPageSpreadFromPosition(this.getPosition())}},{key:"getPageSpreadFromPosition",value:function(t){return this.pageSpreads[t]}},{key:"getPageSpreadPositionFromPageId",value:function(t){for(var e=0;e<this.pageSpreads.length;e++){var n,r=this.pageSpreads[e];if(Pu(n=r.options.pageIds).call(n,t)>-1)return e}}},{key:"getPageSpreadBounds",value:function(t){var e=t.getRect(),n=t.getContentRect();return{left:(n.left-e.left)/e.width*100,top:(n.top-e.top)/e.height*100,width:n.width/e.width*100,height:n.height/e.height*100,pageSpreadRect:e,pageSpreadContentRect:n}}},{key:"clipCoordinate",value:function(t,e,n,r){return n*e<100?t=r*-e+50-n*e/2:(t=Math.min(t,r*-e),t=Math.max(t,r*-e-n*e+100)),t}},{key:"zoomTo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=n.scale,o=this.transform.scale,a=this.getActivePageSpread(),s=this.getPageSpreadBounds(a),c=a.getLeft(),l=c*o,u=null!==(t=n.x)&&void 0!==t?t:0,f=null!==(e=n.y)&&void 0!==e?e:0;1!==i?(u-=s.pageSpreadRect.left,f-=s.pageSpreadRect.top,u=u/(s.pageSpreadRect.width/o)*100,f=f/(s.pageSpreadRect.height/o)*100,u=this.transform.left+l+u-u*i/o,f=this.transform.top+f-f*i/o,!1!==n.bounds&&i>1&&(u=this.clipCoordinate(u,i,s.width,s.left),f=this.clipCoordinate(f,i,s.height,s.top))):(u=0,f=0),u-=c*i,this.transform.left=u,this.transform.top=f,this.transform.scale=i,this.animation.animate({x:"".concat(u,"%"),y:"".concat(f,"%"),scale:i,easing:n.easing,duration:n.duration},r)}},{key:"refresh",value:function(){return this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this}},{key:"getHammerInputClass",value:function(){return"undefined"!=typeof window&&"ontouchstart"in window&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?nm.TouchInput:null}},{key:"onPanStart",value:function(t){if(this.transform.scale>1||t.direction===nm.DIRECTION_LEFT||t.direction===nm.DIRECTION_RIGHT){var e=t.center.x,n=this.scrollerEl.offsetWidth;e>30&&e<n-30&&(this.startTransform.left=this.transform.left,this.startTransform.top=this.transform.top,this.panning=!0,this.trigger("panStart"))}}},{key:"onPanMove",value:function(t){var e;if(!0!==this.pinching&&!1!==this.panning)if(this.transform.scale>1){var n=this.getActivePageSpread(),r=n.getLeft()*this.transform.scale,i=this.getPageSpreadBounds(n),o=this.transform.scale;e=this.startTransform.left+r+t.deltaX/this.scrollerEl.offsetWidth*100;var a=this.startTransform.top+t.deltaY/this.scrollerEl.offsetHeight*100;e=this.clipCoordinate(e,o,i.width,i.left),a=this.clipCoordinate(a,o,i.height,i.top),e-=r,this.transform.left=e,this.transform.top=a,this.animation.animate({x:"".concat(e,"%"),y:"".concat(a,"%"),scale:o,easing:"linear"})}else e=this.transform.left+t.deltaX/this.scrollerEl.offsetWidth*100,this.animation.animate({x:"".concat(e,"%"),easing:"linear"})}},{key:"onPanEnd",value:function(t){if(!1!==this.panning&&(this.panning=!1,this.trigger("panEnd"),1===this.transform.scale&&!1===this.pinching)){var e=this.getPosition(),n=t.overallVelocityX;Math.abs(n)>=this.swipeVelocity&&Math.abs(t.deltaX)>=this.swipeThreshold&&(t.offsetDirection===nm.DIRECTION_LEFT?this.next({velocity:n,duration:this.navigationPanDuration}):t.offsetDirection===nm.DIRECTION_RIGHT&&this.prev({velocity:n,duration:this.navigationPanDuration})),e===this.getPosition()&&(this.animation.animate({x:"".concat(this.transform.left,"%"),duration:this.navigationPanDuration}),this.trigger("attemptedNavigation",{position:this.getPosition()}))}}},{key:"onPinchStart",value:function(){this.getActivePageSpread().isZoomable()&&(this.pinching=!0,this.el.setAttribute("data-pinching",!0),this.startTransform.scale=this.transform.scale)}},{key:"onPinchMove",value:function(t){!1!==this.pinching&&this.zoomTo({x:t.center.x,y:t.center.y,scale:this.startTransform.scale*t.scale,bounds:!1,easing:"linear"})}},{key:"onPinchEnd",value:function(t){var e=this;if(!1!==this.pinching){var n=this.getActivePageSpread().getMaxZoomScale(),r=Math.max(1,Math.min(this.transform.scale,n)),i=this.getPosition();1===this.startTransform.scale&&r>1?this.trigger("zoomedIn",{position:i}):this.startTransform.scale>1&&1===r&&this.trigger("zoomedOut",{position:i}),this.zoomTo({x:t.center.x,y:t.center.y,scale:r,duration:this.zoomDuration},(function(){e.pinching=!1,e.el.setAttribute("data-pinching",!1)}))}}},{key:"onPress",value:function(t){this.trigger("pressed",this.getCoordinateInfo(t.center.x,t.center.y,this.getActivePageSpread()))}},{key:"onContextmenu",value:function(t){return t.preventDefault(),this.trigger("contextmenu",this.getCoordinateInfo(t.clientX,t.clientY,this.getActivePageSpread())),!1}},{key:"onWheel",value:function(t){var e,n,r=this,i=this.getActivePageSpread();if(!1!==i.isZoomable()){var o=t.deltaY;event.webkitDirectionInvertedFromDevice&&(o=-o),o>0&&1===this.transform.scale?(n=i.getMaxZoomScale(),e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:n,duration:this.zoomDuration},(function(){r.trigger("zoomedIn",{position:e})}))):o<0&&this.transform.scale>1&&(e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:1,duration:this.zoomDuration},(function(){r.trigger("zoomedOut",{position:e})})))}}},{key:"onSingletap",value:function(t){var e=this,n=this.getActivePageSpread(),r=this.getCoordinateInfo(t.center.x,t.center.y,n);if(clearTimeout(this.tap.timeout),1===this.tap.count){if(this.tap.count=0,this.trigger("doubleClicked",r),n.isZoomable()){var i=n.getMaxZoomScale(),o=this.transform.scale>1,a=o?1:i,s=o?"zoomedOut":"zoomedIn",c=this.getPosition();this.zoomTo({x:t.center.x,y:t.center.y,scale:a,duration:this.zoomDuration},(function(){e.trigger(s,{position:c})}))}}else this.tap.count++,this.tap.timeout=of((function(){e.tap.count=0,e.trigger("clicked",r)}),this.tap.delay)}},{key:"onTouchStart",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onTouchEnd",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onResize",value:function(){if(this.transform.scale>1){var t=this.getPosition(),e=this.getActivePageSpread();this.transform.left=this.getLeftTransformFromPageSpread(t,e),this.transform.top=0,this.transform.scale=1,this.zoomTo({x:this.transform.left,y:this.transform.top,scale:this.transform.scale,duration:0}),this.trigger("zoomedOut",{position:t})}}}]),t}();function im(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var om=function(t){Pr(n,t);var e=im(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mr(this,n),(t=e.call(this)).options=r,t.contentsRendered=!1,t.hotspotsRendered=!1,t.el=t.renderEl(),t}return wr(n,[{key:"getId",value:function(){return this.options.id}},{key:"getEl",value:function(){return this.el}},{key:"getPages",value:function(){return this.options.pages}},{key:"renderEl",value:function(){var t,e=document.createElement("div"),n=zp(t=this.getPages()).call(t,(function(t){return t.id}));return e.className="verso__page-spread sgn-pp__page-spread",e.setAttribute("data-id",this.getId()),e.setAttribute("data-type","page"),e.setAttribute("data-width",this.options.width),e.setAttribute("data-page-ids",n.join(",")),e.setAttribute("data-max-zoom-scale",this.options.maxZoomScale),e.setAttribute("data-zoomable",!1),e}},{key:"renderContents",value:function(){var t=this,e=this.getId(),n=this.getEl(),r=this.getPages(),i=r.length,o=0,a=n.clientWidth*(window.devicePixelRatio||1);"double"===this.options.pageMode&&(a/=2);var s=a>700;return lr(r).call(r,(function(a,c){var l=a.images.medium;s&&(l=a.images.large);var u=document.createElement("div"),f=document.createElement("div");u.className="sgn-pp__page verso__page",null!=a.id&&u.setAttribute("data-id",a.id),2===i&&(u.className+=0===c?" verso-page--verso":" verso-page--recto"),u.appendChild(f),n.appendChild(u),f.className="sgn-pp-page__loader",f.innerHTML="<span>".concat(a.label,"</span>"),Tp(l,(function(s,c,h){if(null==s){var p=++o===i;u.style.backgroundImage="url(".concat(l,")"),u.setAttribute("data-width",c),u.setAttribute("data-height",h),u.innerHTML="&nbsp;",p&&n.setAttribute("data-zoomable",!0),t.trigger("pageLoaded",{pageSpreadId:e,page:a}),p&&t.trigger("pagesLoaded",{pageSpreadId:e,pages:r})}else f.innerHTML="<span>!</span>"}))})),this.contentsRendered=!0,this}},{key:"clearContents",value:function(){return this.el.innerHTML="",this.contentsRendered=!1,this}},{key:"zoomIn",value:function(){var t=this,e=rd([]).call(this.el.querySelectorAll(".sgn-pp__page")),n=this.getPages();lr(e).call(e,(function(e){var r=e.getAttribute("data-id"),i=Rv(n).call(n,(function(t){return t.id===r})).images.large;Tp(i,(function(n){null==n&&"true"===t.el.getAttribute("data-active")&&(e.setAttribute("data-image",e.style.backgroundImage),e.style.backgroundImage="url(".concat(i,")"))}))}))}},{key:"zoomOut",value:function(){var t=uv(this.el.querySelectorAll(".sgn-pp__page[data-image]"));lr(t).call(t,(function(t){t.style.backgroundImage=t.getAttribute("data-image"),t.removeAttribute("data-image")}))}}]),n}(As);function am(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var sm=function(t){Pr(n,t);var e=am(n);function n(t){var r;return mr(this,n),(r=e.call(this)).options=t,r.collection=[],r.ids={},r}return wr(n,[{key:"get",value:function(t){return this.ids[t]}},{key:"getFrag",value:function(){var t,e=document.createDocumentFragment();return lr(t=this.collection).call(t,(function(t){return e.appendChild(t.el)})),e}},{key:"update",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single",r=[],i={},o=rd(t=this.options.pages).call(t),a=this.options,s=a.width,c=a.maxZoomScale;if("single"===n)lr(o).call(o,(function(t){return r.push([t])}));else{var l=o.shift(),u=o.length%2==1?o.pop():null,f=Sp(o,2);l&&r.push([l]),lr(f).call(f,(function(t){return r.push(zp(t).call(t,(function(t){return t})))})),u&&r.push([u])}return this.collection=zp(r).call(r,(function(t,r){var o,a=Ba(o="".concat(n,"-")).call(o,r),l=new om({width:s,pageMode:n,maxZoomScale:c,pages:t,id:a});return K(l).call(l,"pageLoaded",(function(t){return e.trigger("pageLoaded",t)})),K(l).call(l,"pagesLoaded",(function(t){return e.trigger("pagesLoaded",t)})),i[a]=l,l})),this.ids=i,this}}]),n}(As);function cm(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var lm=function(t){Pr(n,t);var e=cm(n);function n(t){var r,i,o,a,s,c,l,u,f,h,p,d,v,g,y,m,b,w,_,k,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mr(this,n),(k=e.call(this)).beforeNavigation=K(r=k.beforeNavigation).call(r,_r(k)),k.afterNavigation=K(i=k.afterNavigation).call(i,_r(k)),k.attemptedNavigation=K(o=k.attemptedNavigation).call(o,_r(k)),k.clicked=K(a=k.clicked).call(a,_r(k)),k.doubleClicked=K(s=k.doubleClicked).call(s,_r(k)),k.pressed=K(c=k.pressed).call(c,_r(k)),k.contextmenu=K(l=k.contextmenu).call(l,_r(k)),k.panStart=K(u=k.panStart).call(u,_r(k)),k.panEnd=K(f=k.panEnd).call(f,_r(k)),k.zoomedIn=K(h=k.zoomedIn).call(h,_r(k)),k.zoomedOut=K(p=k.zoomedOut).call(p,_r(k)),k.resize=K(d=k.resize).call(d,_r(k)),k.unload=K(v=k.unload).call(v,_r(k)),k.options=k.makeOptions(x,k.defaults),k.pageId=k.getOption("pageId"),k.els={root:t,pages:t.querySelector(".sgn-pp__pages"),verso:t.querySelector(".verso")},k.pageMode=k.getPageMode(),k.pageSpreads=new sm({pages:k.getOption("pages"),maxZoomScale:k.getOption("pageSpreadMaxZoomScale"),width:k.getOption("pageSpreadWidth")}),K(g=k.pageSpreads).call(g,"pageLoaded",K(y=k.pageLoaded).call(y,_r(k))),K(m=k.pageSpreads).call(m,"pagesLoaded",K(b=k.pagesLoaded).call(b,_r(k))),k.setColor(k.getOption("color")),k.els.pages.parentNode.insertBefore(k.pageSpreads.update(k.pageMode).getFrag(),k.els.pages),k.verso=k.createVerso(),K(k).call(k,"started",K(w=k.start).call(w,_r(k))),K(k).call(k,"destroyed",K(_=k.destroy).call(_,_r(k))),k}return wr(n,[{key:"start",value:function(){var t,e,n=this.getVerso();n.start(),lr(t=n.pageSpreads).call(t,K(e=this.overridePageSpreadContentRect).call(e,this)),this.resizeListener=Ep(this.resize,this.getOption("resizeDelay")),window.addEventListener("resize",this.resizeListener,!1),window.addEventListener("beforeunload",this.unload,!1),this.els.root.setAttribute("data-started",""),this.els.root.setAttribute("tabindex","-1"),this.els.root.focus()}},{key:"destroy",value:function(){var t,e=this.getVerso(),n=e.el.querySelectorAll(".sgn-pp__page-spread");this.els.root.removeAttribute("data-started"),this.els.root.removeAttribute("data-idle"),this.els.root.removeAttribute("data-navigating"),this.els.root.removeAttribute("data-color-brightness"),this.els.root.removeAttribute("data-zoomed-in"),this.els.root.style.backgroundColor="#ffffff",lr(t=uv(n)).call(t,(function(t){t.parentNode.removeChild(t)})),e.destroy(),window.removeEventListener("resize",this.resizeListener,!1),window.removeEventListener("beforeunload",this.unload,!1)}},{key:"makeOptions",value:function(t,e){var n={};for(var r in t){var i;n[r]=null!==(i=t[r])&&void 0!==i?i:e[r]}return n}},{key:"getOption",value:function(t){return this.options[t]}},{key:"setColor",value:function(t){this.els.root.setAttribute("data-color-brightness",kp(t)),this.els.root.style.backgroundColor=t}},{key:"createVerso",value:function(){var t=new rm(this.els.verso,{pageId:this.pageId});return K(t).call(t,"beforeNavigation",this.beforeNavigation),K(t).call(t,"afterNavigation",this.afterNavigation),K(t).call(t,"attemptedNavigation",this.attemptedNavigation),K(t).call(t,"clicked",this.clicked),K(t).call(t,"doubleClicked",this.doubleClicked),K(t).call(t,"pressed",this.pressed),K(t).call(t,"contextmenu",this.contextmenu),K(t).call(t,"panStart",this.panStart),K(t).call(t,"panEnd",this.panEnd),K(t).call(t,"zoomedIn",this.zoomedIn),K(t).call(t,"zoomedOut",this.zoomedOut),t}},{key:"getVerso",value:function(){return this.verso}},{key:"getContentRect",value:function(t){var e={top:0,left:0,right:0,bottom:0,width:0,height:0},n=t.getPageEls(),r=n[0],i=n.length;if(!i)return e;var o=this.getVerso().transform.scale,a=r.offsetWidth*i*o,s=r.offsetHeight*o,c=+r.getAttribute("data-height")/(+r.getAttribute("data-width")*i),l=s,u=l/c;l=(u=Math.min(a,u))*c;var f=r.getBoundingClientRect();return e.width=u,e.height=l,e.top=f.top+(s-l)/2,e.left=f.left+(a-u)/2,e.right=e.width+e.left,e.bottom=e.height+e.top,e}},{key:"formatProgressLabel",value:function(t){var e,n=null!==(e=null==t?void 0:t.options.pages)&&void 0!==e?e:[],r=zp(n).call(n,(function(t){return t.id})),i=zp(n).call(n,(function(t){return t.label})),o=this.getOption("pages").length;return r.length>0?i.join("-")+" / "+o:null}},{key:"renderPageSpreads",value:function(){var t,e=this;return lr(t=this.getVerso().pageSpreads).call(t,(function(t){var n=t.getVisibility(),r=e.pageSpreads.get(t.getId());if(r){var i,o;if("visible"===n&&!1===r.contentsRendered)of(K(i=r.renderContents).call(i,r),0);if("gone"===n&&!0===r.contentsRendered)of(K(o=r.clearContents).call(o,r),0)}})),this}},{key:"findPage",value:function(t){var e;return Rv(e=this.getOption("pages")).call(e,(function(e){return e.id===t}))}},{key:"pageLoaded",value:function(t){this.trigger("pageLoaded",t)}},{key:"pagesLoaded",value:function(t){this.trigger("pagesLoaded",t)}},{key:"beforeNavigation",value:function(t){var e=t.newPosition,n=this.getVerso(),r=n.getPageSpreadFromPosition(e),i=this.pageSpreads.get(r.getId()),o=n.getPageSpreadCount(),a=n.pageSpreadEls[t.newPosition],s=e/(o-1)*100,c=this.formatProgressLabel(i);this.els.root.setAttribute("data-navigating",!0),this.renderPageSpreads(),this.resetIdleTimer(),this.startIdleTimer(),this.trigger("beforeNavigation",{verso:t,pageSpread:i,newSpreadEl:a,progress:s,progressLabel:c,pageSpreadCount:o,newPositionIsEnd:t.newPosition+1===o})}},{key:"afterNavigation",value:function(t){var e=t.newPosition,n=this.getVerso(),r=n.getPageSpreadFromPosition(e),i=this.pageSpreads.get(r.getId()),o=n.getPageSpreadCount(),a=n.pageSpreadEls[t.newPosition];this.els.root.setAttribute("data-navigating",!1),this.trigger("afterNavigation",{verso:t,pageSpread:i,pageSpreadCount:o,newSpreadEl:a,newPositionIsEnd:t.newPosition+1===o})}},{key:"attemptedNavigation",value:function(t){this.trigger("attemptedNavigation",{verso:t})}},{key:"clicked",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("clicked",{verso:t,page:n})}}},{key:"doubleClicked",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("doubleClicked",{verso:t,page:n})}}},{key:"pressed",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("pressed",{verso:t,page:n})}}},{key:"contextmenu",value:function(t){if(t.isInsideContent){var e=t.pageEl.getAttribute("data-id"),n=this.findPage(e);this.trigger("contextmenu",{verso:t,page:n})}}},{key:"panStart",value:function(){this.resetIdleTimer(),this.trigger("panStart",{scale:this.getVerso().transform.scale})}},{key:"panEnd",value:function(){this.startIdleTimer(),this.trigger("panEnd")}},{key:"zoomedIn",value:function(t){var e=t.position,n=this.getVerso().getPageSpreadFromPosition(e),r=this.pageSpreads.get(n.getId());null==r||r.zoomIn(),this.els.root.setAttribute("data-zoomed-in",!0),this.trigger("zoomedIn",{verso:t,pageSpread:r})}},{key:"zoomedOut",value:function(t){var e=t.position,n=this.getVerso().getPageSpreadFromPosition(e),r=this.pageSpreads.get(n.getId());null==r||r.zoomOut(),this.els.root.setAttribute("data-zoomed-in",!1),this.trigger("zoomedOut",{verso:t,pageSpread:r})}},{key:"getPageMode",value:function(){var t=this.getOption("pageMode");if(null==t){var e=this.els.root.offsetWidth;t=this.els.root.offsetHeight/e<.8?"double":"single"}return t}},{key:"resetIdleTimer",value:function(){return clearTimeout(this.idleTimeout),this.els.root.setAttribute("data-idle",!1),this}},{key:"startIdleTimer",value:function(){var t=this;return this.idleTimeout=of((function(){t.els.root.setAttribute("data-idle",!0)}),this.getOption("idleDelay")),this}},{key:"switchPageMode",value:function(t){var e,n,r;if(this.pageMode===t)return this;var i=this.getVerso(),o=i.getPageSpreadFromPosition(i.getPosition()).getPageIds(),a=this.getVerso().el.querySelectorAll(".sgn-pp__page-spread");return this.pageMode=t,this.pageSpreads.update(this.pageMode),lr(e=uv(a)).call(e,(function(t){t.parentNode.removeChild(t)})),this.els.pages.parentNode.insertBefore(this.pageSpreads.getFrag(),this.els.pages),i.refresh(),i.navigateTo(i.getPageSpreadPositionFromPageId(o[0]),{duration:0}),lr(n=i.pageSpreads).call(n,K(r=this.overridePageSpreadContentRect).call(r,this)),this}},{key:"overridePageSpreadContentRect",value:function(t){var e=this;if("page"===t.getType())return t.getContentRect=function(){return e.getContentRect(t)}}},{key:"resize",value:function(){var t=this.getPageMode();null==this.getOption("pageMode")&&t!==this.pageMode?this.switchPageMode(t):this.trigger("resized")}},{key:"unload",value:function(){this.trigger("disappeared")}}]),n}(As);function um(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}lm.prototype.defaults={pages:[],pageSpreadWidth:100,pageSpreadMaxZoomScale:2.3,idleDelay:1e3,resizeDelay:400,color:"#ffffff"};var fm=function(t){Pr(n,t);var e=um(n);function n(t,r){var i,o,a,s,c,l,u,f;return mr(this,n),(f=e.call(this)).eventTracker=t,f.id=r,f.hidden=!0,f.pageSpread=null,K(f).call(f,"appeared",K(i=f.appeared).call(i,_r(f))),K(f).call(f,"disappeared",K(o=f.disappeared).call(o,_r(f))),K(f).call(f,"beforeNavigation",K(a=f.beforeNavigation).call(a,_r(f))),K(f).call(f,"afterNavigation",K(s=f.afterNavigation).call(s,_r(f))),K(f).call(f,"attemptedNavigation",K(c=f.attemptedNavigation).call(c,_r(f))),K(f).call(f,"panStart",K(l=f.panStart).call(l,_r(f))),K(f).call(f,"destroyed",K(u=f.destroy).call(u,_r(f))),f}return wr(n,[{key:"destroy",value:function(){this.pageSpreadDisappeared()}},{key:"trackOpened",value:function(){return null==this.eventTracker||this.eventTracker.trackPagedPublicationOpened({"pp.id":this.id,vt:this.eventTracker.createViewToken(this.id)}),this}},{key:"trackPageSpreadDisappeared",value:function(t){var e=this;return null==this.eventTracker||lr(t).call(t,(function(t){e.eventTracker.trackPagedPublicationPageDisappeared({"pp.id":e.id,"ppp.n":t,vt:e.eventTracker.createViewToken(e.id,t)})})),this}},{key:"appeared",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"disappeared",value:function(){this.pageSpreadDisappeared()}},{key:"beforeNavigation",value:function(){this.pageSpreadDisappeared()}},{key:"afterNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"attemptedNavigation",value:function(t){this.pageSpreadAppeared(t.pageSpread)}},{key:"panStart",value:function(t){1===t.scale&&this.pageSpreadDisappeared()}},{key:"pageSpreadAppeared",value:function(t){t&&!0===this.hidden&&(this.pageSpread=t,this.hidden=!1)}},{key:"pageSpreadDisappeared",value:function(){var t;this.pageSpread&&!1===this.hidden&&(this.trackPageSpreadDisappeared(zp(t=this.pageSpread.getPages()).call(t,(function(t){return t.pageNumber}))),this.hidden=!0,this.pageSpread=null)}}]),n}(As);function hm(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}var pm=function(t){Pr(n,t);var e=hm(n);function n(){var t,r,i,o,a;return mr(this,n),(a=e.call(this)).currentPageSpreadId=null,a.pageSpreadsLoaded={},a.cache={},K(a).call(a,"hotspotsReceived",K(t=a.hotspotsReceived).call(t,_r(a))),K(a).call(a,"afterNavigation",K(r=a.afterNavigation).call(r,_r(a))),K(a).call(a,"pagesLoaded",K(i=a.pagesLoaded).call(i,_r(a))),K(a).call(a,"resized",K(o=a.resized).call(o,_r(a))),a}return wr(n,[{key:"renderHotspots",value:function(t){var e,n=document.createDocumentFragment(),r=t.versoPageSpread.getContentRect(),i=t.pageSpread.getEl(),o=i.querySelectorAll(".sgn-pp__hotspot"),a=i.getBoundingClientRect();for(var s in lr(e=uv(o)).call(e,(function(t){t.parentNode.removeChild(t)})),t.hotspots){var c=t.hotspots[s],l=this.getPosition(t.pages,t.ratio,c),u=this.renderHotspot(c,l,r,a);n.appendChild(u)}return i.appendChild(n),this}},{key:"renderHotspot",value:function(t,e,n,r){var i=document.createElement("div"),o=Math.round(n.height/100*e.top),a=Math.round(n.width/100*e.left),s=Math.round(n.width/100*e.width),c=Math.round(n.height/100*e.height);return o+=Math.round(n.top),a+=Math.round(n.left),o-=r.top,a-=r.left,i.className="sgn-pp__hotspot verso__overlay",null!=t.id&&i.setAttribute("data-id",t.id),null!=t.type&&i.setAttribute("data-type",t.type),i.innerHTML=Up.render("",t),i.style.top="".concat(o,"px"),i.style.left="".concat(a,"px"),i.style.width="".concat(s,"px"),i.style.height="".concat(c,"px"),i}},{key:"getPosition",value:function(t,e,n){var r=null,i=null,o=null,a=null,s=zp(t).call(t,(function(t){return t.pageNumber}));for(var c in n.locations){var l;-1!==Pu(s).call(s,+c)&&lr(l=n.locations[c]).call(l,(function(e){var n=Bd(e,2),l=n[0],u=n[1];if(t[1]&&s[1]===+c&&(l+=1),l/=t.length,null==r&&(r=o=l,i=a=u),l<r&&(r=l),l>o&&(o=l),u<i&&(i=u),u>a)return a=u}))}return{top:i/e*100,left:100*r,width:100*(o-r),height:(a-i)/e*100}}},{key:"requestHotspots",value:function(t,e){this.trigger("hotspotsRequested",{id:t,pages:e})}},{key:"hotspotsReceived",value:function(t){var e=t.pageSpread.getId();this.setCache(e,t),this.renderHotspots(t)}},{key:"getCache",value:function(t){return this.cache[t]}},{key:"setCache",value:function(t,e){return this.cache[t]=e,this}},{key:"afterNavigation",value:function(t){if(null!=t.pageSpread){var e=t.pageSpread.getId();this.currentPageSpreadId=e,this.pageSpreadsLoaded[e]&&this.requestHotspots(e,t.pageSpread.getPages())}}},{key:"pagesLoaded",value:function(t){this.pageSpreadsLoaded[t.pageSpreadId]=!0,this.currentPageSpreadId===t.pageSpreadId&&this.requestHotspots(t.pageSpreadId,t.pages)}},{key:"resized",value:function(){var t=this.getCache(this.currentPageSpreadId);t&&this.renderHotspots(t)}}]),n}(As);function dm(t,e){var n;if(void 0===fv||null==hv(t)){if(Gp(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return vm(t,e);var r=rd(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return uv(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vm(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=Md(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gm(t){var e=function(){if("undefined"==typeof Reflect||!Rt)return!1;if(Rt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Rt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var i=Xr(this).constructor;n=Rt(r,arguments,i)}else n=r.apply(this,arguments);return Hr(this,n)}}function ym(t,e,n,r){var i;return qp({el:n,header:Dv("paged_publication.hotspot_picker.header"),x:e.verso.x,y:e.verso.y,items:zp(i=kn(t).call(t,(function(t){return"offer"===t.type}))).call(i,(function(t){return{id:t.id,title:t.offer.heading,subtitle:t.offer.pricing.currency+""+t.offer.pricing.price}}))},(function(e){return r(Rv(t).call(t,(function(t){return t.id===e.id})))})).destroy}var mm=function(t){Pr(n,t);var e=gm(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mr(this,n),(r=e.call(this)).el=t,r.options=i,r._core=new lm(r.el,{id:r.options.id,pages:r.options.pages,pageSpreadWidth:r.options.pageSpreadWidth,pageSpreadMaxZoomScale:r.options.pageSpreadMaxZoomScale,pageId:r.options.pageId,idleDelay:r.options.idleDelay,resizeDelay:r.options.resizeDelay,color:r.options.color}),r._hotspots=new pm,r._controls=new Uv(r.el,{keyboard:r.options.keyboard}),r._eventTracking=new fm(r.options.eventTracker,r.options.id),r.hotspots=null,r.hotspotQueue=[],r.popover=null,r._setupEventListeners(),r}return wr(n,[{key:"start",value:function(){return this._eventTracking.trackOpened(),this._core.trigger("started"),this}},{key:"destroy",value:function(){return this._core.trigger("destroyed"),this._hotspots.trigger("destroyed"),this._controls.trigger("destroyed"),this._eventTracking.trigger("destroyed"),this.trigger("destroyed"),this}},{key:"navigateTo",value:function(t,e){return this.navigateToIndex(t,e),this}},{key:"navigateToIndex",value:function(t,e){return this._core.getVerso().navigateTo(t,e),this}},{key:"navigateToPageId",value:function(t,e){var n=this._core.getVerso().getPageSpreadPositionFromPageId(t);return this._core.getVerso().navigateTo(n,e)}},{key:"first",value:function(t){return this._core.getVerso().first(t),this}},{key:"prev",value:function(t){return this._core.getVerso().prev(t),this}},{key:"next",value:function(t){return this._core.getVerso().next(t),this}},{key:"last",value:function(t){return this._core.getVerso().last(t),this}},{key:"_setupEventListeners",value:function(){var t,e,n,r,i,o,a,s,c,l,u,f,h,p,d,v,g,y,m,b,w,_,k,x,S,E,T=this;K(t=this._controls).call(t,"prev",(function(t){T.prev(t)})),K(e=this._controls).call(e,"next",(function(t){T.next(t)})),K(n=this._controls).call(n,"first",(function(t){T.first(t)})),K(r=this._controls).call(r,"last",(function(t){T.last(t)})),K(i=this._controls).call(i,"close",(function(t){T.destroy(t)})),K(o=this._hotspots).call(o,"hotspotsRequested",(function(t){T.trigger("hotspotsRequested",t)})),K(a=this._core).call(a,"appeared",(function(t){T._eventTracking.trigger("appeared",t),T.trigger("appeared",t)})),K(s=this._core).call(s,"disappeared",(function(t){T._eventTracking.trigger("disappeared",t),T.trigger("disappeared",t)})),K(c=this._core).call(c,"beforeNavigation",(function(t){T._eventTracking.trigger("beforeNavigation",t),T._controls.trigger("beforeNavigation",t),T.trigger("beforeNavigation",t)})),K(l=this._core).call(l,"afterNavigation",(function(t){T._eventTracking.trigger("afterNavigation",t),T._hotspots.trigger("afterNavigation",t),T.trigger("afterNavigation",t)})),K(u=this._core).call(u,"attemptedNavigation",(function(t){T._eventTracking.trigger("attemptedNavigation",t),T.trigger("attemptedNavigation",t)})),K(f=this._core).call(f,"clicked",(function(t){T._eventTracking.trigger("clicked",t),T.trigger("clicked",t)})),K(h=this._core).call(h,"doubleClicked",(function(t){T._eventTracking.trigger("doubleClicked",t),T.trigger("doubleClicked",t)})),K(p=this._core).call(p,"contextmenu",(function(t){T.trigger("contextmenu",t)})),K(d=this._core).call(d,"pressed",(function(t){T._eventTracking.trigger("pressed",t),T.trigger("pressed",t)})),K(v=this._core).call(v,"panStart",(function(t){T._eventTracking.trigger("panStart",t),T.trigger("panStart",t)})),K(g=this._core).call(g,"zoomedIn",(function(t){T._eventTracking.trigger("zoomedIn",t),T.trigger("zoomedIn",t)})),K(y=this._core).call(y,"zoomedOut",(function(t){T._eventTracking.trigger("zoomedOut",t),T.trigger("zoomedOut",t)})),K(m=this._core).call(m,"pageLoaded",(function(t){T._eventTracking.trigger("pageLoaded",t),T.trigger("pageLoaded",t)})),K(b=this._core).call(b,"pagesLoaded",(function(t){T._hotspots.trigger("pagesLoaded",t),T.trigger("pagesLoaded",t)})),K(w=this._core).call(w,"resized",(function(t){T._hotspots.trigger("resized"),T.trigger("resized",t)})),K(this).call(this,"hotspotsRequested",K(_=this.hotspotsRequested).call(_,this)),K(this).call(this,"beforeNavigation",K(k=this.beforeNavigation).call(k,this)),K(this).call(this,"clicked",K(x=this.clicked).call(x,this)),K(this).call(this,"contextmenu",K(S=this.contextmenu).call(S,this)),K(this).call(this,"pressed",K(E=this.pressed).call(E,this))}},{key:"pickHotspot",value:function(t,e){var n,r=this;if(null!=this.hotspots){var i,o;if(null!=this.popover)null===(i=(o=this.popover).destroy)||void 0===i||i.call(o),this.popover=null;var a=zp(n=t.verso.overlayEls).call(n,(function(t){return r.hotspots[t.getAttribute("data-id")]}));1===a.length?e(a[0]):a.length>1&&(this.popover={destroy:(this.options.pickHotspot||ym)(a,t,this.el,e)})}}},{key:"processHotspotQueue",value:function(){var t,e=this;null!=this.hotspots&&(this.hotspotQueue=kn(t=this.hotspotQueue).call(t,(function(t){var n,r,i={},o=Rv(n=e._core.getVerso().pageSpreads).call(n,(function(e){return e.getId()===t.id}));for(r in e.hotspots){var a=e.hotspots[r];if(!i[r]){var s,c=dm(t.pages);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(a.locations[l.pageNumber]){i[r]={type:a.type,id:a.id,locations:a.locations};break}}}catch(t){c.e(t)}finally{c.f()}}}return e._hotspots.trigger("hotspotsReceived",{pageSpread:e._core.pageSpreads.get(t.id),versoPageSpread:o,ratio:e.options.hotspotRatio,pages:t.pages,hotspots:i}),!1})))}},{key:"hotspotsRequested",value:function(t){this.hotspotQueue.push(t),this.processHotspotQueue()}},{key:"applyHotspots",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hotspots=t,this.processHotspotQueue()}},{key:"beforeNavigation",value:function(){var t,e;null===(t=this.popover)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t)}},{key:"clicked",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotClicked",t)}))}},{key:"contextmenu",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotContextmenu",t)}))}},{key:"pressed",value:function(t){var e=this;this.pickHotspot(t,(function(t){e.trigger("hotspotPressed",t)}))}}]),n}(As);q({target:"Promise",stat:!0},{try:function(t){var e=Qf.f(this),n=eh(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var bm=jh;function wm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):bm.resolve(c).then(r,i)}var _m=e((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?d:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(b=_);var k=m.prototype=g.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return y.prototype=k.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,s,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),km=Jr.Promise,xm=Ni("iterator"),Sm=Array.prototype,Em=function(t,e,n){if(Vd(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Tm=Ni("iterator"),Pm=function(t){var e=t.return;if(void 0!==e)return ai(e.call(t)).value},Am=function(t,e){this.stopped=t,this.result=e},Om=function(t,e,n){var r,i,o,a,s,c,l,u,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Em(e,f,1+h+d),g=function(t){return r&&Pm(r),new Am(!0,t)},y=function(t){return h?(ai(t),d?v(t[0],t[1],g):v(t[0],t[1])):d?v(t,g):v(t)};if(p)r=t;else{if("function"!=typeof(i=function(t){if(null!=t)return t[Tm]||t["@@iterator"]||Uo[ao(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(u=i)&&(Uo.Array===u||Sm[xm]===u)){for(o=0,a=mo(t.length);a>o;o++)if((s=y(t[o]))&&s instanceof Am)return s;return new Am(!1)}r=i.call(t)}for(c=r.next;!(l=c.call(r)).done;){try{s=y(l.value)}catch(t){throw Pm(r),t}if("object"==typeof s&&s&&s instanceof Am)return s}return new Am(!1)},Im=Ni("iterator"),Lm=!1;try{var Cm=0,jm={next:function(){return{done:!!Cm++}},return:function(){Lm=!0}};jm[Im]=function(){return this},Array.from(jm,(function(){throw 2}))}catch(yp){}var Rm,Mm,Dm,Nm=/(iphone|ipod|ipad).*applewebkit/i.test(Pi),zm=Jr.location,Um=Jr.setImmediate,Fm=Jr.clearImmediate,Bm=Jr.process,qm=Jr.MessageChannel,Vm=Jr.Dispatch,Hm=0,Wm={},Ym="onreadystatechange",Xm=function(t){if(Wm.hasOwnProperty(t)){var e=Wm[t];delete Wm[t],e()}},Gm=function(t){return function(){Xm(t)}},$m=function(t){Xm(t.data)},Zm=function(t){Jr.postMessage(t+"",zm.protocol+"//"+zm.host)};Um&&Fm||(Um=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Wm[++Hm]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Rm(Hm),Hm},Fm=function(t){delete Wm[t]},xi?Rm=function(t){Bm.nextTick(Gm(t))}:Vm&&Vm.now?Rm=function(t){Vm.now(Gm(t))}:qm&&!Nm?(Dm=(Mm=new qm).port2,Mm.port1.onmessage=$m,Rm=Em(Dm.postMessage,Dm,1)):Jr.addEventListener&&"function"==typeof postMessage&&!Jr.importScripts&&zm&&"file:"!==zm.protocol&&!Qr(Zm)?(Rm=Zm,Jr.addEventListener("message",$m,!1)):Rm=Ym in ii("script")?function(t){Po.appendChild(ii("script")).onreadystatechange=function(){Po.removeChild(this),Xm(t)}}:function(t){setTimeout(Gm(t),0)});var Km,Jm,Qm,tb,eb,nb,rb,ib,ob={set:Um,clear:Fm},ab=/web0s(?!.*chrome)/i.test(Pi),sb=Ho.f,cb=ob.set,lb=Jr.MutationObserver||Jr.WebKitMutationObserver,ub=Jr.document,fb=Jr.process,hb=Jr.Promise,pb=sb(Jr,"queueMicrotask"),db=pb&&pb.value;db||(Km=function(){var t,e;for(xi&&(t=fb.domain)&&t.exit();Jm;){e=Jm.fn,Jm=Jm.next;try{e()}catch(t){throw Jm?tb():Qm=void 0,t}}Qm=void 0,t&&t.enter()},Nm||xi||ab||!lb||!ub?hb&&hb.resolve?(rb=hb.resolve(void 0),ib=rb.then,tb=function(){ib.call(rb,Km)}):tb=xi?function(){fb.nextTick(Km)}:function(){cb.call(Jr,Km)}:(eb=!0,nb=ub.createTextNode(""),new lb(Km).observe(nb,{characterData:!0}),tb=function(){nb.data=eb=!eb}));var vb,gb,yb,mb,bb=db||function(t){var e={fn:t,next:void 0};Qm&&(Qm.next=e),Jm||(Jm=e,tb()),Qm=e},wb=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Vd(e),this.reject=Vd(n)},_b={f:function(t){return new wb(t)}},kb=function(t,e){if(ai(t),ei(e)&&e.constructor===t)return e;var n=_b.f(t);return(0,n.resolve)(e),n.promise},xb=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Sb=ob.set,Eb=Ni("species"),Tb="Promise",Pb=no.get,Ab=no.set,Ob=no.getterFor(Tb),Ib=km,Lb=Jr.TypeError,Cb=Jr.document,jb=Jr.process,Rb=Ti("fetch"),Mb=_b.f,Db=Mb,Nb=!!(Cb&&Cb.createEvent&&Jr.dispatchEvent),zb="function"==typeof PromiseRejectionEvent,Ub="unhandledrejection",Fb=na(Tb,(function(){if(!(Hi(Ib)!==String(Ib))){if(66===Li)return!0;if(!xi&&!zb)return!0}if(Li>=51&&/native code/.test(Ib))return!1;var t=Ib.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Eb]=e,!(t.then((function(){}))instanceof e)})),Bb=Fb||!function(t,e){if(!e&&!Lm)return!1;var n=!1;try{var r={};r[Im]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Ib.all(t).catch((function(){}))})),qb=function(t){var e;return!(!ei(t)||"function"!=typeof(e=t.then))&&e},Vb=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;bb((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=i?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{u?(i||(2===t.rejection&&Xb(t),t.rejection=1),!0===u?a=r:(p&&p.enter(),a=u(r),p&&(p.exit(),c=!0)),a===l.promise?h(Lb("Promise-chain cycle")):(s=qb(a))?s.call(a,f,h):f(a)):h(r)}catch(t){p&&!c&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Wb(t)}))}},Hb=function(t,e,n){var r,i;Nb?((r=Cb.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Jr.dispatchEvent(r)):r={promise:e,reason:n},!zb&&(i=Jr["on"+t])?i(r):t===Ub&&function(t,e){var n=Jr.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Wb=function(t){Sb.call(Jr,(function(){var e,n=t.facade,r=t.value;if(Yb(t)&&(e=xb((function(){xi?jb.emit("unhandledRejection",r,n):Hb(Ub,n,r)})),t.rejection=xi||Yb(t)?2:1,e.error))throw e.value}))},Yb=function(t){return 1!==t.rejection&&!t.parent},Xb=function(t){Sb.call(Jr,(function(){var e=t.facade;xi?jb.emit("rejectionHandled",e):Hb("rejectionhandled",e,t.value)}))},Gb=function(t,e,n){return function(r){t(e,r,n)}},$b=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Vb(t,!0))},Zb=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Lb("Promise can't be resolved itself");var r=qb(e);r?bb((function(){var n={done:!1};try{r.call(e,Gb(Zb,n,t),Gb($b,n,t))}catch(e){$b(n,e,t)}})):(t.value=e,t.state=1,Vb(t,!1))}catch(e){$b({done:!1},e,t)}}};Fb&&(Ib=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,Ib,Tb),Vd(t),vb.call(this);var e=Pb(this);try{t(Gb(Zb,e),Gb($b,e))}catch(t){$b(e,t)}},(vb=function(t){Ab(this,{type:Tb,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)ro(t,r,e[r],n);return t}(Ib.prototype,{then:function(t,e){var n=Ob(this),r=Mb(Wd(this,Ib));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=xi?jb.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Vb(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),gb=function(){var t=new vb,e=Pb(t);this.promise=t,this.resolve=Gb(Zb,e),this.reject=Gb($b,e)},_b.f=Mb=function(t){return t===Ib||t===yb?new gb(t):Db(t)},"function"==typeof km&&(mb=km.prototype.then,ro(km.prototype,"then",(function(t,e){var n=this;return new Ib((function(t,e){mb.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Rb&&ia({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return kb(Ib,Rb.apply(Jr,arguments))}}))),ia({global:!0,wrap:!0,forced:Fb},{Promise:Ib}),va(Ib,Tb,!1),ep(Tb),yb=Ti(Tb),ia({target:Tb,stat:!0,forced:Fb},{reject:function(t){var e=Mb(this);return e.reject.call(void 0,t),e.promise}}),ia({target:Tb,stat:!0,forced:Fb},{resolve:function(t){return kb(this,t)}}),ia({target:Tb,stat:!0,forced:Bb},{all:function(t){var e=this,n=Mb(e),r=n.resolve,i=n.reject,o=xb((function(){var n=Vd(e.resolve),o=[],a=0,s=1;Om(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Mb(e),r=n.reject,i=xb((function(){var i=Vd(e.resolve);Om(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Kb=Bh.charAt,Jb="String Iterator",Qb=no.set,tw=no.getterFor(Jb);function ew(t,e){var n=Ut(t);if(vn){var r=vn(t);e&&(r=kn(r).call(r,(function(e){return An(t,e).enumerable}))),n.push.apply(n,r)}return n}Ta(String,"String",(function(t){Qb(this,{type:Jb,string:String(t),index:0})}),(function(){var t,e=tw(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Kb(n,r),e.index+=t.length,{value:t,done:!1})}));var nw,rw=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mr(this,t),yr(this,"fetchDetails",(function(t){return Ip({url:"/v2/catalogs/".concat(e.options.id)},t)})),yr(this,"fetchPages",(function(t){return Ip({url:"/v2/catalogs/".concat(e.options.id,"/pages")},t)})),yr(this,"fetchHotspots",(function(t){return Ip({url:"/v2/catalogs/".concat(e.options.id,"/hotspots")},t)})),this.options=n}var e,n;return wr(t,[{key:"createViewer",value:function(t,e){return new mm(this.options.el,function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)lr(n=ew(Object(r),!0)).call(n,(function(e){yr(t,e,r[e])}));else if(hr)pr(t,hr(r));else{var i;lr(i=ew(Object(r))).call(i,(function(e){vr(t,e,An(r,e))}))}}return t}({id:this.options.id,ownedBy:t.details.dealer_id,color:"#"+t.details.branding.pageflip.color,hotspotRatio:t.details.dimensions.height,keyboard:!0,pageId:this.options.pageId,eventTracker:this.options.eventTracker,pages:this.transformPages(t.pages)},e))}},{key:"transformPages",value:function(t){return zp(t).call(t,(function(t,e){var n=e+1;return{id:"page"+n,label:n+"",pageNumber:n,images:{medium:t.view,large:t.zoom}}}))}},{key:"applyHotspots",value:function(t,e){var n={};lr(e).call(e,(function(t){return n[t.id]=t})),t.applyHotspots(n)}},{key:"fetch",value:(e=_m.mark((function t(e){var n,r,i,o;return _m.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rh.all([this.fetchDetails(),this.fetchPages()]);case 3:if(n=t.sent,r=Bd(n,2),i=r[0],o=r[1],!i||!o){t.next=11;break}e(null,{details:i,pages:o}),t.next=12;break;case 11:throw new Error;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})),n=function(){var t=this,n=arguments;return new bm((function(r,i){var o=e.apply(t,n);function a(t){wm(o,r,i,a,s,"next",t)}function s(t){wm(o,r,i,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})}]),t}(),iw=Object.freeze({__proto__:null,Viewer:mm,Bootstrapper:rw}),ow={config:new Ms,util:Op,translations:Nv};if(ow.storage={local:kd},ow.EventsKit=Ld,ow.CoreKit=Lp,ow.PagedPublicationKit=iw,ow.IncitoPublicationKit=Av,ow.CoreUIKit=Vp,K(nw=ow.config).call(nw,"change",(function(t){var e,n=t.eventTracker,r=t.apiKey;if((r||n)&&(null===(e=n||ow.config.get("eventTracker"))||void 0===e?void 0:e.trackId)===(r||ow.config.get("apiKey")))throw yp(new Error("Track identifier must not be identical to app key. Go to https://etilbudsavis.dk/developers/apps to get a track identifier for your app"));null!=n&&(n.eventsTrackUrl||n.setEventsTrackUrl(ow.config.get("eventsTrackUrl")));var i=t.eventsTrackUrl;i&&ow.config.get("eventTracker")&&ow.config.get("eventTracker").setEventsTrackUrl(i)})),gp()){var aw=document.getElementById("sgn-sdk");if(aw){var sw=aw.getAttribute("data-api-key")||aw.getAttribute("data-app-key"),cw=aw.getAttribute("data-track-id"),lw={};sw&&(lw.apiKey=sw),cw&&(lw.eventTracker=new ow.EventsKit.Tracker({trackId:cw})),ow.config.set(lw)}}return ow}));
//# sourceMappingURL=sgn-sdk.min.js.map
