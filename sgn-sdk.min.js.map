{"version":3,"file":"sgn-sdk.min.js","sources":["../rollupPluginBabelHelpers","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_iter-step.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_to-absolute-index.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-dps.js","../node_modules/core-js/modules/_html.js","../node_modules/core-js/modules/_object-create.js","../node_modules/core-js/modules/_set-to-string-tag.js","../node_modules/core-js/modules/_iter-create.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_object-gpo.js","../node_modules/core-js/modules/_iter-define.js","../node_modules/core-js/modules/es6.array.iterator.js","../node_modules/core-js/modules/web.dom.iterable.js","../node_modules/core-js/modules/_object-sap.js","../node_modules/core-js/modules/es6.object.keys.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_object-gopd.js","../node_modules/core-js/modules/_set-proto.js","../node_modules/core-js/modules/_inherit-if-required.js","../node_modules/core-js/modules/_object-gopn.js","../node_modules/core-js/modules/_is-regexp.js","../node_modules/core-js/modules/_flags.js","../node_modules/core-js/modules/_set-species.js","../node_modules/core-js/modules/es6.regexp.constructor.js","../node_modules/core-js/modules/es6.regexp.flags.js","../node_modules/core-js/modules/es6.regexp.to-string.js","../node_modules/core-js/modules/_fix-re-wks.js","../node_modules/core-js/modules/es6.regexp.replace.js","../node_modules/core-js/modules/es6.function.name.js","../lib/coffeescript/util.coffee","../lib/coffeescript/config.coffee","../node_modules/microevent/microevent.js","../lib/coffeescript/translations.coffee","../lib/coffeescript/core.coffee","../node_modules/mustache/mustache.js","../lib/coffeescript/sgn.coffee","../lib/coffeescript/storage/client-local.coffee","../lib/coffeescript/storage/client-session.coffee","../lib/coffeescript/storage/client-cookie.coffee","../node_modules/core-js/modules/es6.regexp.split.js","../lib/coffeescript/request/index.coffee","../lib/coffeescript/kits/assets/file-upload.coffee","../lib/coffeescript/kits/events/tracker.coffee","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../lib/coffeescript/kits/events/pulse.coffee","../lib/coffeescript/kits/graph/request.coffee","../lib/coffeescript/kits/events/index.coffee","../lib/coffeescript/kits/core/request.coffee","../lib/coffeescript/kits/core/session.coffee","../node_modules/convert-hex/convert-hex.js","../node_modules/convert-string/convert-string.js","../node_modules/sha256/lib/sha256.js","../lib/coffeescript/kits/core/index.coffee","../node_modules/core-js/modules/_array-methods.js","../node_modules/core-js/modules/_is-array.js","../node_modules/core-js/modules/_array-species-constructor.js","../node_modules/core-js/modules/es6.array.find.js","../node_modules/core-js/modules/_array-species-create.js","../lib/coffeescript/kits/paged-publication/page-spread.coffee","../lib/coffeescript/kits/paged-publication/page-spreads.coffee","../lib/coffeescript/kits/paged-publication/core.coffee","../node_modules/verso-browser/dist/verso.js","../lib/coffeescript/kits/paged-publication/hotspots.coffee","../lib/coffeescript/kits/paged-publication/controls.coffee","../lib/coffeescript/key-codes.coffee","../node_modules/crypt/crypt.js","../node_modules/charenc/charenc.js","../node_modules/is-buffer/index.js","../lib/coffeescript/kits/paged-publication/event-tracking.coffee","../lib/coffeescript/kits/paged-publication/viewer.coffee","../lib/coffeescript/kits/paged-publication/bootstrapper.coffee","../node_modules/md5/md5.js","../lib/coffeescript/kits/incito-publication/viewer.coffee","../node_modules/incito-browser/dist/incito.js","../lib/coffeescript/kits/incito-publication/controls.coffee","../lib/coffeescript/kits/incito-publication/bootstrapper.coffee","../lib/coffeescript/kits/incito-publication/index.coffee","../node_modules/core-js/modules/es6.regexp.match.js","../lib/coffeescript/kits/core-ui/popover.coffee","../vendor/gator.js","../lib/coffeescript/kits/core-ui/offer-details.coffee","../lib/coffeescript/kits/core-ui/single-choice-popover.coffee","../lib/coffeescript/kits/core-ui/index.coffee","../lib/coffeescript/index.coffee"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _objectSpread as objectSpread, _inherits as inherits, _inheritsLoose as inheritsLoose, _getPrototypeOf as getPrototypeOf, _setPrototypeOf as setPrototypeOf, _construct as construct, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _superPropBase as superPropBase, _get as get, _set as set, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _toArray as toArray, _toConsumableArray as toConsumableArray, _arrayWithoutHoles as arrayWithoutHoles, _arrayWithHoles as arrayWithHoles, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _iterableToArrayLimitLoose as iterableToArrayLimitLoose, _nonIterableSpread as nonIterableSpread, _nonIterableRest as nonIterableRest, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype.__proto__ = superClass && superClass.prototype;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _construct(Parent, args, Class) {\n  if (typeof Reflect !== \"undefined\" && Reflect.construct) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Parent.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {}\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, _setPrototypeOf(function Super() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }, Class));\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _iterableToArrayLimitLoose(arr, i) {\n  var _arr = [];\n\n  for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n    _arr.push(_step.value);\n\n    if (i && _arr.length === i) break;\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","var core = module.exports = { version: '2.5.6' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: 'Â© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","exports.f = {}.propertyIsEnumerable;\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","util =\n    isBrowser: ->\n        typeof window == 'object' and typeof document == 'object'\n\n    isNode: ->\n        typeof process == 'object'\n\n    error: (err, options) ->\n        err.message = err.message or null\n\n        if typeof options is 'string'\n            err.message = options\n        else if typeof options is 'object' and options?\n            for key, value of options\n                err[key] = value\n\n            err.message = options.message if options.message?\n            err.code = options.code or options.name if options.code? or options.message?\n            err.stack = options.stack if options.stack?\n\n        err.name = options and options.name or err.name or err.code or 'Error'\n        err.time = new Date()\n\n        err\n\n    uuid: ->\n        'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->\n            r = Math.random() * 16 | 0\n            v = if c is 'x' then r else (r & 0x3|0x8)\n\n            v.toString 16\n\n    getQueryParam: (field, url) ->\n        href = if url then url else window.location.href\n        reg = new RegExp '[?&]' + field + '=([^&#]*)', 'i'\n        string = reg.exec href\n\n        if string then string[1] else undefined\n\n    formatQueryParams: (queryParams = {}) ->\n        Object\n            .keys queryParams\n            .map (key) -> key + '=' + encodeURIComponent(queryParams[key])\n            .join '&'\n\n    getRandomNumberBetween: (from, to) ->\n        Math.floor(Math.random() * to) + from\n\n    getOS: ->\n        name = null\n        ua = window.navigator.userAgent\n\n        if ua.indexOf('Windows') > -1\n            name = 'Windows'\n        else if ua.indexOf('Mac') > -1\n            name = 'macOS'\n        else if ua.indexOf('X11') > -1\n            name = 'unix'\n        else if ua.indexOf('Linux') > -1\n            name = 'Linux'\n        else if ua.indexOf('iOS') > -1\n            name = 'iOS'\n        else if ua.indexOf('Android') > -1\n            name = 'Android'\n\n        name\n    \n    getDeviceCategory: ->\n        deviceCategory = 'desktop'\n\n        if navigator.platform is 'iPod' or navigator.platform is 'iPhone'\n            deviceCategory = 'mobile'\n        else if navigator.platform is 'iPad'\n            deviceCategory = 'tablet'\n        else if navigator.platform is 'Android' or /android/gi.test(navigator.userAgent)\n            if /tablet/gi.test(navigator.userAgent)\n                deviceCategory = 'tablet'\n            else\n                deviceCategory = 'mobile'\n\n        deviceCategory\n    \n    getPointer: ->\n        pointer = 'fine'\n\n        pointer = 'coarse' if matchMedia('(pointer:coarse)').matches\n\n        pointer\n    \n    getOrientation: (width, height) ->\n        if width is height\n            'quadratic'\n        else if width > height\n            'horizontal'\n        else\n            'vertical'\n\n    getScreenDimensions: ->\n        density = window.devicePixelRatio ? 1\n        logical =\n            width: window.screen.width\n            height: window.screen.height\n        physical =\n            width: Math.round logical.width * density\n            height: Math.round logical.height * density\n\n        density: density\n        logical: logical\n        physical: physical\n\n    getUtcOffsetSeconds: ->\n        now = new Date()\n        jan1 = new Date now.getFullYear(), 0, 1, 0, 0, 0, 0\n        tmp = jan1.toGMTString()\n        jan2 = new Date tmp.substring(0, tmp.lastIndexOf(' ') - 1)\n        stdTimeOffset = (jan1 - jan2) / 1000\n\n        stdTimeOffset\n\n    getUtcDstOffsetSeconds: ->\n        new Date().getTimezoneOffset() * 60 * -1\n\n    getColorBrightness: (color) ->\n        color = color.replace '#', ''\n        hex = parseInt (hex + '').replace(/[^a-f0-9]/gi, ''), 16\n        rgb = []\n        sum = 0\n        x = 0\n\n        while x < 3\n            s = parseInt(color.substring(2 * x, 2), 16)\n            rgb[x] = s\n\n            sum += s if s > 0\n\n            ++x\n\n        if sum <= 381 then 'dark' else 'light'\n\n    btoa: (str) ->\n        if util.isBrowser()\n            btoa str\n        else\n            buffer = null\n\n            if str instanceof Buffer\n                buffer = str\n            else\n                buffer = new Buffer str.toString(), 'binary'\n\n            buffer.toString 'base64'\n\n    chunk: (arr, size) ->\n        results = []\n\n        while arr.length\n            results.push arr.splice(0, size)\n\n        results\n\n    throttle: (fn, threshold = 250, scope) ->\n        last = undefined\n        deferTimer = undefined\n\n        ->\n            context = scope or @\n            now = new Date().getTime()\n            args = arguments\n\n            if last and now < last + threshold\n                clearTimeout deferTimer\n\n                deferTimer = setTimeout ->\n                    last = now\n                    \n                    fn.apply context, args\n                \n                    return\n                , threshold\n            else\n                last = now\n                fn.apply context, args\n\n            return\n\n    loadImage: (src, callback) ->\n        img = new Image()\n\n        img.onload = -> callback null, img.width, img.height\n        img.onerror = -> callback new Error()\n        img.src = src\n\n        img\n\n    distance: (lat1, lng1, lat2, lng2) ->\n        radlat1 = Math.PI * lat1 / 180\n        radlat2 = Math.PI * lat2 / 180\n        theta = lng1 - lng2\n        radtheta = Math.PI * theta / 180\n        dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        dist = Math.acos(dist)\n        dist = dist * 180 / Math.PI\n        dist = dist * 60 * 1.1515\n        dist = dist * 1.609344 * 1000\n\n        dist\n\n    async:\n        parallel: (asyncCalls, sharedCallback) ->\n            counter = asyncCalls.length\n            allResults = []\n            k = 0\n\n            makeCallback = (index) ->\n                ->\n                    results = []\n                    i = 0\n\n                    counter--\n\n                    while i < arguments.length\n                        results.push arguments[i]\n                        i++\n\n                    allResults[index] = results\n\n                    sharedCallback allResults if counter is 0\n\n                    return\n\n            while k < asyncCalls.length\n                asyncCalls[k] makeCallback(k)\n                k++\n\n            return\n\nmodule.exports = util\n","MicroEvent = require 'microevent'\nConfig = class Config\n    keys: [\n        'appVersion',\n        'appKey',\n        'appSecret',\n        'authToken',\n        'eventTracker',\n        'locale',\n        'coreSessionToken',\n        'coreSessionClientId',\n        'coreUrl',\n        'graphUrl',\n        'eventsTrackUrl',\n        'eventsPulseUrl',\n        'assetsFileUploadUrl'\n    ]\n\n    constructor: ->\n        @attrs = {}\n\n        return\n\n    set: (config = {}) ->\n        changedAttributes = {}\n\n        for key, value of config\n            if key in @keys\n                @attrs[key] = value\n                changedAttributes[key] = value\n\n        @trigger 'change', changedAttributes\n\n        return\n\n    get: (option) ->\n        @attrs[option]\n\nMicroEvent.mixin Config\n\nmodule.exports = Config\n","/**\n * MicroEvent - to make any js object an event emitter (server or browser)\n * \n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * - create a MicroEventDebug with goodies to debug\n *   - make it safer to use\n*/\n\nvar MicroEvent\t= function(){}\nMicroEvent.prototype\t= {\n\tbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tthis._events[event] = this._events[event]\t|| [];\n\t\tthis._events[event].push(fct);\n\t},\n\tunbind\t: function(event, fct){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t},\n\ttrigger\t: function(event /* , args... */){\n\t\tthis._events = this._events || {};\n\t\tif( event in this._events === false  )\treturn;\n\t\tfor(var i = 0; i < this._events[event].length; i++){\n\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\n\t\t}\n\t}\n};\n\n/**\n * mixin will delegate all MicroEvent.js function in the destination object\n *\n * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n *\n * @param {Object} the object which will support MicroEvent\n*/\nMicroEvent.mixin\t= function(destObject){\n\tvar props\t= ['bind', 'unbind', 'trigger'];\n\tfor(var i = 0; i < props.length; i ++){\n\t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n\t}\n}\n\n// export in common js\nif( typeof module !== \"undefined\" && ('exports' in module)){\n\tmodule.exports\t= MicroEvent\n}\n","Mustache = require 'mustache'\npairs =\n    'paged_publication.hotspot_picker.header': 'Which offer did you mean?'\n    'incito_publication.product_picker.header': 'Which product?'\n\nmodule.exports =\n    t: (key, view) ->\n        template = pairs[key] ? ''\n\n        Mustache.render template, view\n\n    update: (translations) ->\n        for key, value of translations\n            pairs[key] = value\n\n        return\n","Config = require './config'\ntranslations = require './translations'\nutil = require './util'\nconfig = new Config()\n\n# Set default values.\nconfig.set\n    locale: 'en_US'\n    coreUrl: 'https://api.etilbudsavis.dk'\n    graphUrl: 'https://graph.service.shopgun.com'\n    eventsTrackUrl: 'https://events.service.shopgun.com/sync'\n    eventsPulseUrl: 'wss://events.service.shopgun.com/pulse'\n    assetsFileUploadUrl: 'https://assets.service.shopgun.com/upload'\n\nmodule.exports =\n    config: config\n\n    translations: translations\n\n    util: util","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.3.0';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));\n","module.exports = require './core'\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.localStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    key: 'sgn-'\n\n    storage: do ->\n        try\n            storage = window.sessionStorage\n\n            storage[\"#{prefixKey}test-storage\"] = 'foobar'\n            delete storage[\"#{prefixKey}test-storage\"]\n\n            storage\n        catch\n            {}\n\n    get: (key) ->\n        try\n            JSON.parse @storage[\"#{prefixKey}#{key}\"]\n\n    set: (key, value) ->\n        try\n            @storage[\"#{prefixKey}#{key}\"] = JSON.stringify value\n\n        @\n","SGN = require '../sgn'\nprefixKey = 'sgn-'\n\nmodule.exports =\n    get: (key) ->\n        return if SGN.util.isNode()\n\n        try\n            name = \"#{prefixKey}#{key}=\"\n            ca = document.cookie.split ';'\n\n            for c in ca\n                ct = c.trim()\n\n                value = ct.substring(name.length, ct.length) if ct.indexOf(name) is 0\n\n            value = JSON.parse value\n        catch err\n            value = {}\n\n        value\n\n    set: (key, value) ->\n        return if SGN.util.isNode()\n\n        try\n            days = 365\n            date = new Date()\n            str = JSON.stringify value\n\n            date.setTime date.getTime() + days * 24 * 60 * 60 * 1000\n\n            document.cookie = \"#{prefixKey}#{key}=#{str};expires=#{date.toUTCString()};path=/\"\n        catch err\n\n        return\n\n\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","SGN = require '../sgn'\n\n{ isBrowser } = require '../util'\n\nXMLHttpRequest = if isBrowser() then window.XMLHttpRequest else require('xmlhttprequest')?.XMLHttpRequest\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    http = new XMLHttpRequest()\n    method = options.method ? 'get'\n    url = options.url\n    headers = options.headers ? {}\n\n    if options.qs?\n        queryParams = SGN.util.formatQueryParams options.qs\n\n        if url.indexOf('?') is -1\n            url += '?' + queryParams\n        else\n            url += '&' + queryParams\n\n    http.open method.toUpperCase(), url\n    http.timeout = options.timeout if options.timeout?\n    http.withCredentials = true if options.useCookies is true\n\n    if options.json is true\n        headers['Content-Type'] = 'application/json'\n        headers['Accept'] = 'application/json'\n\n    for header, value of options.headers\n        http.setRequestHeader header, value if value?\n\n    http.addEventListener 'load', ->\n        headers = http.getAllResponseHeaders().split '\\r\\n'\n        headers = headers.reduce (acc, current, i) ->\n            parts = current.split ': '\n\n            acc[parts[0].toLowerCase()] = parts[1]\n\n            acc\n        , {}\n        body = http.responseText\n\n        body = JSON.parse body if options.json is true\n\n        callback null,\n            statusCode: http.status\n            headers: headers\n            body: body\n\n        return\n    http.addEventListener 'error', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'timeout', ->\n        callback new Error()\n\n        return\n    http.addEventListener 'progress', (e) ->\n        if e.lengthComputable and typeof progressCallback is 'function'\n            progressCallback e.loaded, e.total\n\n        return\n\n    if options.formData?\n        formData = new FormData()\n\n        for key, value of options.formData\n            formData.append key, value\n\n        http.send formData\n    else if options.body?\n        if options.json is true\n            http.send JSON.stringify(options.body)\n        else\n            http.send options.body\n    else\n        http.send()\n\n    return\n","SGN = require '../../sgn'\n\nmodule.exports = (options = {}, callback, progressCallback) ->\n    throw new Error('File is not defined') if not options.file?\n\n    url = SGN.config.get 'assetsFileUploadUrl'\n    timeout = 1000 * 60 * 60\n\n    SGN.request\n        method: 'post'\n        url: url\n        headers:\n            'Accept': 'application/json'\n        formData:\n            file: options.file\n        timeout: timeout\n    , (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Request error'),\n                code: 'RequestError'\n            )\n        else\n            if data.statusCode is 200\n                callback null, JSON.parse(data.body)\n            else\n                callback SGN.util.error(new Error('Request error'),\n                    code: 'RequestError'\n                    statusCode: data.statusCode\n                )\n\n        return\n    , (loaded, total) ->\n        if typeof progressCallback is 'function'\n            progressCallback\n                progress: loaded / total\n                loaded: loaded\n                total: total\n\n        return\n\n    return\n","SGN = require '../../sgn'\nclientLocalStorage = require '../../storage/client-local'\ngetPool = ->\n    data = clientLocalStorage.get 'event-tracker-pool'\n    data = [] if Array.isArray(data) is false\n\n    data\npool = getPool()\n\nclientLocalStorage.set 'event-tracker-pool', []\n\ntry\n    window.addEventListener 'unload', ->\n        pool = pool.concat getPool()\n\n        clientLocalStorage.set 'event-tracker-pool', pool\n\n        return\n    , false\n\nmodule.exports = class Tracker\n    defaultOptions:\n        trackId: null\n        dispatchInterval: 3000\n        dispatchLimit: 100\n        poolLimit: 1000\n        dryRun: false\n\n    constructor: (options = {}) ->\n        for key, value of @defaultOptions\n            @[key] = options[key] or value\n\n        @location =\n            geohash: null\n            time: null\n            country: null\n        @dispatching = false\n\n        # Dispatch events periodically.\n        @interval = setInterval @dispatch.bind(@), @dispatchInterval\n\n        return\n\n    trackEvent: (type, properties = {}, version = 2) ->\n        throw SGN.util.error(new Error('Event type is required')) if typeof type isnt 'number'\n        return if not @trackId?\n\n        if SGN.config.get('appKey') is @trackId\n            # coffeelint: disable=max_line_length\n            throw SGN.util.error(new Error('Track identifier must not be identical to app key. Go to https://business.shopgun.com/developers/apps to get a track identifier for your app'))\n        \n        evt = Object.assign {}, properties, {\n            '_e': type\n            '_v': version\n            '_i': SGN.util.uuid()\n            '_t': Math.round(new Date().getTime() / 1000)\n            '_a': @trackId\n        }\n\n        evt['l.h'] = @location.geohash if @location.geohash?\n        evt['l.ht'] = @location.time if @location.time?\n        evt['l.c'] = @location.country if @location.country?\n\n        pool.push evt\n        pool.shift() while @getPoolSize() > @poolLimit\n\n        @\n\n    setLocation: (location = {}) ->\n        for key, value of location\n            if @location.hasOwnProperty(key)\n                @location[key] = value\n\n        @\n\n    getPoolSize: ->\n        pool.length\n\n    dispatch: ->\n        return if @dispatching is true or @getPoolSize() is 0\n        return pool.splice(0, @dispatchLimit) if @dryRun is true\n\n        events = pool.slice 0, @dispatchLimit\n        nacks = 0\n\n        @dispatching = true\n\n        @ship events, (err, response) =>\n            @dispatching = false\n\n            if not err?\n                response.events.forEach (resEvent) ->\n                    if resEvent.status is 'validation_error' or resEvent.status is 'ack'\n                        pool = pool.filter (poolEvent) -> poolEvent._i isnt resEvent.id\n                    else if 'nack'\n                        nacks++\n\n                    return\n\n                # Keep dispatching until the pool size reaches a sane level.\n                @dispatch() if @getPoolSize() >= @dispatchLimit and nacks is 0\n\n            return\n\n        @\n\n    ship: (events = [], callback) ->\n        http = new XMLHttpRequest()\n        url = SGN.config.get 'eventsTrackUrl'\n\n        http.open 'POST', url\n        http.setRequestHeader 'Content-Type', 'application/json'\n        http.setRequestHeader 'Accept', 'application/json'\n        http.timeout = 1000 * 20\n        http.onload = ->\n            if http.status is 200\n                try\n                    callback null, JSON.parse(http.responseText)\n                catch err\n                    callback SGN.util.error(new Error('Could not parse JSON'))\n            else\n                callback SGN.util.error(new Error('Server did not accept request'))\n\n            return\n        http.onerror = ->\n            callback SGN.util.error(new Error('Could not perform network request'))\n\n            return\n        http.send JSON.stringify(events: events)\n\n        @\n\n    trackPagedPublicationOpened: (properties, version) ->\n        @trackEvent 1, properties, version\n    \n    trackPagedPublicationPageDisappeared: (properties, version) ->\n        @trackEvent 2, properties, version\n    \n    trackOfferOpened: (properties, version) ->\n        @trackEvent 3, properties, version\n    \n    trackClientSessionOpened: (properties, version) ->\n        @trackEvent 4, properties, version\n    \n    trackSearched: (properties, version) ->\n        @trackEvent 5, properties, version","exports.f = Object.getOwnPropertySymbols;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","MicroEvent = require 'microevent'\n\nclass Pulse\n    constructor: ->\n        @destroyed = false\n        @connection = @connect()\n\n        return\n\n    destroy: ->\n        @destroyed = true\n\n        @connection.close()\n\n        @\n\n    connect: ->\n        connection = new WebSocket SGN.config.get('eventsPulseUrl')\n\n        connection.onopen = @onOpen.bind @\n        connection.onmessage = @onMessage.bind @\n        connection.onerror = @onError.bind @\n        connection.onclose = @onClose.bind @\n\n        connection\n\n    onOpen: ->\n        @trigger 'open'\n\n        return\n\n    onMessage: (e) ->\n        try\n            @trigger 'event', JSON.parse(e.data)\n\n        return\n\n    onError: ->\n        return\n\n    onClose: ->\n        if @destroyed is false\n            setTimeout =>\n                @connection = @connect()\n\n                return\n            , 2000\n\n        return\n\nMicroEvent.mixin Pulse\n\nmodule.exports = Pulse\n","SGN = require '../../sgn'\n\nparseCookies = (cookies = []) ->\n    parsedCookies = {}\n\n    cookies.map (cookie) ->\n        parts = cookie.split '; '\n        keyValuePair = parts[0].split '='\n        key = keyValuePair[0]\n        value = keyValuePair[1]\n\n        parsedCookies[key] = value\n\n        return\n    \n    parsedCookies\n\nmodule.exports = (options = {}, callback) ->\n    url = SGN.config.get 'graphUrl'\n    timeout = 1000 * 12\n    appKey = SGN.config.get 'appKey'\n    authToken = SGN.config.get 'authToken'\n    authTokenCookieName = 'shopgun-auth-token'\n    options =\n        method: 'post'\n        url: url\n        timeout: timeout\n        json: true\n        headers: {}\n        body:\n            query: options.query\n            operationName: options.operationName\n            variables: options.variables\n\n    # Apply authorization header when app key is provided to avoid rate limiting.\n    options.headers.Authorization = 'Basic ' + SGN.util.btoa(\"app-key:#{appKey}\") if appKey?\n\n    # Set cookies manually in node.js.\n    if SGN.util.isNode() and authToken?\n        options.cookies = [\n            key: authTokenCookieName\n            value: authToken\n            url: url\n        ]\n    else if SGN.util.isBrowser()\n        options.useCookies = true\n\n    SGN.request options, (err, data) ->\n        if err?\n            callback SGN.util.error(new Error('Graph request error'),\n                code: 'GraphRequestError'\n            )\n        else\n            # Update auth token as it might have changed.\n            if SGN.util.isNode()\n                cookies = parseCookies data.headers?['set-cookie']\n                authCookie = cookies[authTokenCookieName]\n\n                if SGN.config.get('authToken') isnt authCookie\n                    SGN.config.set 'authToken', authCookie\n\n            if data.statusCode is 200\n                callback null, data.body\n            else\n                callback SGN.util.error(new Error('Graph API error'),\n                    code: 'GraphAPIError'\n                    statusCode: data.statusCode\n                )\n\n        return\n\n    return\n\n\n","module.exports =\n    Tracker: require './tracker'\n\n    Pulse: require './pulse'\n","SGN = require '../../sgn'\n\nrequest = (options = {}, callback = ->, runs = 0) ->\n    SGN.CoreKit.session.ensure (err) ->\n        return callback err if err?\n\n        url = options.url ? ''\n        headers = options.headers ? {}\n        json = if typeof options.json is 'boolean' then options.json else true\n        token = SGN.config.get 'coreSessionToken'\n        clientId = SGN.config.get 'coreSessionClientId'\n        appVersion = SGN.config.get 'appVersion'\n        appSecret = SGN.config.get 'appSecret'\n        locale = SGN.config.get 'locale'\n        qs = options.qs ? {}\n        geo = options.geolocation\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = SGN.CoreKit.session.sign appSecret, token if appSecret?\n\n        qs.r_locale = locale if locale?\n        qs.api_av = appVersion if appVersion?\n        qs.client_id = clientId if clientId?\n\n        if geo?\n            qs.r_lat = geo.latitude if geo.latitude? and not qs.r_lat?\n            qs.r_lng = geo.longitude if geo.longitude? and not qs.r_lng?\n            qs.r_radius = geo.radius if geo.radius? and not qs.r_radius?\n            qs.r_sensor = geo.sensor if geo.sensor? and not qs.r_sensor?\n\n        SGN.request\n            method: options.method\n            url: SGN.config.get('coreUrl') + url\n            qs: qs\n            body: options.body\n            formData: options.formData\n            headers: headers\n            json: json\n            useCookies: false\n        , (err, data) ->\n            if err?\n                callback SGN.util.error(new Error('Core request error'),\n                    code: 'CoreRequestError'\n                )\n            else\n                token = SGN.config.get 'coreSessionToken'\n                responseToken = data.headers['x-token']\n\n                SGN.CoreKit.session.saveToken responseToken if responseToken and token isnt responseToken\n\n                if data.statusCode >= 200 and data.statusCode < 300 or data.statusCode is 304\n                    callback null, data.body\n                else\n                    if runs is 0 and data.body? and data.body.code in [1101, 1107, 1108]\n                        SGN.config.set coreSessionToken: undefined\n\n                        request options, callback, ++runs\n                    else\n                        callback SGN.util.error(new Error('Core API error'),\n                            code: 'CoreAPIError'\n                            statusCode: data.statusCode\n                        ), data.body\n\n            return\n\n    return\n\nmodule.exports = request\n","SGN = require '../../sgn'\nsha256 = require 'sha256'\nclientCookieStorage = require '../../storage/client-cookie'\ncallbackQueue = []\nrenewed = false\n\nsession =\n    ttl: 1 * 60 * 60 * 24 * 60\n\n    saveToken: (token) ->\n        throw new Error('No token provided for saving') if not token\n\n        SGN.config.set coreSessionToken: token\n\n        session.saveCookie()\n\n        return\n\n    saveClientId: (clientId) ->\n        SGN.config.set coreSessionClientId: clientId\n\n        session.saveCookie()\n\n        return\n\n    saveCookie: ->\n        clientCookieStorage.set 'session',\n            token: SGN.config.get 'coreSessionToken'\n            client_id: SGN.config.get 'coreSessionClientId'\n\n        return\n\n    create: (callback) ->\n        SGN.request\n            method: 'post'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            json: true\n            qs:\n                api_key: SGN.config.get 'appKey'\n                token_ttl: session.ttl\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 201\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not create session')\n\n            return\n\n        return\n    \n    update: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not update session')\n\n            return\n\n        return\n\n    renew: (callback) ->\n        headers = {}\n        token = SGN.config.get 'coreSessionToken'\n        appSecret = SGN.config.get 'appSecret'\n\n        headers['X-Token'] = token\n        headers['X-Signature'] = session.sign appSecret, token if appSecret?\n\n        SGN.request\n            method: 'put'\n            url: SGN.config.get('coreUrl') + '/v2/sessions'\n            headers: headers\n            json: true\n        , (err, data) ->\n            if err?\n                callback err\n            else if data.statusCode is 200\n                session.saveToken data.body.token\n                session.saveClientId data.body.client_id\n\n                callback err, data.body\n            else\n                callback new Error('Could not renew session')\n\n            return\n\n        return\n\n    ensure: (callback) ->\n        queueCount = callbackQueue.length\n        complete = (err) ->\n            callbackQueue = callbackQueue.filter (fn) ->\n                fn err\n\n                false\n\n            return\n\n        callbackQueue.push callback\n\n        if queueCount is 0\n            if not SGN.config.get('coreSessionToken')?\n                session.create complete\n            else if renewed is false\n                renewed = true\n                session.renew (err) ->\n                    if err?\n                        session.create complete\n                    else\n                        complete()\n                    \n                    return\n            else\n                complete()\n\n        return\n\n    sign: (appSecret, token) ->\n        sha256 [appSecret, token].join('')\n\nmodule.exports = session\n","!function(globals) {\n'use strict'\n\nvar convertHex = {\n  bytesToHex: function(bytes) {\n    /*if (typeof bytes.byteLength != 'undefined') {\n      var newBytes = []\n\n      if (typeof bytes.buffer != 'undefined')\n        bytes = new DataView(bytes.buffer)\n      else\n        bytes = new DataView(bytes)\n\n      for (var i = 0; i < bytes.byteLength; ++i) {\n        newBytes.push(bytes.getUint8(i))\n      }\n      bytes = newBytes\n    }*/\n    return arrBytesToHex(bytes)\n  },\n  hexToBytes: function(hex) {\n    if (hex.length % 2 === 1) throw new Error(\"hexToBytes can't have a string with an odd number of characters.\")\n    if (hex.indexOf('0x') === 0) hex = hex.slice(2)\n    return hex.match(/../g).map(function(x) { return parseInt(x,16) })\n  }\n}\n\n\n// PRIVATE\n\nfunction arrBytesToHex(bytes) {\n  return bytes.map(function(x) { return padLeft(x.toString(16),2) }).join('')\n}\n\nfunction padLeft(orig, len) {\n  if (orig.length > len) return orig\n  return Array(len - orig.length + 1).join('0') + orig\n}\n\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertHex\n} else {\n  globals.convertHex = convertHex\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar convertString = {\n  bytesToString: function(bytes) {\n    return bytes.map(function(x){ return String.fromCharCode(x) }).join('')\n  },\n  stringToBytes: function(str) {\n    return str.split('').map(function(x) { return x.charCodeAt(0) })\n  }\n}\n\n//http://hossa.in/2012/07/20/utf-8-in-javascript.html\nconvertString.UTF8 = {\n   bytesToString: function(bytes) {\n    return decodeURIComponent(escape(convertString.bytesToString(bytes)))\n  },\n  stringToBytes: function(str) {\n   return convertString.stringToBytes(unescape(encodeURIComponent(str)))\n  }\n}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  module.exports = convertString\n} else {\n  globals.convertString = convertString\n}\n\n}(this);","!function(globals) {\n'use strict'\n\nvar _imports = {}\n\nif (typeof module !== 'undefined' && module.exports) { //CommonJS\n  _imports.bytesToHex = require('convert-hex').bytesToHex\n  _imports.convertString = require('convert-string')\n  module.exports = sha256\n} else {\n  _imports.bytesToHex = globals.convertHex.bytesToHex\n  _imports.convertString = globals.convertString\n  globals.sha256 = sha256\n}\n\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n\n// Initialization round constants tables\nvar K = []\n\n// Compute constants\n!function () {\n  function isPrime(n) {\n    var sqrtN = Math.sqrt(n);\n    for (var factor = 2; factor <= sqrtN; factor++) {\n      if (!(n % factor)) return false\n    }\n\n    return true\n  }\n\n  function getFractionalBits(n) {\n    return ((n - (n | 0)) * 0x100000000) | 0\n  }\n\n  var n = 2\n  var nPrime = 0\n  while (nPrime < 64) {\n    if (isPrime(n)) {\n      K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3))\n      nPrime++\n    }\n\n    n++\n  }\n}()\n\nvar bytesToWords = function (bytes) {\n  var words = []\n  for (var i = 0, b = 0; i < bytes.length; i++, b += 8) {\n    words[b >>> 5] |= bytes[i] << (24 - b % 32)\n  }\n  return words\n}\n\nvar wordsToBytes = function (words) {\n  var bytes = []\n  for (var b = 0; b < words.length * 32; b += 8) {\n    bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF)\n  }\n  return bytes\n}\n\n// Reusable object\nvar W = []\n\nvar processBlock = function (H, M, offset) {\n  // Working variables\n  var a = H[0], b = H[1], c = H[2], d = H[3]\n  var e = H[4], f = H[5], g = H[6], h = H[7]\n\n    // Computation\n  for (var i = 0; i < 64; i++) {\n    if (i < 16) {\n      W[i] = M[offset + i] | 0\n    } else {\n      var gamma0x = W[i - 15]\n      var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n                    ((gamma0x << 14) | (gamma0x >>> 18)) ^\n                    (gamma0x >>> 3)\n\n      var gamma1x = W[i - 2];\n      var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n                    ((gamma1x << 13) | (gamma1x >>> 19)) ^\n                    (gamma1x >>> 10)\n\n      W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n    }\n\n    var ch  = (e & f) ^ (~e & g);\n    var maj = (a & b) ^ (a & c) ^ (b & c);\n\n    var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n    var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n    var t1 = h + sigma1 + ch + K[i] + W[i];\n    var t2 = sigma0 + maj;\n\n    h = g;\n    g = f;\n    f = e;\n    e = (d + t1) | 0;\n    d = c;\n    c = b;\n    b = a;\n    a = (t1 + t2) | 0;\n  }\n\n  // Intermediate hash value\n  H[0] = (H[0] + a) | 0;\n  H[1] = (H[1] + b) | 0;\n  H[2] = (H[2] + c) | 0;\n  H[3] = (H[3] + d) | 0;\n  H[4] = (H[4] + e) | 0;\n  H[5] = (H[5] + f) | 0;\n  H[6] = (H[6] + g) | 0;\n  H[7] = (H[7] + h) | 0;\n}\n\nfunction sha256(message, options) {;\n  if (message.constructor === String) {\n    message = _imports.convertString.UTF8.stringToBytes(message);\n  }\n\n  var H =[ 0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A,\n           0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19 ];\n\n  var m = bytesToWords(message);\n  var l = message.length * 8;\n\n  m[l >> 5] |= 0x80 << (24 - l % 32);\n  m[((l + 64 >> 9) << 4) + 15] = l;\n\n  for (var i=0 ; i<m.length; i += 16) {\n    processBlock(H, m, i);\n  }\n\n  var digestbytes = wordsToBytes(H);\n  return options && options.asBytes ? digestbytes :\n         options && options.asString ? _imports.convertString.bytesToString(digestbytes) :\n         _imports.bytesToHex(digestbytes)\n}\n\nsha256.x2 = function(message, options) {\n  return sha256(sha256(message, { asBytes:true }), options)\n}\n\n}(this);\n","SGN = require '../../sgn'\nrequest = require './request'\nsession = require './session'\n\nmodule.exports =\n    request: request\n\n    session: session\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpread\n    constructor: (@options = {}) ->\n        @contentsRendered = false\n        @hotspotsRendered = false\n        @el = @renderEl()\n\n        return\n\n    getId: ->\n        @options.id\n\n    getEl: ->\n        @el\n\n    getPages: ->\n        @options.pages\n\n    renderEl: ->\n        el = document.createElement 'div'\n        pageIds = @getPages().map (page) -> page.id\n\n        el.className = 'verso__page-spread sgn-pp__page-spread'\n\n        el.setAttribute 'data-id', @getId()\n        el.setAttribute 'data-type', 'page'\n        el.setAttribute 'data-width', @options.width\n        el.setAttribute 'data-page-ids', pageIds.join(',')\n        el.setAttribute 'data-max-zoom-scale', @options.maxZoomScale\n        el.setAttribute 'data-zoomable', false\n\n        el\n\n    renderContents: ->\n        id = @getId()\n        el = @getEl()\n        pages = @getPages()\n        pageCount = pages.length\n        imageLoads = 0\n\n        pages.forEach (page, i) =>\n            image = page.images.medium\n            pageEl = document.createElement 'div'\n            loaderEl = document.createElement 'div'\n\n            pageEl.className = 'sgn-pp__page verso__page'\n            pageEl.setAttribute('data-id', page.id) if page.id?\n\n            if pageCount is 2\n                pageEl.className += if i is 0 then ' verso-page--verso' else ' verso-page--recto'\n\n            pageEl.appendChild loaderEl\n            el.appendChild pageEl\n\n            loaderEl.className = 'sgn-pp-page__loader'\n            loaderEl.innerHTML = \"<span>#{page.label}</span>\"\n\n            SGN.util.loadImage image, (err, width, height) =>\n                if not err?\n                    isComplete = ++imageLoads is pageCount\n\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n                    pageEl.setAttribute 'data-width', width\n                    pageEl.setAttribute 'data-height', height\n                    pageEl.innerHTML = '&nbsp;'\n\n                    el.setAttribute('data-zoomable', true) if isComplete\n\n                    @trigger 'pageLoaded', pageSpreadId: id, page: page\n                    @trigger 'pagesLoaded', pageSpreadId: id, pages: pages if isComplete\n                else\n                    loaderEl.innerHTML = '<span>!</span>'\n\n                return\n\n            return\n\n        @contentsRendered = true\n\n        @\n\n    clearContents: (pageSpread, versoPageSpread) ->\n        @el.innerHTML = ''\n        @contentsRendered = false\n\n        @\n\n    zoomIn: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page')\n        pages = @getPages()\n\n        pageEls.forEach (pageEl) =>\n            id = pageEl.getAttribute 'data-id'\n            page = pages.find (page) -> page.id is id\n            image = page.images.large\n\n            SGN.util.loadImage image, (err) =>\n                if not err? and @el.getAttribute('data-active') is 'true'\n                    pageEl.setAttribute 'data-image', pageEl.style.backgroundImage\n                    pageEl.style.backgroundImage = \"url(#{image})\"\n\n                return\n\n            return\n\n        return\n\n    zoomOut: ->\n        pageEls = [].slice.call @el.querySelectorAll('.sgn-pp__page[data-image]')\n\n        pageEls.forEach (pageEl) ->\n            pageEl.style.backgroundImage = pageEl.getAttribute 'data-image'\n            \n            pageEl.removeAttribute 'data-image'\n\n            return\n\n        return\n\nMicroEvent.mixin PagedPublicationPageSpread\n\nmodule.exports = PagedPublicationPageSpread\n","MicroEvent = require 'microevent'\nPageSpread = require './page-spread'\nSGN = require '../../sgn'\n\nclass PagedPublicationPageSpreads\n    constructor: (@options) ->\n        @collection = []\n        @ids = {}\n\n        return\n\n    get: (id) ->\n        @ids[id]\n\n    getFrag: ->\n        frag = document.createDocumentFragment()\n\n        @collection.forEach (pageSpread) -> frag.appendChild pageSpread.el\n\n        frag\n\n    update: (pageMode = 'single') ->\n        pageSpreads = []\n        ids = {}\n        pages = @options.pages.slice()\n        width = @options.width\n        maxZoomScale = @options.maxZoomScale\n\n        if pageMode is 'single'\n            pages.forEach (page) -> pageSpreads.push [page]\n        else\n            firstPage = pages.shift()\n            lastPage = if pages.length % 2 is 1 then pages.pop() else null\n            midstPageSpreads = SGN.util.chunk pages, 2\n\n            pageSpreads.push [firstPage] if firstPage?\n            midstPageSpreads.forEach (midstPages) -> pageSpreads.push midstPages.map (page) -> page\n            pageSpreads.push [lastPage] if lastPage?\n\n        @collection = pageSpreads.map (pages, i) =>\n            id = \"#{pageMode}-#{i}\"\n            pageSpread = new PageSpread\n                width: width\n                maxZoomScale: maxZoomScale\n                pages: pages\n                id: id\n\n            pageSpread.bind 'pageLoaded', (e) => @trigger 'pageLoaded', e\n            pageSpread.bind 'pagesLoaded', (e) => @trigger 'pagesLoaded', e\n\n            ids[id] = pageSpread\n\n            pageSpread\n        @ids = ids\n\n        @\n\nMicroEvent.mixin PagedPublicationPageSpreads\n\nmodule.exports = PagedPublicationPageSpreads\n","MicroEvent = require 'microevent'\nVerso = require 'verso-browser'\nPageSpreads = require './page-spreads'\nclientLocalStorage = require '../../storage/client-local'\nSGN = require '../../sgn'\n\nclass PagedPublicationCore\n    defaults:\n        pages: []\n        pageSpreadWidth: 100\n        pageSpreadMaxZoomScale: 2.3\n        idleDelay: 1000\n        resizeDelay: 400\n        color: '#ffffff'\n\n    constructor: (el, options = {}) ->\n        @options = @makeOptions options, @defaults\n        @pageId = @getOption 'pageId'\n        @els =\n            root: el\n            pages: el.querySelector '.sgn-pp__pages'\n            verso: el.querySelector '.verso'\n        @pageMode = @getPageMode()\n        @pageSpreads = new PageSpreads\n            pages: @getOption 'pages'\n            maxZoomScale: @getOption 'pageSpreadMaxZoomScale'\n            width: @getOption 'pageSpreadWidth'\n\n        @pageSpreads.bind 'pageLoaded', @pageLoaded.bind(@)\n        @pageSpreads.bind 'pagesLoaded', @pagesLoaded.bind(@)\n\n        @setColor @getOption('color')\n\n        # It's important to insert the page spreads before instantiating Verso.\n        @els.pages.parentNode.insertBefore @pageSpreads.update(@pageMode).getFrag(), @els.pages\n\n        @verso = @createVerso()\n\n        @bind 'started', @start.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    start: ->\n        @getVerso().start()\n\n        @visibilityChangeListener = @visibilityChange.bind @\n        @resizeListener = SGN.util.throttle @resize, @getOption('resizeDelay'), @\n        @unloadListener = @unload.bind @\n\n        document.addEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'beforeunload', @unloadListener, false\n\n        @els.root.setAttribute 'data-started', ''\n        @els.root.setAttribute 'tabindex', '-1'\n        @els.root.focus()\n\n        return\n\n    destroy: ->\n        verso = @getVerso()\n        pageSpreadEls = verso.el.querySelectorAll '.sgn-pp__page-spread'\n\n        @els.root.removeAttribute 'data-started'\n        @els.root.removeAttribute 'data-idle'\n        @els.root.removeAttribute 'data-navigating'\n        @els.root.removeAttribute 'data-color-brightness'\n        @els.root.removeAttribute 'data-zoomed-in'\n\n        @els.root.style.backgroundColor = '#ffffff'\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n\n        verso.destroy()\n\n        document.removeEventListener 'visibilitychange', @visibilityChangeListener, false\n        window.removeEventListener 'resize', @resizeListener, false\n        window.removeEventListener 'beforeunload', @unloadListener, false\n\n        return\n\n    makeOptions: (options, defaults) ->\n        opts = {}\n\n        opts[key] = options[key] ? defaults[key] for key, value of options\n\n        opts\n\n    getOption: (key) ->\n        @options[key]\n\n    setColor: (color) ->\n        @els.root.setAttribute 'data-color-brightness', SGN.util.getColorBrightness(color)\n        @els.root.style.backgroundColor = color\n\n        return\n\n    createVerso: ->\n        verso = new Verso @els.verso, pageId: @pageId\n\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        verso.bind 'beforeNavigation', @beforeNavigation.bind(@)\n        verso.bind 'afterNavigation', @afterNavigation.bind(@)\n        verso.bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        verso.bind 'clicked', @clicked.bind(@)\n        verso.bind 'doubleClicked', @doubleClicked.bind(@)\n        verso.bind 'pressed', @pressed.bind(@)\n        verso.bind 'contextmenu', @contextmenu.bind(@)\n        verso.bind 'panStart', @panStart.bind(@)\n        verso.bind 'panEnd', @panEnd.bind(@)\n        verso.bind 'zoomedIn', @zoomedIn.bind(@)\n        verso.bind 'zoomedOut', @zoomedOut.bind(@)\n\n        verso\n\n    getVerso: ->\n        @verso\n\n    getContentRect: (pageSpread) ->\n        rect =\n            top: 0\n            left: 0\n            right: 0\n            bottom: 0\n            width: 0\n            height: 0\n        pageEls = pageSpread.getPageEls()\n        pageEl = pageEls[0]\n        pageCount = pageEls.length\n\n        return rect if not pageCount\n        \n        scale = @getVerso().transform.scale\n        pageWidth = pageEl.offsetWidth * pageCount * scale\n        pageHeight = pageEl.offsetHeight * scale\n        imageRatio = +pageEl.getAttribute('data-height') / (+pageEl.getAttribute('data-width') * pageCount)\n        actualHeight = pageHeight\n        actualWidth = actualHeight / imageRatio\n        actualWidth = Math.min pageWidth, actualWidth\n        actualHeight = actualWidth * imageRatio\n        clientRect = pageEl.getBoundingClientRect()\n\n        rect.width = actualWidth\n        rect.height = actualHeight\n        rect.top = clientRect.top + (pageHeight - actualHeight) / 2\n        rect.left = clientRect.left + (pageWidth - actualWidth) / 2\n        rect.right = rect.width + rect.left\n        rect.bottom = rect.height + rect.top\n\n        rect\n\n    formatProgressLabel: (pageSpread) ->\n        pages = pageSpread?.options.pages ? []\n        pageIds = pages.map (page) -> page.id\n        pageLabels = pages.map (page) -> page.label\n        pageCount = @getOption('pages').length\n        label = if pageIds.length > 0 then pageLabels.join('-') + ' / ' + pageCount else null\n\n        label\n\n    renderPageSpreads: ->\n        @getVerso().pageSpreads.forEach (pageSpread) =>\n            visibility = pageSpread.getVisibility()\n            match = @pageSpreads.get pageSpread.getId()\n\n            if match?\n                if visibility is 'visible' and match.contentsRendered is false\n                    setTimeout match.renderContents.bind(match), 0\n                if visibility is 'gone' and match.contentsRendered is true\n                    setTimeout match.clearContents.bind(match), 0\n\n            return\n\n        @\n\n    findPage: (pageId) ->\n        @getOption('pages').find (page) -> page.id is pageId\n\n    pageLoaded: (e) ->\n        @trigger 'pageLoaded', e\n\n        return\n\n    pagesLoaded: (e) ->\n        @trigger 'pagesLoaded', e\n\n        return\n\n    beforeNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n        progress = position / (pageSpreadCount - 1) * 100\n        progressLabel = @formatProgressLabel pageSpread\n\n        @els.root.setAttribute 'data-navigating', true\n\n        @renderPageSpreads()\n        @resetIdleTimer()\n        @startIdleTimer()\n        @trigger 'beforeNavigation',\n            verso: e\n            pageSpread: pageSpread\n            newSpreadEl: newSpreadEl\n            progress: progress\n            progressLabel: progressLabel\n            pageSpreadCount: pageSpreadCount\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    afterNavigation: (e) ->\n        position = e.newPosition\n        theVerso = @getVerso()\n        versoPageSpread = theVerso.getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n        pageSpreadCount = theVerso.getPageSpreadCount()\n        newSpreadEl = theVerso.pageSpreadEls[e.newPosition]\n\n        @els.root.setAttribute 'data-navigating', false\n\n        @trigger 'afterNavigation',\n            verso: e\n            pageSpread: pageSpread\n            pageSpreadCount: pageSpreadCount\n            newSpreadEl: newSpreadEl\n            newPositionIsEnd: e.newPosition + 1 == pageSpreadCount\n\n        return\n\n    attemptedNavigation: (e) ->\n        @trigger 'attemptedNavigation', verso: e\n\n        return\n\n    clicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'clicked', verso: e, page: page\n\n        return\n\n    doubleClicked: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'doubleClicked', verso: e, page: page\n\n        return\n\n    pressed: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'pressed', verso: e, page: page\n\n        return\n\n    contextmenu: (e) ->\n        if e.isInsideContent\n            pageId = e.pageEl.getAttribute 'data-id'\n            page = @findPage pageId\n\n            @trigger 'contextmenu', verso: e, page: page\n\n        return\n\n    panStart: ->\n        @resetIdleTimer()\n        @trigger 'panStart', scale: @getVerso().transform.scale\n\n        return\n\n    panEnd: ->\n        @startIdleTimer()\n        @trigger 'panEnd'\n\n        return\n\n    zoomedIn: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomIn() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', true\n        @trigger 'zoomedIn', verso: e, pageSpread: pageSpread\n\n        return\n\n    zoomedOut: (e) ->\n        position = e.position\n        versoPageSpread = @getVerso().getPageSpreadFromPosition position\n        pageSpread = @pageSpreads.get versoPageSpread.getId()\n\n        pageSpread.zoomOut() if pageSpread?\n\n        @els.root.setAttribute 'data-zoomed-in', false\n        @trigger 'zoomedOut', verso: e, pageSpread: pageSpread\n\n        return\n\n    getPageMode: ->\n        pageMode = @getOption 'pageMode'\n\n        if not pageMode?\n            width = @els.root.offsetWidth\n            height = @els.root.offsetHeight\n\n            pageMode = if height / width < 0.8 then 'double' else 'single'\n\n        pageMode\n\n    resetIdleTimer: ->\n        clearTimeout @idleTimeout\n\n        @els.root.setAttribute 'data-idle', false\n\n        @\n\n    startIdleTimer: ->\n        @idleTimeout = setTimeout =>\n            @els.root.setAttribute 'data-idle', true\n\n            return\n        , @getOption('idleDelay')\n\n        @\n\n    switchPageMode: (pageMode) ->\n        return @ if @pageMode is pageMode\n\n        verso = @getVerso()\n        pageIds = verso.getPageSpreadFromPosition(verso.getPosition()).getPageIds()\n        pageSpreadEls = @getVerso().el.querySelectorAll '.sgn-pp__page-spread'\n\n        @pageMode = pageMode\n\n        @pageSpreads.update @pageMode\n\n        pageSpreadEl.parentNode.removeChild pageSpreadEl for pageSpreadEl in pageSpreadEls\n        @els.pages.parentNode.insertBefore @pageSpreads.getFrag(), @els.pages\n\n        verso.refresh()\n        verso.navigateTo verso.getPageSpreadPositionFromPageId(pageIds[0]), duration: 0\n        verso.pageSpreads.forEach @overridePageSpreadContentRect.bind(@)\n\n        @\n\n    overridePageSpreadContentRect: (pageSpread) ->\n        if pageSpread.getType() is 'page'\n            pageSpread.getContentRect = => @getContentRect pageSpread\n\n    visibilityChange: ->\n        pageSpread = @getVerso().getPageSpreadFromPosition @getVerso().getPosition()\n        eventName = if document.hidden is true then 'disappeared' else 'appeared'\n\n        @trigger eventName, pageSpread: @pageSpreads.get(pageSpread.id)\n\n        return\n\n    resize: ->\n        pageMode = @getPageMode()\n\n        if not @getOption('pageMode')? and pageMode isnt @pageMode\n            @switchPageMode pageMode\n        else\n            @trigger 'resized'\n\n        return\n\n    unload: ->\n        @trigger 'disappeared'\n\n        return\n\nMicroEvent.mixin PagedPublicationCore\n\nmodule.exports = PagedPublicationCore\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Verso = factory());\n}(this, (function () { 'use strict';\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.3' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function (key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var _aFunction = function (it) {\n    if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n    return it;\n  };\n\n  // optional / simple context binding\n\n  var _ctx = function (fn, that, length) {\n    _aFunction(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var PROTOTYPE = 'prototype';\n\n  var $export = function (type, name, source) {\n    var IS_FORCED = type & $export.F;\n    var IS_GLOBAL = type & $export.G;\n    var IS_STATIC = type & $export.S;\n    var IS_PROTO = type & $export.P;\n    var IS_BIND = type & $export.B;\n    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n    var key, own, out, exp;\n    if (IS_GLOBAL) source = name;\n    for (key in source) {\n      // contains in native\n      own = !IS_FORCED && target && target[key] !== undefined;\n      // export native or passed\n      out = (own ? target : source)[key];\n      // bind timers to global for call from export context\n      exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n      // extend global\n      if (target) _redefine(target, key, out, type & $export.U);\n      // export\n      if (exports[key] != out) _hide(exports, key, exp);\n      if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n    }\n  };\n  _global.core = _core;\n  // type bitmap\n  $export.F = 1;   // forced\n  $export.G = 2;   // global\n  $export.S = 4;   // static\n  $export.P = 8;   // proto\n  $export.B = 16;  // bind\n  $export.W = 32;  // wrap\n  $export.U = 64;  // safe\n  $export.R = 128; // real proto method for `library`\n  var _export = $export;\n\n  // 7.1.13 ToObject(argument)\n\n  var _toObject = function (it) {\n    return Object(_defined(it));\n  };\n\n  var _strictMethod = function (method, arg) {\n    return !!method && _fails(function () {\n      // eslint-disable-next-line no-useless-call\n      arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n    });\n  };\n\n  var $sort = [].sort;\n  var test = [1, 2, 3];\n\n  _export(_export.P + _export.F * (_fails(function () {\n    // IE8-\n    test.sort(undefined);\n  }) || !_fails(function () {\n    // V8 bug\n    test.sort(null);\n    // Old WebKit\n  }) || !_strictMethod($sort)), 'Array', {\n    // 22.1.3.25 Array.prototype.sort(comparefn)\n    sort: function sort(comparefn) {\n      return comparefn === undefined\n        ? $sort.call(_toObject(this))\n        : $sort.call(_toObject(this), _aFunction(comparefn));\n    }\n  });\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  // eslint-disable-next-line no-prototype-builtins\n  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n    return _cof(it) == 'String' ? it.split('') : Object(it);\n  };\n\n  // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\n  var _toIobject = function (it) {\n    return _iobject(_defined(it));\n  };\n\n  // 7.1.4 ToInteger\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n  var _toInteger = function (it) {\n    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n  };\n\n  // 7.1.15 ToLength\n\n  var min = Math.min;\n  var _toLength = function (it) {\n    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n  var _toAbsoluteIndex = function (index, length) {\n    index = _toInteger(index);\n    return index < 0 ? max(index + length, 0) : min$1(index, length);\n  };\n\n  // false -> Array#indexOf\n  // true  -> Array#includes\n\n\n\n  var _arrayIncludes = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = _toIobject($this);\n      var length = _toLength(O.length);\n      var index = _toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var shared = _shared('keys');\n\n  var _sharedKey = function (key) {\n    return shared[key] || (shared[key] = _uid(key));\n  };\n\n  var arrayIndexOf = _arrayIncludes(false);\n  var IE_PROTO = _sharedKey('IE_PROTO');\n\n  var _objectKeysInternal = function (object, names) {\n    var O = _toIobject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (_has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE 8- don't enum bug keys\n  var _enumBugKeys = (\n    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n  ).split(',');\n\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\n  var _objectKeys = Object.keys || function keys(O) {\n    return _objectKeysInternal(O, _enumBugKeys);\n  };\n\n  var f$1 = Object.getOwnPropertySymbols;\n\n  var _objectGops = {\n  \tf: f$1\n  };\n\n  var f$2 = {}.propertyIsEnumerable;\n\n  var _objectPie = {\n  \tf: f$2\n  };\n\n  // 19.1.2.1 Object.assign(target, source, ...)\n\n\n\n\n\n  var $assign = Object.assign;\n\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var _objectAssign = !$assign || _fails(function () {\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var S = Symbol();\n    var K = 'abcdefghijklmnopqrst';\n    A[S] = 7;\n    K.split('').forEach(function (k) { B[k] = k; });\n    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = _toObject(target);\n    var aLen = arguments.length;\n    var index = 1;\n    var getSymbols = _objectGops.f;\n    var isEnum = _objectPie.f;\n    while (aLen > index) {\n      var S = _iobject(arguments[index++]);\n      var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n    } return T;\n  } : $assign;\n\n  // 19.1.3.1 Object.assign(target, source)\n\n\n  _export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  /*! Hammer.JS - v2.0.7 - 2016-04-22\n   * http://hammerjs.github.io/\n   *\n   * Copyright (c) 2016 Jorik Tangelder;\n   * Licensed under the MIT license */\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n\n  var TEST_ELEMENT = function TEST_ELEMENT() {\n    return document.createElement('div');\n  };\n\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (_typeof(val) == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n  var SUPPORT_TOUCH = function SUPPORT_TOUCH() {\n    return 'ontouchstart' in window;\n  };\n\n  var SUPPORT_POINTER_EVENTS = function SUPPORT_POINTER_EVENTS() {\n    return prefixed(window, 'PointerEvent') !== undefined;\n  };\n\n  var SUPPORT_ONLY_TOUCH = function SUPPORT_ONLY_TOUCH() {\n    return SUPPORT_TOUCH() && MOBILE_REGEX.test(navigator.userAgent);\n  };\n\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS()) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH()) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH()) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (typeof window !== 'undefined' && window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = function PREFIXED_TOUCH_ACTION() {\n    return prefixed(TEST_ELEMENT().style, 'touchAction');\n  };\n\n  var NATIVE_TOUCH_ACTION = function NATIVE_TOUCH_ACTION() {\n    return PREFIXED_TOUCH_ACTION() !== undefined;\n  }; // magical touchAction value\n\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n\n      if (NATIVE_TOUCH_ACTION() && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION()] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var TOUCH_ACTION_MAP = getTouchActionProps();\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION()) {\n      return false;\n    }\n\n    var touchMap = {};\n\n    var cssSupports = function cssSupports() {\n      return window.CSS && window.CSS.supports;\n    };\n\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports() ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  });\n  var hammer = Hammer;\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'object' !== \"undefined\" && ('exports' in module)){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var PageSpread;\n\n  var page_spread = PageSpread =\n  /*#__PURE__*/\n  function () {\n    function PageSpread(el) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, PageSpread);\n\n      this.el = el;\n      this.options = options;\n      this.visibility = 'gone';\n      this.positioned = false;\n      this.active = false;\n      this.id = this.options.id;\n      this.type = this.options.type;\n      this.pageIds = this.options.pageIds;\n      this.width = this.options.width;\n      this.left = this.options.left;\n      this.maxZoomScale = this.options.maxZoomScale;\n      return;\n    }\n\n    _createClass(PageSpread, [{\n      key: \"isZoomable\",\n      value: function isZoomable() {\n        return this.getMaxZoomScale() > 1 && this.getEl().getAttribute('data-zoomable') !== 'false';\n      }\n    }, {\n      key: \"isScrollable\",\n      value: function isScrollable() {\n        return this.getEl().classList.contains('verso--scrollable');\n      }\n    }, {\n      key: \"getEl\",\n      value: function getEl() {\n        return this.el;\n      }\n    }, {\n      key: \"getOverlayEls\",\n      value: function getOverlayEls() {\n        return this.getEl().querySelectorAll('.verso__overlay');\n      }\n    }, {\n      key: \"getPageEls\",\n      value: function getPageEls() {\n        return this.getEl().querySelectorAll('.verso__page');\n      }\n    }, {\n      key: \"getRect\",\n      value: function getRect() {\n        return this.getEl().getBoundingClientRect();\n      }\n    }, {\n      key: \"getContentRect\",\n      value: function getContentRect() {\n        var i, len, pageEl, pageRect, rect, ref, ref1, ref2, ref3, ref4;\n        rect = {\n          top: null,\n          left: null,\n          right: null,\n          bottom: null,\n          width: null,\n          height: null\n        };\n        ref = this.getPageEls();\n\n        for (i = 0, len = ref.length; i < len; i++) {\n          pageEl = ref[i];\n          pageRect = pageEl.getBoundingClientRect();\n\n          if (pageRect.top < rect.top || rect.top == null) {\n            rect.top = pageRect.top;\n          }\n\n          if (pageRect.left < rect.left || rect.left == null) {\n            rect.left = pageRect.left;\n          }\n\n          if (pageRect.right > rect.right || rect.right == null) {\n            rect.right = pageRect.right;\n          }\n\n          if (pageRect.bottom > rect.bottom || rect.bottom == null) {\n            rect.bottom = pageRect.bottom;\n          }\n        }\n\n        rect.top = (ref1 = rect.top) != null ? ref1 : 0;\n        rect.left = (ref2 = rect.left) != null ? ref2 : 0;\n        rect.right = (ref3 = rect.right) != null ? ref3 : 0;\n        rect.bottom = (ref4 = rect.bottom) != null ? ref4 : 0;\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n        return rect;\n      }\n    }, {\n      key: \"getId\",\n      value: function getId() {\n        return this.id;\n      }\n    }, {\n      key: \"getType\",\n      value: function getType() {\n        return this.type;\n      }\n    }, {\n      key: \"getPageIds\",\n      value: function getPageIds() {\n        return this.pageIds;\n      }\n    }, {\n      key: \"getWidth\",\n      value: function getWidth() {\n        return this.width;\n      }\n    }, {\n      key: \"getLeft\",\n      value: function getLeft() {\n        return this.left;\n      }\n    }, {\n      key: \"getMaxZoomScale\",\n      value: function getMaxZoomScale() {\n        return this.maxZoomScale;\n      }\n    }, {\n      key: \"getVisibility\",\n      value: function getVisibility() {\n        return this.visibility;\n      }\n    }, {\n      key: \"setVisibility\",\n      value: function setVisibility(visibility) {\n        if (this.visibility !== visibility) {\n          this.getEl().style.display = visibility === 'visible' ? 'block' : 'none';\n          this.visibility = visibility;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"position\",\n      value: function position() {\n        if (this.positioned === false) {\n          this.getEl().style.left = \"\".concat(this.getLeft(), \"%\");\n          this.positioned = true;\n        }\n\n        return this;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate() {\n        this.active = true;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.active = false;\n        this.getEl().setAttribute('data-active', this.active);\n      }\n    }]);\n\n    return PageSpread;\n  }();\n\n  var Animation;\n\n  var animation = Animation =\n  /*#__PURE__*/\n  function () {\n    function Animation(el) {\n      _classCallCheck(this, Animation);\n\n      this.el = el;\n      this.run = 0;\n      return;\n    }\n\n    _createClass(Animation, [{\n      key: \"animate\",\n      value: function animate() {\n        var _this = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n        var duration, easing, ref, ref1, ref2, ref3, ref4, run, scale, transform, _transitionEnd, x, y;\n\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n        scale = (ref2 = options.scale) != null ? ref2 : 1;\n        easing = (ref3 = options.easing) != null ? ref3 : 'ease-out';\n        duration = (ref4 = options.duration) != null ? ref4 : 0;\n        run = ++this.run;\n        transform = \"translateX(\".concat(x, \") translateY(\").concat(y, \") scale(\").concat(scale, \")\");\n\n        if (this.el.style.transform === transform) {\n          callback();\n        } else if (duration > 0) {\n          _transitionEnd = function transitionEnd() {\n            if (run !== _this.run) {\n              return;\n            }\n\n            _this.el.removeEventListener('transitionend', _transitionEnd);\n\n            _this.el.style.transition = 'none';\n            callback();\n          };\n\n          this.el.addEventListener('transitionend', _transitionEnd, false);\n          this.el.style.transition = \"transform \".concat(easing, \" \").concat(duration, \"ms\");\n          this.el.style.transform = transform;\n        } else {\n          this.el.style.transition = 'none';\n          this.el.style.transform = transform;\n          callback();\n        }\n\n        return this;\n      }\n    }]);\n\n    return Animation;\n  }();\n\n  var Animation$1, Hammer$1, MicroEvent, PageSpread$1, Verso;\n  Hammer$1 = hammer;\n  MicroEvent = microevent;\n  PageSpread$1 = page_spread;\n  Animation$1 = animation;\n\n  Verso =\n  /*#__PURE__*/\n  function () {\n    function Verso(el1) {\n      var options1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Verso);\n\n      var ref, ref1, ref2, ref3, ref4, ref5;\n      this.el = el1;\n      this.options = options1;\n      this.swipeVelocity = (ref = this.options.swipeVelocity) != null ? ref : 0.3;\n      this.swipeThreshold = (ref1 = this.options.swipeThreshold) != null ? ref1 : 10;\n      this.navigationDuration = (ref2 = this.options.navigationDuration) != null ? ref2 : 240;\n      this.navigationPanDuration = (ref3 = this.options.navigationPanDuration) != null ? ref3 : 200;\n      this.zoomDuration = (ref4 = this.options.zoomDuration) != null ? ref4 : 200;\n      this.doubleTapDelay = (ref5 = this.options.doubleTapDelay) != null ? ref5 : 300;\n      this.position = -1;\n      this.pinching = false;\n      this.panning = false;\n      this.transform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.startTransform = {\n        left: 0,\n        top: 0,\n        scale: 1\n      };\n      this.tap = {\n        count: 0,\n        delay: this.doubleTapDelay\n      };\n      this.scrollerEl = this.el.querySelector('.verso__scroller');\n      this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n      this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n      this.pageIds = this.buildPageIds(this.pageSpreads);\n      this.animation = new Animation$1(this.scrollerEl);\n      this.hammer = new Hammer$1.Manager(this.scrollerEl, {\n        touchAction: 'none',\n        enable: false,\n        inputClass: this.getHammerInputClass()\n      });\n      this.hammer.add(new Hammer$1.Pan({\n        threshold: 5,\n        direction: Hammer$1.DIRECTION_ALL\n      }));\n      this.hammer.add(new Hammer$1.Tap({\n        event: 'singletap',\n        interval: 0\n      }));\n      this.hammer.add(new Hammer$1.Pinch());\n      this.hammer.add(new Hammer$1.Press({\n        time: 500\n      }));\n      this.hammer.on('panstart', this.onPanStart.bind(this));\n      this.hammer.on('panmove', this.onPanMove.bind(this));\n      this.hammer.on('panend', this.onPanEnd.bind(this));\n      this.hammer.on('pancancel', this.onPanEnd.bind(this));\n      this.hammer.on('singletap', this.onSingletap.bind(this));\n      this.hammer.on('pinchstart', this.onPinchStart.bind(this));\n      this.hammer.on('pinchmove', this.onPinchMove.bind(this));\n      this.hammer.on('pinchend', this.onPinchEnd.bind(this));\n      this.hammer.on('pinchcancel', this.onPinchEnd.bind(this));\n      this.hammer.on('press', this.onPress.bind(this));\n      this.scrollerEl.addEventListener('contextmenu', this.onContextmenu.bind(this), false);\n      this.scrollerEl.addEventListener('wheel', this.onWheel.bind(this), false);\n      return;\n    }\n\n    _createClass(Verso, [{\n      key: \"start\",\n      value: function start() {\n        var pageId, ref;\n        pageId = (ref = this.getPageSpreadPositionFromPageId(this.options.pageId)) != null ? ref : 0;\n        this.hammer.set({\n          enable: true\n        });\n        this.navigateTo(pageId, {\n          duration: 0\n        });\n        this.resizeListener = this.onResize.bind(this);\n        this.touchStartListener = this.onTouchStart.bind(this);\n        this.touchEndListener = this.onTouchEnd.bind(this);\n        this.el.addEventListener('touchstart', this.touchStartListener, false);\n        this.el.addEventListener('touchend', this.touchEndListener, false);\n        window.addEventListener('resize', this.resizeListener, false);\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.hammer.destroy();\n        this.el.removeEventListener('touchstart', this.touchStartListener);\n        this.el.removeEventListener('touchend', this.touchEndListener);\n        window.removeEventListener('resize', this.resizeListener);\n        return this;\n      }\n    }, {\n      key: \"first\",\n      value: function first(options) {\n        return this.navigateTo(0, options);\n      }\n    }, {\n      key: \"prev\",\n      value: function prev(options) {\n        return this.navigateTo(this.getPosition() - 1, options);\n      }\n    }, {\n      key: \"next\",\n      value: function next(options) {\n        return this.navigateTo(this.getPosition() + 1, options);\n      }\n    }, {\n      key: \"last\",\n      value: function last(options) {\n        return this.navigateTo(this.getPageSpreadCount() - 1, options);\n      }\n    }, {\n      key: \"navigateTo\",\n      value: function navigateTo(position) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var activePageSpread, carousel, currentPageSpread, currentPosition, duration, ref, ref1, touchAction, velocity;\n\n        if (position < 0 || position > this.getPageSpreadCount() - 1) {\n          return;\n        }\n\n        currentPosition = this.getPosition();\n        currentPageSpread = this.getPageSpreadFromPosition(currentPosition);\n        activePageSpread = this.getPageSpreadFromPosition(position);\n        carousel = this.getCarouselFromPageSpread(activePageSpread);\n        velocity = (ref = options.velocity) != null ? ref : 1;\n        duration = (ref1 = options.duration) != null ? ref1 : this.navigationDuration;\n        duration = duration / Math.abs(velocity);\n        touchAction = activePageSpread.isScrollable() ? 'pan-y' : 'none';\n\n        if (currentPageSpread != null) {\n          currentPageSpread.deactivate();\n        }\n\n        activePageSpread.activate();\n        carousel.visible.forEach(function (pageSpread) {\n          return pageSpread.position().setVisibility('visible');\n        });\n        this.hammer.set({\n          touchAction: touchAction\n        });\n        this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n        this.setPosition(position);\n\n        if (this.transform.scale > 1) {\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.trigger('zoomedOut', {\n            position: currentPosition\n          });\n        }\n\n        this.trigger('beforeNavigation', {\n          currentPosition: currentPosition,\n          newPosition: position\n        });\n        this.animation.animate({\n          x: \"\".concat(this.transform.left, \"%\"),\n          duration: duration\n        }, function () {\n          carousel = _this.getCarouselFromPageSpread(_this.getActivePageSpread());\n          carousel.gone.forEach(function (pageSpread) {\n            return pageSpread.setVisibility('gone');\n          });\n\n          _this.trigger('afterNavigation', {\n            newPosition: _this.getPosition(),\n            previousPosition: currentPosition\n          });\n        });\n      }\n    }, {\n      key: \"getPosition\",\n      value: function getPosition() {\n        return this.position;\n      }\n    }, {\n      key: \"setPosition\",\n      value: function setPosition(position) {\n        this.position = position;\n        return this;\n      }\n    }, {\n      key: \"getLeftTransformFromPageSpread\",\n      value: function getLeftTransformFromPageSpread(position, pageSpread) {\n        var left;\n        left = 0;\n\n        if (position === this.getPageSpreadCount() - 1) {\n          left = 100 - pageSpread.getWidth() - pageSpread.getLeft();\n        } else if (position > 0) {\n          left = (100 - pageSpread.getWidth()) / 2 - pageSpread.getLeft();\n        }\n\n        return left;\n      }\n    }, {\n      key: \"getCarouselFromPageSpread\",\n      value: function getCarouselFromPageSpread(pageSpreadSubject) {\n        var carousel;\n        carousel = {\n          visible: [],\n          gone: []\n        }; // Identify the page spreads that should be a part of the carousel.\n\n        this.pageSpreads.forEach(function (pageSpread) {\n          var visible;\n          visible = false;\n\n          if (pageSpread.getLeft() <= pageSpreadSubject.getLeft()) {\n            if (pageSpread.getLeft() + pageSpread.getWidth() > pageSpreadSubject.getLeft() - 100) {\n              visible = true;\n            }\n          } else {\n            if (pageSpread.getLeft() - pageSpread.getWidth() < pageSpreadSubject.getLeft() + 100) {\n              visible = true;\n            }\n          }\n\n          if (visible === true) {\n            carousel.visible.push(pageSpread);\n          } else {\n            carousel.gone.push(pageSpread);\n          }\n        });\n        return carousel;\n      }\n    }, {\n      key: \"traversePageSpreads\",\n      value: function traversePageSpreads(els) {\n        var el, id, j, left, len, maxZoomScale, pageIds, pageSpread, pageSpreads, type, width;\n        pageSpreads = [];\n        left = 0;\n\n        for (j = 0, len = els.length; j < len; j++) {\n          el = els[j];\n          id = el.getAttribute('data-id');\n          type = el.getAttribute('data-type');\n          pageIds = el.getAttribute('data-page-ids');\n          pageIds = pageIds != null ? pageIds.split(',').map(function (i) {\n            return i;\n          }) : [];\n          maxZoomScale = el.getAttribute('data-max-zoom-scale');\n          maxZoomScale = maxZoomScale != null ? +maxZoomScale : 1;\n          width = el.getAttribute('data-width');\n          width = width != null ? +width : 100;\n          pageSpread = new PageSpread$1(el, {\n            id: id,\n            type: type,\n            pageIds: pageIds,\n            maxZoomScale: maxZoomScale,\n            width: width,\n            left: left\n          });\n          left += width;\n          pageSpreads.push(pageSpread);\n        }\n\n        return pageSpreads;\n      }\n    }, {\n      key: \"buildPageIds\",\n      value: function buildPageIds(pageSpreads) {\n        var pageIds;\n        pageIds = {};\n        pageSpreads.forEach(function (pageSpread, i) {\n          pageSpread.options.pageIds.forEach(function (pageId) {\n            pageIds[pageId] = pageSpread;\n          });\n        });\n        return pageIds;\n      }\n    }, {\n      key: \"isCoordinateInsideElement\",\n      value: function isCoordinateInsideElement(x, y, el) {\n        var rect;\n        rect = el.getBoundingClientRect();\n        return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n      }\n    }, {\n      key: \"getCoordinateInfo\",\n      value: function getCoordinateInfo(x, y, pageSpread) {\n        var contentRect, info, j, k, len, len1, overlayEl, overlayEls, pageEl, pageEls;\n        x -= this.el.offsetLeft;\n        y -= this.el.offsetTop;\n        info = {\n          x: x,\n          y: y,\n          contentX: 0,\n          contentY: 0,\n          pageX: 0,\n          pageY: 0,\n          overlayEls: [],\n          pageEl: null,\n          isInsideContentX: false,\n          isInsideContentY: false,\n          isInsideContent: false\n        };\n        contentRect = pageSpread.getContentRect();\n        overlayEls = pageSpread.getOverlayEls();\n        pageEls = pageSpread.getPageEls();\n\n        for (j = 0, len = overlayEls.length; j < len; j++) {\n          overlayEl = overlayEls[j];\n\n          if (this.isCoordinateInsideElement(x, y, overlayEl)) {\n            info.overlayEls.push(overlayEl);\n          }\n        }\n\n        for (k = 0, len1 = pageEls.length; k < len1; k++) {\n          pageEl = pageEls[k];\n\n          if (this.isCoordinateInsideElement(x, y, pageEl)) {\n            info.pageEl = pageEl;\n            break;\n          }\n        }\n\n        info.contentX = (x - contentRect.left) / Math.max(1, contentRect.width);\n        info.contentY = (y - contentRect.top) / Math.max(1, contentRect.height);\n\n        if (info.pageEl != null) {\n          info.isInsideContentX = info.contentX >= 0 && info.contentX <= 1;\n          info.isInsideContentY = info.contentY >= 0 && info.contentY <= 1;\n          info.isInsideContent = info.isInsideContentX && info.isInsideContentY;\n        }\n\n        return info;\n      }\n    }, {\n      key: \"getPageSpreadCount\",\n      value: function getPageSpreadCount() {\n        return this.pageSpreads.length;\n      }\n    }, {\n      key: \"getActivePageSpread\",\n      value: function getActivePageSpread() {\n        return this.getPageSpreadFromPosition(this.getPosition());\n      }\n    }, {\n      key: \"getPageSpreadFromPosition\",\n      value: function getPageSpreadFromPosition(position) {\n        return this.pageSpreads[position];\n      }\n    }, {\n      key: \"getPageSpreadPositionFromPageId\",\n      value: function getPageSpreadPositionFromPageId(pageId) {\n        var idx, j, len, pageSpread, ref;\n        ref = this.pageSpreads;\n\n        for (idx = j = 0, len = ref.length; j < len; idx = ++j) {\n          pageSpread = ref[idx];\n\n          if (pageSpread.options.pageIds.indexOf(pageId) > -1) {\n            return idx;\n          }\n        }\n      }\n    }, {\n      key: \"getPageSpreadBounds\",\n      value: function getPageSpreadBounds(pageSpread) {\n        var pageSpreadContentRect, pageSpreadRect;\n        pageSpreadRect = pageSpread.getRect();\n        pageSpreadContentRect = pageSpread.getContentRect();\n        return {\n          left: (pageSpreadContentRect.left - pageSpreadRect.left) / pageSpreadRect.width * 100,\n          top: (pageSpreadContentRect.top - pageSpreadRect.top) / pageSpreadRect.height * 100,\n          width: pageSpreadContentRect.width / pageSpreadRect.width * 100,\n          height: pageSpreadContentRect.height / pageSpreadRect.height * 100,\n          pageSpreadRect: pageSpreadRect,\n          pageSpreadContentRect: pageSpreadContentRect\n        };\n      }\n    }, {\n      key: \"clipCoordinate\",\n      value: function clipCoordinate(coordinate, scale, size, offset) {\n        if (size * scale < 100) {\n          coordinate = offset * -scale + 50 - size * scale / 2;\n        } else {\n          coordinate = Math.min(coordinate, offset * -scale);\n          coordinate = Math.max(coordinate, offset * -scale - size * scale + 100);\n        }\n\n        return coordinate;\n      }\n    }, {\n      key: \"zoomTo\",\n      value: function zoomTo() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n        var activePageSpread, carouselOffset, carouselScaledOffset, curScale, pageSpreadBounds, ref, ref1, scale, x, y;\n        scale = options.scale;\n        curScale = this.transform.scale;\n        activePageSpread = this.getActivePageSpread();\n        pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n        carouselOffset = activePageSpread.getLeft();\n        carouselScaledOffset = carouselOffset * curScale;\n        x = (ref = options.x) != null ? ref : 0;\n        y = (ref1 = options.y) != null ? ref1 : 0;\n\n        if (scale !== 1) {\n          x -= pageSpreadBounds.pageSpreadRect.left;\n          y -= pageSpreadBounds.pageSpreadRect.top;\n          x = x / (pageSpreadBounds.pageSpreadRect.width / curScale) * 100;\n          y = y / (pageSpreadBounds.pageSpreadRect.height / curScale) * 100;\n          x = this.transform.left + carouselScaledOffset + x - x * scale / curScale;\n          y = this.transform.top + y - y * scale / curScale; // Make sure the animation doesn't exceed the content bounds.\n\n          if (options.bounds !== false && scale > 1) {\n            x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n            y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          }\n        } else {\n          x = 0;\n          y = 0;\n        } // Account for the page spreads left of the active one.\n\n\n        x -= carouselOffset * scale;\n        this.transform.left = x;\n        this.transform.top = y;\n        this.transform.scale = scale;\n        this.animation.animate({\n          x: \"\".concat(x, \"%\"),\n          y: \"\".concat(y, \"%\"),\n          scale: scale,\n          easing: options.easing,\n          duration: options.duration\n        }, callback);\n      }\n    }, {\n      key: \"refresh\",\n      value: function refresh() {\n        this.pageSpreadEls = this.el.querySelectorAll('.verso__page-spread');\n        this.pageSpreads = this.traversePageSpreads(this.pageSpreadEls);\n        this.pageIds = this.buildPageIds(this.pageSpreads);\n        return this;\n      }\n    }, {\n      key: \"getHammerInputClass\",\n      value: function getHammerInputClass() {\n        var mobileRegex, supportTouch;\n        mobileRegex = /mobile|tablet|ip(ad|hone|od)|android/i;\n        supportTouch = 'ontouchstart' in window;\n\n        if (supportTouch && mobileRegex.test(navigator.userAgent)) {\n          return Hammer$1.TouchInput;\n        } else {\n          return null;\n        }\n      } //#############\n\n      /* Events */\n      //#############\n\n    }, {\n      key: \"onPanStart\",\n      value: function onPanStart(e) {\n        var edgeThreshold, width, x; // Only allow panning if zoomed in or doing a horizontal pan.\n        // This ensures vertical scrolling works for scrollable page spreads.\n\n        if (this.transform.scale > 1 || e.direction === Hammer$1.DIRECTION_LEFT || e.direction === Hammer$1.DIRECTION_RIGHT) {\n          x = e.center.x;\n          edgeThreshold = 30;\n          width = this.scrollerEl.offsetWidth; // Prevent panning when edge-swiping on iOS.\n\n          if (x > edgeThreshold && x < width - edgeThreshold) {\n            this.startTransform.left = this.transform.left;\n            this.startTransform.top = this.transform.top;\n            this.panning = true;\n            this.trigger('panStart');\n          }\n        }\n      }\n    }, {\n      key: \"onPanMove\",\n      value: function onPanMove(e) {\n        var activePageSpread, carouselOffset, carouselScaledOffset, pageSpreadBounds, scale, x, y;\n\n        if (this.pinching === true || this.panning === false) {\n          return;\n        }\n\n        if (this.transform.scale > 1) {\n          activePageSpread = this.getActivePageSpread();\n          carouselOffset = activePageSpread.getLeft();\n          carouselScaledOffset = carouselOffset * this.transform.scale;\n          pageSpreadBounds = this.getPageSpreadBounds(activePageSpread);\n          scale = this.transform.scale;\n          x = this.startTransform.left + carouselScaledOffset + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          y = this.startTransform.top + e.deltaY / this.scrollerEl.offsetHeight * 100;\n          x = this.clipCoordinate(x, scale, pageSpreadBounds.width, pageSpreadBounds.left);\n          y = this.clipCoordinate(y, scale, pageSpreadBounds.height, pageSpreadBounds.top);\n          x -= carouselScaledOffset;\n          this.transform.left = x;\n          this.transform.top = y;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            y: \"\".concat(y, \"%\"),\n            scale: scale,\n            easing: 'linear'\n          });\n        } else {\n          x = this.transform.left + e.deltaX / this.scrollerEl.offsetWidth * 100;\n          this.animation.animate({\n            x: \"\".concat(x, \"%\"),\n            easing: 'linear'\n          });\n        }\n      }\n    }, {\n      key: \"onPanEnd\",\n      value: function onPanEnd(e) {\n        var position, velocity;\n\n        if (this.panning === false) {\n          return;\n        }\n\n        this.panning = false;\n        this.trigger('panEnd');\n\n        if (this.transform.scale === 1 && this.pinching === false) {\n          position = this.getPosition();\n          velocity = e.overallVelocityX;\n\n          if (Math.abs(velocity) >= this.swipeVelocity) {\n            if (Math.abs(e.deltaX) >= this.swipeThreshold) {\n              if (e.offsetDirection === Hammer$1.DIRECTION_LEFT) {\n                this.next({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              } else if (e.offsetDirection === Hammer$1.DIRECTION_RIGHT) {\n                this.prev({\n                  velocity: velocity,\n                  duration: this.navigationPanDuration\n                });\n              }\n            }\n          }\n\n          if (position === this.getPosition()) {\n            this.animation.animate({\n              x: \"\".concat(this.transform.left, \"%\"),\n              duration: this.navigationPanDuration\n            });\n            this.trigger('attemptedNavigation', {\n              position: this.getPosition()\n            });\n          }\n        }\n      }\n    }, {\n      key: \"onPinchStart\",\n      value: function onPinchStart(e) {\n        if (!this.getActivePageSpread().isZoomable()) {\n          return;\n        }\n\n        this.pinching = true;\n        this.el.setAttribute('data-pinching', true);\n        this.startTransform.scale = this.transform.scale;\n      }\n    }, {\n      key: \"onPinchMove\",\n      value: function onPinchMove(e) {\n        if (this.pinching === false) {\n          return;\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: this.startTransform.scale * e.scale,\n          bounds: false,\n          easing: 'linear'\n        });\n      }\n    }, {\n      key: \"onPinchEnd\",\n      value: function onPinchEnd(e) {\n        var _this2 = this;\n\n        var activePageSpread, maxZoomScale, position, scale;\n\n        if (this.pinching === false) {\n          return;\n        }\n\n        activePageSpread = this.getActivePageSpread();\n        maxZoomScale = activePageSpread.getMaxZoomScale();\n        scale = Math.max(1, Math.min(this.transform.scale, maxZoomScale));\n        position = this.getPosition();\n\n        if (this.startTransform.scale === 1 && scale > 1) {\n          this.trigger('zoomedIn', {\n            position: position\n          });\n        } else if (this.startTransform.scale > 1 && scale === 1) {\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n\n        this.zoomTo({\n          x: e.center.x,\n          y: e.center.y,\n          scale: scale,\n          duration: this.zoomDuration\n        }, function () {\n          _this2.pinching = false;\n\n          _this2.el.setAttribute('data-pinching', false);\n        });\n      }\n    }, {\n      key: \"onPress\",\n      value: function onPress(e) {\n        this.trigger('pressed', this.getCoordinateInfo(e.center.x, e.center.y, this.getActivePageSpread()));\n      }\n    }, {\n      key: \"onContextmenu\",\n      value: function onContextmenu(e) {\n        e.preventDefault();\n        this.trigger('contextmenu', this.getCoordinateInfo(e.clientX, e.clientY, this.getActivePageSpread()));\n        return false;\n      }\n    }, {\n      key: \"onWheel\",\n      value: function onWheel(e) {\n        var _this3 = this;\n\n        var activePageSpread, position, scale;\n        activePageSpread = this.getActivePageSpread();\n\n        if (activePageSpread.isZoomable() === false) {\n          return;\n        }\n\n        if (e.deltaY > 0 && this.transform.scale === 1) {\n          scale = activePageSpread.getMaxZoomScale();\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: scale,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedIn', {\n              position: position\n            });\n          });\n        } else if (e.deltaY < 0 && this.transform.scale > 1) {\n          position = this.getPosition();\n          this.zoomTo({\n            x: e.clientX,\n            y: e.clientY,\n            scale: 1,\n            duration: this.zoomDuration\n          }, function () {\n            _this3.trigger('zoomedOut', {\n              position: position\n            });\n          });\n        }\n      }\n    }, {\n      key: \"onSingletap\",\n      value: function onSingletap(e) {\n        var _this4 = this;\n\n        var activePageSpread, coordinateInfo, maxZoomScale, position, scale, zoomEvent, zoomedIn;\n        activePageSpread = this.getActivePageSpread();\n        coordinateInfo = this.getCoordinateInfo(e.center.x, e.center.y, activePageSpread);\n        clearTimeout(this.tap.timeout);\n\n        if (this.tap.count === 1) {\n          this.tap.count = 0;\n          this.trigger('doubleClicked', coordinateInfo);\n\n          if (activePageSpread.isZoomable()) {\n            maxZoomScale = activePageSpread.getMaxZoomScale();\n            zoomedIn = this.transform.scale > 1;\n            scale = zoomedIn ? 1 : maxZoomScale;\n            zoomEvent = zoomedIn ? 'zoomedOut' : 'zoomedIn';\n            position = this.getPosition();\n            this.zoomTo({\n              x: e.center.x,\n              y: e.center.y,\n              scale: scale,\n              duration: this.zoomDuration\n            }, function () {\n              _this4.trigger(zoomEvent, {\n                position: position\n              });\n            });\n          }\n        } else {\n          this.tap.count++;\n          this.tap.timeout = setTimeout(function () {\n            _this4.tap.count = 0;\n\n            _this4.trigger('clicked', coordinateInfo);\n          }, this.tap.delay);\n        }\n      }\n    }, {\n      key: \"onTouchStart\",\n      value: function onTouchStart(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onTouchEnd\",\n      value: function onTouchEnd(e) {\n        if (!this.getActivePageSpread().isScrollable()) {\n          e.preventDefault();\n        }\n      }\n    }, {\n      key: \"onResize\",\n      value: function onResize() {\n        var activePageSpread, position;\n\n        if (this.transform.scale > 1) {\n          position = this.getPosition();\n          activePageSpread = this.getActivePageSpread();\n          this.transform.left = this.getLeftTransformFromPageSpread(position, activePageSpread);\n          this.transform.top = 0;\n          this.transform.scale = 1;\n          this.zoomTo({\n            x: this.transform.left,\n            y: this.transform.top,\n            scale: this.transform.scale,\n            duration: 0\n          });\n          this.trigger('zoomedOut', {\n            position: position\n          });\n        }\n      }\n    }]);\n\n    return Verso;\n  }();\n\n  MicroEvent.mixin(Verso);\n  var verso = Verso;\n\n  return verso;\n\n})));\n//# sourceMappingURL=verso.js.map\n","MicroEvent = require 'microevent'\nMustache = require 'mustache'\n\nclass PagedPublicationHotspots\n    constructor: ->\n        @currentPageSpreadId = null\n        @pageSpreadsLoaded = {}\n        @cache = {}\n\n        @bind 'hotspotsReceived', @hotspotsReceived.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'pagesLoaded', @pagesLoaded.bind(@)\n        @bind 'resized', @resized.bind(@)\n\n        return\n\n    renderHotspots: (data) ->\n        frag = document.createDocumentFragment()\n        contentRect = data.versoPageSpread.getContentRect()\n        pageSpreadEl = data.pageSpread.getEl()\n        hotspotEls = pageSpreadEl.querySelectorAll '.sgn-pp__hotspot'\n        boundingRect = pageSpreadEl.getBoundingClientRect()\n\n        hotspotEl.parentNode.removeChild hotspotEl for hotspotEl in hotspotEls\n\n        for id, hotspot of data.hotspots\n            position = @getPosition data.pages, data.ratio, hotspot\n            el = @renderHotspot hotspot, position, contentRect, boundingRect\n            \n            frag.appendChild el\n\n        pageSpreadEl.appendChild frag\n\n        @\n\n    renderHotspot: (hotspot, position, contentRect, boundingRect) ->\n        el = document.createElement 'div'\n        top = Math.round contentRect.height / 100 * position.top\n        left = Math.round contentRect.width / 100 * position.left\n        width = Math.round contentRect.width / 100 * position.width\n        height = Math.round contentRect.height / 100 * position.height\n\n        top += Math.round contentRect.top\n        left += Math.round contentRect.left\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        el.className = 'sgn-pp__hotspot verso__overlay'\n        el.setAttribute 'data-id', hotspot.id if hotspot.id?\n        el.setAttribute 'data-type', hotspot.type if hotspot.type?\n        el.innerHTML = Mustache.render hotspot.template ? '', hotspot\n\n        el.style.top = \"#{top}px\"\n        el.style.left = \"#{left}px\"\n        el.style.width = \"#{width}px\"\n        el.style.height = \"#{height}px\"\n\n        el\n\n    getPosition: (pages, ratio, hotspot) ->\n        minX = null\n        minY = null\n        maxX = null\n        maxY = null\n        pageNumbers = pages.map (page) -> page.pageNumber\n\n        for pageNumber of hotspot.locations\n            continue if pageNumbers.indexOf(+pageNumber) is -1\n\n            hotspot.locations[pageNumber].forEach (coords) ->\n                x = coords[0]\n                y = coords[1]\n\n                x +=1 if pages[1] and pageNumbers[1] is +pageNumber\n                x /= pages.length\n\n                if not minX?\n                    minX = maxX = x\n                    minY = maxY = y\n\n                minX = x if x < minX\n                maxX = x if x > maxX\n                minY = y if y < minY\n                maxY = y if y > maxY\n\n        width = maxX - minX\n        height = maxY - minY\n\n        top: minY / ratio * 100\n        left: minX * 100\n        width: width * 100\n        height: height / ratio * 100\n\n    requestHotspots: (pageSpreadId, pages) ->\n        @trigger 'hotspotsRequested',\n            id: pageSpreadId\n            pages: pages\n\n        return\n\n    hotspotsReceived: (e) ->\n        pageSpreadId = e.pageSpread.getId()\n\n        @setCache pageSpreadId, e\n        @renderHotspots e\n\n        return\n\n    getCache: (pageSpreadId) ->\n        @cache[pageSpreadId]\n\n    setCache: (pageSpreadId, data) ->\n        @cache[pageSpreadId] = data\n\n        @\n\n    afterNavigation: (e) ->\n        return if not e.pageSpread?\n\n        id = e.pageSpread.getId()\n\n        @currentPageSpreadId = id\n        @requestHotspots id, e.pageSpread.getPages() if @pageSpreadsLoaded[id]\n\n        return\n\n    pagesLoaded: (e) ->\n        @pageSpreadsLoaded[e.pageSpreadId] = true\n        @requestHotspots e.pageSpreadId, e.pages if @currentPageSpreadId is e.pageSpreadId\n\n        return\n\n    resized: (e) ->\n        data = @getCache @currentPageSpreadId\n\n        @renderHotspots data if data?\n\n        return\n\nMicroEvent.mixin PagedPublicationHotspots\n\nmodule.exports = PagedPublicationHotspots\n\n\n","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nkeyCodes = require '../../key-codes'\n\nclass PagedPublicationControls\n    constructor: (el, @options = {}) ->\n        @els =\n            root: el\n            progress: el.querySelector '.sgn-pp__progress'\n            progressBar: el.querySelector '.sgn-pp-progress__bar'\n            progressLabel: el.querySelector '.sgn-pp__progress-label'\n            prevControl: el.querySelector '.sgn-pp__control[data-direction=prev]'\n            nextControl: el.querySelector '.sgn-pp__control[data-direction=next]'\n            close: el.querySelector '.sgn-pp--close'\n\n        @keyDownListener = SGN.util.throttle @keyDown, 150, @\n\n        @els.root.addEventListener 'keydown', @keyDownListener, false if @options.keyboard is true\n        @els.prevControl.addEventListener 'click', @prevClicked.bind(@), false if @els.prevControl?\n        @els.nextControl.addEventListener 'click', @nextClicked.bind(@), false if @els.nextControl?\n        @els.close.addEventListener 'click', @closeClicked.bind(@), false if @els.close?\n\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n\n        return\n\n    destroy: ->\n        @els.root.removeEventListener 'keydown', @keyDownListener\n\n        return\n\n    beforeNavigation: (e) ->\n        showProgress = typeof e.progressLabel is 'string' and e.progressLabel.length > 0\n        visibilityClassName = 'sgn-pp--hidden'\n\n        if @els.progress? and @els.progressBar?\n            @els.progressBar.style.width = \"#{e.progress}%\"\n\n            if showProgress is true\n                @els.progress.classList.remove visibilityClassName\n            else\n                @els.progress.classList.add visibilityClassName\n\n        if @els.progressLabel?\n            if showProgress is true\n                @els.progressLabel.textContent = e.progressLabel\n                @els.progressLabel.classList.remove visibilityClassName\n            else\n                @els.progressLabel.classList.add visibilityClassName\n\n        if @els.prevControl?\n            if e.verso.newPosition is 0\n                @els.prevControl.classList.add visibilityClassName\n            else\n                @els.prevControl.classList.remove visibilityClassName\n\n        if @els.nextControl?\n            if e.verso.newPosition is e.pageSpreadCount - 1\n                @els.nextControl.classList.add visibilityClassName\n            else\n                @els.nextControl.classList.remove visibilityClassName\n\n        return\n\n    prevClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'prev'\n\n        return\n\n    nextClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'next'\n\n        return\n    \n    closeClicked: (e) ->\n        e.preventDefault()\n\n        @trigger 'close'\n\n        return\n\n    keyDown: (e) ->\n        keyCode = e.keyCode\n\n        if keyCodes.ARROW_LEFT is keyCode\n            @trigger 'prev', duration: 0\n        else if keyCodes.ARROW_RIGHT is keyCode or keyCodes.SPACE is keyCode\n            @trigger 'next', duration: 0\n        else if keyCodes.NUMBER_ONE is keyCode\n            @trigger 'first', duration: 0\n\n        return\n\nMicroEvent.mixin PagedPublicationControls\n\nmodule.exports = PagedPublicationControls\n","module.exports =\n    ESC: 27\n    ARROW_RIGHT: 39\n    ARROW_LEFT: 37\n    SPACE: 32\n    NUMBER_ONE: 49\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","MicroEvent = require 'microevent'\nmd5 = require 'md5'\nutil = require '../../util'\nSGN = require '../../sgn'\n\nclass PagedPublicationEventTracking\n    constructor: (@eventTracker, @id) ->\n        @hidden = true\n        @pageSpread = null\n\n        @bind 'appeared', @appeared.bind(@)\n        @bind 'disappeared', @disappeared.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'afterNavigation', @afterNavigation.bind(@)\n        @bind 'attemptedNavigation', @attemptedNavigation.bind(@)\n        @bind 'panStart', @panStart.bind(@)\n        @bind 'destroyed', @destroy.bind(@)\n\n        return\n\n    destroy: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    trackOpened: (properties) ->\n        @eventTracker.trackPagedPublicationOpened\n            'pp.id': @id\n            'vt': @getViewToken([SGN.client.id, @id])\n\n        @\n\n    trackPageSpreadDisappeared: (pageNumbers) ->\n        pageNumbers.forEach (pageNumber) =>\n            @eventTracker.trackPagedPublicationPageDisappeared\n                'pp.id': @id\n                'ppp.n': pageNumber\n                'vt': @getViewToken([SGN.client.id, @id, pageNumber])\n            \n            return\n\n        @\n\n    appeared: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    disappeared: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    beforeNavigation: ->\n        @pageSpreadDisappeared()\n\n        return\n\n    afterNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    attemptedNavigation: (e) ->\n        @pageSpreadAppeared e.pageSpread\n\n        return\n\n    panStart: (e) ->\n        @pageSpreadDisappeared() if e.scale is 1\n\n        return\n\n    pageSpreadAppeared: (pageSpread) ->\n        if pageSpread? and @hidden is true\n            @pageSpread = pageSpread\n            @hidden = false\n\n        return\n\n    pageSpreadDisappeared: ->\n        if @pageSpread? and @hidden is false\n            @trackPageSpreadDisappeared @pageSpread.getPages().map (page) -> page.pageNumber\n\n            @hidden = true\n            @pageSpread = null\n\n        return\n    \n    getViewToken: (parts) ->\n        str = parts.join ''\n        viewToken = util.btoa String.fromCharCode.apply(null, (md5(str, {asBytes: true})).slice(0,8))\n\n        viewToken\n\nMicroEvent.mixin PagedPublicationEventTracking\n\nmodule.exports = PagedPublicationEventTracking","MicroEvent = require 'microevent'\nSGN = require '../../sgn'\nCore = require './core'\nHotspots = require './hotspots'\nControls = require './controls'\nEventTracking = require './event-tracking'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @_core = new Core @el,\n            id: @options.id\n            pages: @options.pages\n            pageSpreadWidth: @options.pageSpreadWidth\n            pageSpreadMaxZoomScale: @options.pageSpreadMaxZoomScale\n            pageId: @options.pageId\n            idleDelay: @options.idleDelay\n            resizeDelay: @options.resizeDelay\n            color: @options.color\n        @_hotspots = new Hotspots()\n        @_controls = new Controls @el, keyboard: @options.keyboard\n        @_eventTracking = new EventTracking @options.eventTracker, @options.id\n        @viewSession = SGN.util.uuid()\n        @hotspots = null\n        @hotspotQueue = []\n        @popover = null\n\n        @_setupEventListeners()\n\n        return\n\n        return\n\n    start: ->\n        @_eventTracking.trackOpened()\n        @_core.trigger 'started'\n\n        @\n\n    destroy: ->\n        @_core.trigger 'destroyed'\n        @_hotspots.trigger 'destroyed'\n        @_controls.trigger 'destroyed'\n        @_eventTracking.trigger 'destroyed'\n\n        @trigger 'destroyed'\n\n        @\n\n    navigateTo: (position, options) ->\n        @navigateToIndex position, options\n\n        @\n\n    navigateToIndex: (position, options) ->\n        @_core.getVerso().navigateTo position, options\n\n        @\n    \n    navigateToPageId: (pageId, options) ->\n        position = @_core.getVerso().getPageSpreadPositionFromPageId pageId\n        \n        @_core.getVerso().navigateTo position, options\n\n    first: (options) ->\n        @_core.getVerso().first options\n\n        @\n\n    prev: (options) ->\n        @_core.getVerso().prev options\n\n        @\n\n    next: (options) ->\n        @_core.getVerso().next options\n\n        @\n\n    last: (options) ->\n        @_core.getVerso().last options\n\n        @\n\n    _setupEventListeners: ->\n        @_controls.bind 'prev', (e) =>\n            @prev e\n            \n            return\n        @_controls.bind 'next', (e) =>\n            @next e\n            \n            return\n        @_controls.bind 'first', (e) =>\n            @first e\n            \n            return\n        @_controls.bind 'last', (e) =>\n            @last e\n            \n            return\n        @_controls.bind 'close', (e) =>\n            @destroy e\n\n            return\n        @_hotspots.bind 'hotspotsRequested', (e) =>\n            @trigger 'hotspotsRequested', e\n\n            return\n\n        @_core.bind 'appeared', (e) =>\n            @_eventTracking.trigger 'appeared', e\n            @trigger 'appeared', e\n\n            return\n        @_core.bind 'disappeared', (e) =>\n            @_eventTracking.trigger 'disappeared', e\n            @trigger 'disappeared', e\n\n            return\n        @_core.bind 'beforeNavigation', (e) =>\n            @_eventTracking.trigger 'beforeNavigation', e\n            @_controls.trigger 'beforeNavigation', e\n            @trigger 'beforeNavigation', e\n\n            return\n        @_core.bind 'afterNavigation', (e) =>\n            @_eventTracking.trigger 'afterNavigation', e\n            @_hotspots.trigger 'afterNavigation', e\n            @trigger 'afterNavigation', e\n\n            return\n        @_core.bind 'attemptedNavigation', (e) =>\n            @_eventTracking.trigger 'attemptedNavigation', e\n            @trigger 'attemptedNavigation', e\n\n            return\n        @_core.bind 'clicked', (e) =>\n            @_eventTracking.trigger 'clicked', e\n            @trigger 'clicked', e\n\n            return\n        @_core.bind 'doubleClicked', (e) =>\n            @_eventTracking.trigger 'doubleClicked', e\n            @trigger 'doubleClicked', e\n\n            return\n        @_core.bind 'contextmenu', (e) =>\n            @trigger 'contextmenu', e\n\n            return\n        @_core.bind 'pressed', (e) =>\n            @_eventTracking.trigger 'pressed', e\n            @trigger 'pressed', e\n\n            return\n        @_core.bind 'panStart', (e) =>\n            @_eventTracking.trigger 'panStart', e\n            @trigger 'panStart', e\n\n            return\n        @_core.bind 'zoomedIn', (e) =>\n            @_eventTracking.trigger 'zoomedIn', e\n            @trigger 'zoomedIn', e\n\n            return\n        @_core.bind 'zoomedOut', (e) =>\n            @_eventTracking.trigger 'zoomedOut', e\n            @trigger 'zoomedOut', e\n\n            return\n        @_core.bind 'pageLoaded', (e) =>\n            @_eventTracking.trigger 'pageLoaded', e\n            @trigger 'pageLoaded', e\n\n            return\n        @_core.bind 'pagesLoaded', (e) =>\n            @_hotspots.trigger 'pagesLoaded', e\n            @trigger 'pagesLoaded', e\n\n            return\n        @_core.bind 'resized', (e) =>\n            @_hotspots.trigger 'resized'\n            @trigger 'resized', e\n\n            return\n\n        @bind 'hotspotsRequested', @hotspotsRequested.bind(@)\n        @bind 'beforeNavigation', @beforeNavigation.bind(@)\n        @bind 'clicked', @clicked.bind(@)\n        @bind 'contextmenu', @contextmenu.bind(@)\n        @bind 'pressed', @pressed.bind(@)\n\n        return\n\n    pickHotspot: (e, callback) ->\n        return if not @hotspots?\n\n        if @popover?\n            @popover.destroy()\n            @popover = null\n        \n        hotspots = e.verso.overlayEls.map (overlayEl) =>\n            @hotspots[overlayEl.getAttribute('data-id')]\n\n        if hotspots.length is 1\n            callback hotspots[0]\n        else if hotspots.length > 1\n            @popover = SGN.CoreUIKit.singleChoicePopover\n                el: @el\n                header: SGN.translations.t 'paged_publication.hotspot_picker.header'\n                x: e.verso.x\n                y: e.verso.y\n                items: hotspots\n                    .filter (hotspot) -> hotspot.type is 'offer'\n                    .map (hotspot) ->\n                        id: hotspot.id\n                        title: hotspot.offer.heading\n                        subtitle: hotspot.offer.pricing.currency + '' + hotspot.offer.pricing.price\n            , (e) =>\n                callback @hotspots[e.id]\n\n                return\n        \n        return\n\n    processHotspotQueue: ->\n        return if not @hotspots?\n\n        @hotspotQueue = @hotspotQueue.filter (hotspotRequest) =>\n            hotspots = {}\n            versoPageSpread = @_core.getVerso().pageSpreads.find (pageSpread) ->\n                pageSpread.getId() is hotspotRequest.id\n\n            for id, hotspot of @hotspots\n                continue if hotspots[id]?\n\n                for page in hotspotRequest.pages\n                    if hotspot.locations[page.pageNumber]?\n                        hotspots[id] =\n                            type: hotspot.type\n                            id: hotspot.id\n                            locations: hotspot.locations\n                        \n                        break\n\n            @_hotspots.trigger 'hotspotsReceived',\n                pageSpread: @_core.pageSpreads.get hotspotRequest.id\n                versoPageSpread: versoPageSpread\n                ratio: @options.hotspotRatio\n                pages: hotspotRequest.pages\n                hotspots: hotspots\n\n            false\n\n        return\n\n    hotspotsRequested: (e) ->\n        @hotspotQueue.push e\n        @processHotspotQueue()\n\n        return\n    \n    applyHotspots: (hotspots = {}) ->\n        @hotspots = hotspots\n\n        @processHotspotQueue()\n\n        return\n    \n    beforeNavigation: ->\n        @popover.destroy() if @popover?\n\n        return\n    \n    clicked: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotClicked', hotspot\n\n            return\n            \n        return\n    \n    contextmenu: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotContextmenu', hotspot\n\n            return\n        \n        return\n    \n    pressed: (e) ->\n        @pickHotspot e, (hotspot) =>\n            @trigger 'hotspotPressed', hotspot\n\n            return\n            \n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer\n","MicroEvent = require 'microevent'\nSGN = require '../../core'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        return\n\n    createViewer: (data) ->\n        new SGN.PagedPublicationKit.Viewer @options.el,\n            id: @options.id\n            ownedBy: data.details.dealer_id\n            color: '#' + data.details.branding.pageflip.color\n            hotspotRatio: data.details.dimensions.height\n            keyboard: true\n            pageId: @options.pageId\n            eventTracker: @options.eventTracker\n            pages: @transformPages data.pages\n\n    transformPages: (pages) ->\n        pages.map (page, i) ->\n            pageNumber = i + 1\n\n            id: 'page' + pageNumber\n            label: pageNumber + ''\n            pageNumber: pageNumber\n            images:\n                medium: page.view\n                large: page.zoom\n\n    applyHotspots: (viewer, hotspots) ->\n        obj = {}\n\n        hotspots.forEach (hotspot) -> obj[hotspot.id] = hotspot\n        \n        viewer.applyHotspots obj\n\n        return\n    \n    fetch: (callback) ->\n        SGN.util.async.parallel [@fetchDetails.bind(@), @fetchPages.bind(@)], (result) ->\n            data =\n                details: result[0][1]\n                pages: result[1][1]\n\n            if result[0][0]?\n                callback result[0][0]\n            else if result[1][0]?\n                callback result[1][0]\n            else if data.details? and data.pages?\n                callback null, data\n            else\n                callback new Error()\n\n            return\n        \n        return\n\n    fetchDetails: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}\"\n        , callback\n\n        return\n\n    fetchPages: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/pages\"\n        , callback\n\n        return\n\n    fetchHotspots: (callback) ->\n        SGN.CoreKit.request\n            url: \"/v2/catalogs/#{@options.id}/hotspots\"\n        , callback\n\n        return","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","Incito = require 'incito-browser'\nMicroEvent = require 'microevent'\n\nclass Viewer\n    constructor: (@el, @options = {}) ->\n        @incito = new Incito @el,\n            incito: @options.incito\n            \n        return\n    \n    start: ->\n        @incito.start()\n\n        @\n    \n    destroy: ->\n        @incito.destroy()\n\n        return\n\nMicroEvent.mixin Viewer\n\nmodule.exports = Viewer","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Incito = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var microevent = createCommonjsModule(function (module) {\n  /**\n   * MicroEvent - to make any js object an event emitter (server or browser)\n   * \n   * - pure javascript - server compatible, browser compatible\n   * - dont rely on the browser doms\n   * - super simple - you get it immediatly, no mistery, no magic involved\n   *\n   * - create a MicroEventDebug with goodies to debug\n   *   - make it safer to use\n  */\n\n  var MicroEvent\t= function(){};\n  MicroEvent.prototype\t= {\n  \tbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tthis._events[event] = this._events[event]\t|| [];\n  \t\tthis._events[event].push(fct);\n  \t},\n  \tunbind\t: function(event, fct){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n  \t},\n  \ttrigger\t: function(event /* , args... */){\n  \t\tthis._events = this._events || {};\n  \t\tif( event in this._events === false  )\treturn;\n  \t\tfor(var i = 0; i < this._events[event].length; i++){\n  \t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n  \t\t}\n  \t}\n  };\n\n  /**\n   * mixin will delegate all MicroEvent.js function in the destination object\n   *\n   * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {Object} the object which will support MicroEvent\n  */\n  MicroEvent.mixin\t= function(destObject){\n  \tvar props\t= ['bind', 'unbind', 'trigger'];\n  \tfor(var i = 0; i < props.length; i ++){\n  \t\tdestObject.prototype[props[i]]\t= MicroEvent.prototype[props[i]];\n  \t}\n  };\n\n  // export in common js\n  if( 'object' !== \"undefined\" && ('exports' in module)){\n  \tmodule.exports\t= MicroEvent;\n  }\n  });\n\n  var _isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function (it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  var _global = createCommonjsModule(function (module) {\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global = module.exports = typeof window != 'undefined' && window.Math == Math\n    ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function (it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function (it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n  \tf: f\n  };\n\n  var _propertyDesc = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function (key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var _core = createCommonjsModule(function (module) {\n  var core = module.exports = { version: '2.5.3' };\n  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n  var _core_1 = _core.version;\n\n  var _redefine = createCommonjsModule(function (module) {\n  var SRC = _uid('src');\n  var TO_STRING = 'toString';\n  var $toString = Function[TO_STRING];\n  var TPL = ('' + $toString).split(TO_STRING);\n\n  _core.inspectSource = function (it) {\n    return $toString.call(it);\n  };\n\n  (module.exports = function (O, key, val, safe) {\n    var isFunction = typeof val == 'function';\n    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);\n    if (O[key] === val) return;\n    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if (O === _global) {\n      O[key] = val;\n    } else if (!safe) {\n      delete O[key];\n      _hide(O, key, val);\n    } else if (O[key]) {\n      O[key] = val;\n    } else {\n      _hide(O, key, val);\n    }\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, TO_STRING, function toString() {\n    return typeof this == 'function' && this[SRC] || $toString.call(this);\n  });\n  });\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function (key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n  var store = _shared('wks');\n\n  var Symbol = _global.Symbol;\n  var USE_SYMBOL = typeof Symbol == 'function';\n\n  var $exports = module.exports = function (name) {\n    return store[name] || (store[name] =\n      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n  };\n\n  $exports.store = store;\n  });\n\n  var _fixReWks = function (KEY, length, exec) {\n    var SYMBOL = _wks(KEY);\n    var fns = exec(_defined, SYMBOL, ''[KEY]);\n    var strfn = fns[0];\n    var rxfn = fns[1];\n    if (_fails(function () {\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    })) {\n      _redefine(String.prototype, KEY, strfn);\n      _hide(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return rxfn.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return rxfn.call(string, this); }\n      );\n    }\n  };\n\n  // @@replace logic\n  _fixReWks('replace', 2, function (defined, REPLACE, $replace) {\n    // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n    return [function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    }, $replace];\n  });\n\n  var utils;\n  utils = {\n    formatUnit: function formatUnit(unit) {\n      if (unit == null) {\n        return 0;\n      } else if (typeof unit === 'number') {\n        return \"\".concat(unit, \"px\");\n      } else if (typeof unit === 'string') {\n        return unit.replace('dp', 'px');\n      } else {\n        return 0;\n      }\n    },\n    isDefinedStr: function isDefinedStr(value) {\n      return typeof value === 'string' && value.length > 0;\n    },\n    escapeHTML: function escapeHTML() {\n      var unsafe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return unsafe.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n    },\n    throttle: function throttle(func, limit) {\n      var inThrottle;\n      inThrottle = void 0;\n      return function () {\n        var args, context;\n        args = arguments;\n        context = this;\n\n        if (!inThrottle) {\n          func.apply(context, args);\n          inThrottle = true;\n          setTimeout(function () {\n            inThrottle = false;\n          }, limit);\n        }\n      };\n    }\n  };\n  var utils_1 = utils;\n\n  var View,\n      utils$1,\n      indexOf = [].indexOf;\n  utils$1 = utils_1;\n\n  var view = View = function () {\n    var View =\n    /*#__PURE__*/\n    function () {\n      function View() {\n        var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, View);\n\n        this.attrs = attrs;\n        this.el = this.createElement();\n        this.setAttributes();\n        return;\n      }\n\n      _createClass(View, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }, {\n        key: \"createElement\",\n        value: function createElement() {\n          var className, el, ref;\n          el = document.createElement(this.tagName);\n          className = (ref = this.className) != null ? ref : '';\n          el.className = 'incito__view ' + className;\n          return el;\n        }\n      }, {\n        key: \"setAttributes\",\n        value: function setAttributes() {\n          var _this = this;\n\n          var ref, ref1, ref2, ref3, ref4, ref5, shadow, strokeStyles, transforms; // Identifier.\n\n          if (utils$1.isDefinedStr(this.attrs.id)) {\n            this.el.setAttribute('data-id', this.attrs.id);\n          } // Role.\n\n\n          if (utils$1.isDefinedStr(this.attrs.role)) {\n            this.el.setAttribute('data-role', this.attrs.role);\n          } // Accessibility label.\n\n\n          if (utils$1.isDefinedStr(this.attrs.accessibility_label)) {\n            this.el.setAttribute('aria-label', this.attrs.accessibility_label);\n          } // Accessibility visibility.\n\n\n          if (this.attrs.accessibility_hidden === true) {\n            this.el.setAttribute('aria-hidden', true);\n          } // Title.\n\n\n          if (utils$1.isDefinedStr(this.attrs.title)) {\n            this.el.setAttribute('title', this.attrs.title);\n          } // Gravity.\n\n\n          if (utils$1.isDefinedStr(this.attrs.gravity)) {\n            this.el.setAttribute('data-gravity', this.attrs.gravity);\n          } // Link.\n\n\n          if (utils$1.isDefinedStr(this.attrs.link)) {\n            this.el.setAttribute('data-link', '');\n            this.el.addEventListener('click', function () {\n              window.open(_this.attrs.link, '_blank');\n            }, false);\n          } // Width.\n\n\n          if (this.attrs.layout_width === 'match_parent') {\n            this.el.style.width = '100%';\n          } else if (this.attrs.layout_width === 'wrap_content') {\n            this.el.style.display = 'inline-block';\n          } else if (this.attrs.layout_width != null) {\n            this.el.style.width = utils$1.formatUnit(this.attrs.layout_width);\n          } // Height.\n\n\n          if (this.attrs.layout_height === 'match_parent') {\n            this.el.style.height = '100%';\n          } else if (this.attrs.layout_height === 'wrap_content') {\n            this.el.style.height = 'auto';\n          } else if (this.attrs.layout_height != null) {\n            this.el.style.height = utils$1.formatUnit(this.attrs.layout_height);\n          } // Min width.\n\n\n          if (this.attrs.min_width != null) {\n            this.el.style.minWidth = utils$1.formatUnit(this.attrs.min_width);\n          } // Max width.\n\n\n          if (this.attrs.max_width != null) {\n            this.el.style.maxWidth = utils$1.formatUnit(this.attrs.max_width);\n          } // Min height.\n\n\n          if (this.attrs.min_height != null) {\n            this.el.style.minHeight = utils$1.formatUnit(this.attrs.min_height);\n          } // Max height.\n\n\n          if (this.attrs.max_height != null) {\n            this.el.style.maxHeight = utils$1.formatUnit(this.attrs.max_height);\n          } // Position in relation to parent.\n\n\n          if (this.attrs.layout_top != null) {\n            this.el.style.top = utils$1.formatUnit(this.attrs.layout_top);\n          }\n\n          if (this.attrs.layout_left != null) {\n            this.el.style.left = utils$1.formatUnit(this.attrs.layout_left);\n          }\n\n          if (this.attrs.layout_right != null) {\n            this.el.style.right = utils$1.formatUnit(this.attrs.layout_right);\n          }\n\n          if (this.attrs.layout_bottom != null) {\n            this.el.style.bottom = utils$1.formatUnit(this.attrs.layout_bottom);\n          } // Background.\n\n\n          if (utils$1.isDefinedStr(this.attrs.background_color)) {\n            this.el.style.backgroundColor = this.attrs.background_color;\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image)) {\n            this.el.setAttribute('data-src', this.attrs.background_image);\n            this.lazyload = true;\n          }\n\n          if ((ref = this.attrs.background_tile_mode) === 'repeat_x' || ref === 'repeat_y' || ref === 'repeat') {\n            this.el.style.backgroundRepeat = this.attrs.background_tile_mode.replace('_', '-');\n          }\n\n          if (utils$1.isDefinedStr(this.attrs.background_image_position)) {\n            this.el.style.backgroundPosition = this.attrs.background_image_position.replace('_', ' ');\n          }\n\n          if (this.attrs.background_image_scale_type === 'center_crop') {\n            this.el.style.backgroundSize = 'cover';\n          } else if (this.attrs.background_image_scale_type === 'center_inside') {\n            this.el.style.backgroundSize = 'contain';\n          } // Margin.\n\n\n          if (this.attrs.layout_margin != null) {\n            this.el.style.margin = utils$1.formatUnit(this.attrs.layout_margin);\n          } else {\n            if (this.attrs.layout_margin_top != null) {\n              this.el.style.marginTop = utils$1.formatUnit(this.attrs.layout_margin_top);\n            }\n\n            if (this.attrs.layout_margin_left != null) {\n              this.el.style.marginLeft = utils$1.formatUnit(this.attrs.layout_margin_left);\n            }\n\n            if (this.attrs.layout_margin_right != null) {\n              this.el.style.marginRight = utils$1.formatUnit(this.attrs.layout_margin_right);\n            }\n\n            if (this.attrs.layout_margin_bottom != null) {\n              this.el.style.marginBottom = utils$1.formatUnit(this.attrs.layout_margin_bottom);\n            }\n          } // Padding.\n\n\n          if (this.attrs.padding != null) {\n            this.el.style.padding = utils$1.formatUnit(this.attrs.padding);\n          } else {\n            if (this.attrs.padding_top != null) {\n              this.el.style.paddingTop = utils$1.formatUnit(this.attrs.padding_top);\n            }\n\n            if (this.attrs.padding_left != null) {\n              this.el.style.paddingLeft = utils$1.formatUnit(this.attrs.padding_left);\n            }\n\n            if (this.attrs.padding_right != null) {\n              this.el.style.paddingRight = utils$1.formatUnit(this.attrs.padding_right);\n            }\n\n            if (this.attrs.padding_bottom != null) {\n              this.el.style.paddingBottom = utils$1.formatUnit(this.attrs.padding_bottom);\n            }\n          } // Corner radius.\n\n\n          if (this.attrs.corner_radius != null) {\n            this.el.style.borderRadius = utils$1.formatUnit(this.attrs.corner_radius);\n          } else {\n            if (this.attrs.corner_top_left_radius != null) {\n              this.el.style.borderTopLeftRadius = utils$1.formatUnit(this.attrs.corner_top_left_radius);\n            }\n\n            if (this.attrs.corner_top_right_radius != null) {\n              this.el.style.borderTopRightRadius = utils$1.formatUnit(this.attrs.corner_top_right_radius);\n            }\n\n            if (this.attrs.corner_bottom_left_radius != null) {\n              this.el.style.borderBottomLeftRadius = utils$1.formatUnit(this.attrs.corner_bottom_left_radius);\n            }\n\n            if (this.attrs.corner_bottom_right_radius != null) {\n              this.el.style.borderBottomRightRadius = utils$1.formatUnit(this.attrs.corner_bottom_right_radius);\n            }\n          } // Clip children.\n\n\n          if (this.attrs.clip_children === false) {\n            this.el.style.overflow = 'visible';\n          } // Shadow.\n\n\n          shadow = this.getShadow();\n\n          if (shadow != null) {\n            this.el.style.boxShadow = \"\".concat(shadow.dx, \"px \").concat(shadow.dy, \"px \").concat(shadow.radius, \"px \").concat(shadow.color);\n          } // Stroke.\n\n\n          strokeStyles = ['solid', 'dotted', 'dashed'];\n\n          if (this.attrs.stroke_width != null) {\n            this.el.style.borderWidth = utils$1.formatUnit(this.attrs.stroke_width);\n          }\n\n          if (this.attrs.stroke_color != null) {\n            this.el.style.borderColor = this.attrs.stroke_color;\n          }\n\n          if (ref1 = this.attrs.stroke_style, indexOf.call(strokeStyles, ref1) >= 0) {\n            this.el.style.borderStyle = this.attrs.stroke_style;\n          }\n\n          if (this.attrs.stroke_top_width != null) {\n            this.el.style.borderTopWidth = utils$1.formatUnit(this.attrs.stroke_top_width);\n          }\n\n          if (this.attrs.stroke_top_color != null) {\n            this.el.style.borderTopColor = this.attrs.stroke_top_color;\n          }\n\n          if (ref2 = this.attrs.stroke_top_style, indexOf.call(strokeStyles, ref2) >= 0) {\n            this.el.style.borderTopStyle = this.attrs.stroke_top_style;\n          }\n\n          if (this.attrs.stroke_left_width != null) {\n            this.el.style.borderLeftWidth = utils$1.formatUnit(this.attrs.stroke_left_width);\n          }\n\n          if (this.attrs.stroke_left_color != null) {\n            this.el.style.borderLeftColor = this.attrs.stroke_left_color;\n          }\n\n          if (ref3 = this.attrs.stroke_left_style, indexOf.call(strokeStyles, ref3) >= 0) {\n            this.el.style.borderLeftStyle = this.attrs.stroke_left_style;\n          }\n\n          if (this.attrs.stroke_right_width != null) {\n            this.el.style.borderRightWidth = utils$1.formatUnit(this.attrs.stroke_right_width);\n          }\n\n          if (this.attrs.stroke_right_color != null) {\n            this.el.style.borderRightColor = this.attrs.stroke_right_color;\n          }\n\n          if (ref4 = this.attrs.stroke_right_style, indexOf.call(strokeStyles, ref4) >= 0) {\n            this.el.style.borderRightStyle = this.attrs.stroke_right_style;\n          }\n\n          if (this.attrs.stroke_bottom_width != null) {\n            this.el.style.borderBottomWidth = utils$1.formatUnit(this.attrs.stroke_bottom_width);\n          }\n\n          if (this.attrs.stroke_bottom_color != null) {\n            this.el.style.borderBottomColor = this.attrs.stroke_bottom_color;\n          }\n\n          if (ref5 = this.attrs.stroke_bottom_style, indexOf.call(strokeStyles, ref5) >= 0) {\n            this.el.style.borderBottomStyle = this.attrs.stroke_bottom_style;\n          } // Transforms.\n\n\n          transforms = this.getTransforms();\n\n          if (transforms.length > 0) {\n            this.el.style.transform = transforms.join(' ');\n          } // Transform origin.\n\n\n          if (Array.isArray(this.attrs.transform_origin) && this.attrs.transform_origin.length === 2) {\n            this.el.style.transformOrigin = [utils$1.formatUnit(this.attrs.transform_origin[0]), utils$1.formatUnit(this.attrs.transform_origin[1])].join(' ');\n          }\n        }\n      }, {\n        key: \"getTransforms\",\n        value: function getTransforms() {\n          var transforms, translateX, translateY;\n          transforms = [];\n          translateX = utils$1.formatUnit(this.attrs.transform_translate_x);\n          translateY = utils$1.formatUnit(this.attrs.transform_translate_y);\n\n          if (translateX !== 0) {\n            transforms.push(\"translateX(\".concat(translateX, \")\"));\n          }\n\n          if (translateY !== 0) {\n            transforms.push(\"translateY(\".concat(translateY, \")\"));\n          }\n\n          if (typeof this.attrs.transform_rotate === 'number' && this.attrs.transform_rotate !== 0) {\n            transforms.push(\"rotate(\".concat(this.attrs.transform_rotate, \"deg)\"));\n          }\n\n          if (typeof this.attrs.transform_scale === 'number' && this.attrs.transform_scale !== 1) {\n            transforms.push(\"scale(\".concat(this.attrs.transform_scale, \")\"));\n          }\n\n          return transforms;\n        }\n      }, {\n        key: \"getShadow\",\n        value: function getShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$1.isDefinedStr(this.attrs.shadow_color)) {\n            dx = typeof this.attrs.shadow_dx === 'number' ? this.attrs.shadow_dx : 0;\n            dy = typeof this.attrs.shadow_dy === 'number' ? this.attrs.shadow_dy : 0;\n            radius = typeof this.attrs.shadow_radius === 'number' ? this.attrs.shadow_radius : 0;\n            color = this.attrs.shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return View;\n    }();\n    View.prototype.tagName = 'div';\n    View.prototype.className = null;\n    return View;\n  }.call(commonjsGlobal);\n\n  var view = View;\n\n  var FragView;\n\n  var frag = FragView =\n  /*#__PURE__*/\n  function () {\n    function FragView() {\n      _classCallCheck(this, FragView);\n    }\n\n    _createClass(FragView, [{\n      key: \"render\",\n      value: function render() {\n        this.el = document.createDocumentFragment();\n        return this;\n      }\n    }]);\n\n    return FragView;\n  }();\n\n  var require$$0 = view;\n\n  var Image, View$1, utils$2;\n  View$1 = require$$0;\n  utils$2 = utils_1;\n\n  var image = Image = function () {\n    var Image =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Image, _View);\n\n      function Image() {\n        _classCallCheck(this, Image);\n\n        return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n      }\n\n      _createClass(Image, [{\n        key: \"render\",\n        value: function render() {\n          if (utils$2.isDefinedStr(this.attrs.src)) {\n            this.el.setAttribute('data-src', this.attrs.src);\n          }\n\n          if (utils$2.isDefinedStr(this.attrs.label)) {\n            this.el.setAttribute('alt', this.attrs.label);\n          } else {\n            this.el.setAttribute('alt', '');\n          }\n\n          return this;\n        }\n      }]);\n\n      return Image;\n    }(View$1);\n    Image.prototype.tagName = 'img';\n    Image.prototype.className = 'incito__image-view';\n    Image.prototype.lazyload = true;\n    return Image;\n  }.call(commonjsGlobal);\n\n  var dP$1 = _objectDp.f;\n  var FProto = Function.prototype;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME = 'name';\n\n  // 19.2.4.2 name\n  NAME in FProto || _descriptors && dP$1(FProto, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return ('' + this).match(nameRE)[1];\n      } catch (e) {\n        return '';\n      }\n    }\n  });\n\n  var toString = {}.toString;\n\n  var _cof = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // 7.2.8 IsRegExp(argument)\n\n\n  var MATCH = _wks('match');\n  var _isRegexp = function (it) {\n    var isRegExp;\n    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');\n  };\n\n  // @@split logic\n  _fixReWks('split', 2, function (defined, SPLIT, $split) {\n    var isRegExp = _isRegexp;\n    var _split = $split;\n    var $push = [].push;\n    var $SPLIT = 'split';\n    var LENGTH = 'length';\n    var LAST_INDEX = 'lastIndex';\n    if (\n      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n      ''[$SPLIT](/.?/)[LENGTH]\n    ) {\n      var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n      // based on es5-shim implementation, need to rework it\n      $split = function (separator, limit) {\n        var string = String(this);\n        if (separator === undefined && limit === 0) return [];\n        // If `separator` is not a regex, use native split\n        if (!isRegExp(separator)) return _split.call(string, separator, limit);\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var separator2, match, lastIndex, lastLength, i;\n        // Doesn't need flags gy, but they don't hurt\n        if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        while (match = separatorCopy.exec(string)) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0][LENGTH];\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n            // eslint-disable-next-line no-loop-func\n            if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n              for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n            });\n            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n            lastLength = match[0][LENGTH];\n            lastLastIndex = lastIndex;\n            if (output[LENGTH] >= splitLimit) break;\n          }\n          if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string[LENGTH]) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n      };\n    // Chakra, V8\n    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n      $split = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n      };\n    }\n    // 21.1.3.17 String.prototype.split(separator, limit)\n    return [function split(separator, limit) {\n      var O = defined(this);\n      var fn = separator == undefined ? undefined : separator[SPLIT];\n      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n    }, $split];\n  });\n\n  var TextView,\n      View$2,\n      utils$3,\n      indexOf$1 = [].indexOf;\n  View$2 = require$$0;\n  utils$3 = utils_1;\n\n  var text = TextView = function () {\n    var TextView =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(TextView, _View);\n\n      function TextView() {\n        _classCallCheck(this, TextView);\n\n        return _possibleConstructorReturn(this, (TextView.__proto__ || Object.getPrototypeOf(TextView)).apply(this, arguments));\n      }\n\n      _createClass(TextView, [{\n        key: \"render\",\n        value: function render() {\n          var parsedText, ref, text, textShadow, textStyles;\n          textStyles = (this.attrs.text_style || '').split('|');\n          text = this.attrs.text;\n\n          if (Array.isArray(this.attrs.spans) && this.attrs.spans.length > 0) {\n            parsedText = this.parseSpans(text, this.attrs.spans);\n            text = parsedText.map(function (item) {\n              var escapedText, spanName;\n              escapedText = utils$3.escapeHTML(item.text || '');\n\n              if (item.span != null && item.span.name === 'link' && item.span.url != null) {\n                return '<a href=\"' + encodeURI(item.span.url) + '\" rel=\"external\" target=\"_blank\">' + escapedText + '</a>';\n              } else if (item.span != null && item.span.name != null) {\n                spanName = item.span.name;\n                return '<span data-name=\"' + spanName + '\">' + escapedText + '</span>';\n              } else {\n                return escapedText;\n              }\n            });\n            text = text.join('');\n          } else {\n            text = utils$3.escapeHTML(text);\n          }\n\n          if (this.attrs.text_prevent_widow) {\n            this.el.innerHTML = text.replace(/\\&nbsp;([^\\s]+)$/, ' $1').replace(/\\s([^\\s]+)\\s*$/, '&nbsp;$1');\n          } else {\n            this.el.innerHTML = text;\n          } // Font family.\n\n\n          if (Array.isArray(this.attrs.font_family) && this.attrs.font_family.length > 0) {\n            this.el.style.fontFamily = this.attrs.font_family.join(', ');\n          } // Text size.\n\n\n          if (this.attrs.text_size != null) {\n            this.el.style.fontSize = \"\".concat(this.attrs.text_size, \"px\");\n          } // Line height.\n\n\n          if (this.attrs.line_spacing_multiplier != null) {\n            this.el.style.lineHeight = this.attrs.line_spacing_multiplier;\n          } // Text color.\n\n\n          if (this.attrs.text_color != null) {\n            this.el.style.color = this.attrs.text_color;\n          } // Text styles.\n\n\n          if (indexOf$1.call(textStyles, 'bold') >= 0) {\n            this.el.style.fontWeight = 'bold';\n          }\n\n          if (indexOf$1.call(textStyles, 'italic') >= 0) {\n            this.el.style.fontStyle = 'italic';\n          } // Text shadow.\n\n\n          textShadow = this.getTextShadow();\n\n          if (textShadow != null) {\n            this.el.style.textShadow = \"\".concat(textShadow.dx, \"px \").concat(textShadow.dy, \"px \").concat(textShadow.radius, \"px \").concat(textShadow.color);\n          } // Text alignment.\n\n\n          if (this.attrs.text_alignment === 'left') {\n            this.el.style.textAlign = 'left';\n          } else if (this.attrs.text_alignment === 'center') {\n            this.el.style.textAlign = 'center';\n          } else if (this.attrs.text_alignment === 'right') {\n            this.el.style.textAlign = 'right';\n          } // Font stretch.\n\n\n          if ((ref = this.attrs.font_stretch) === 'condensed' || ref === 'normal' || ref === 'expanded') {\n            this.el.style.fontStretch = this.attrs.font_stretch;\n          } // Max lines.\n\n\n          if (this.attrs.single_line === true || this.attrs.max_lines === 1) {\n            this.el.setAttribute('data-single-line', true);\n          } else if (typeof this.attrs.max_lines === 'number') {\n            this.el.style.display = '-webkit-box';\n            this.el.style.webkitLineClamp = this.attrs.max_lines;\n            this.el.style.webkitBoxOrient = 'vertical';\n          } // All caps.\n\n\n          if (this.attrs.text_all_caps === true) {\n            this.el.style.textTransform = 'uppercase';\n          }\n\n          return this;\n        }\n      }, {\n        key: \"parseSpans\",\n        value: function parseSpans(text) {\n          var spans = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n          var result;\n          result = [];\n\n          if (spans.length === 0) {\n            result.push({\n              text: text\n            });\n          } else if (spans[0].start > 0) {\n            result.push({\n              text: text.slice(0, spans[0].start)\n            });\n          }\n\n          spans.forEach(function (span, i) {\n            var endIndex, startIndex;\n            startIndex = span.start;\n            endIndex = span.end;\n            result.push({\n              text: text.slice(startIndex, endIndex),\n              span: span\n            });\n\n            if (i === spans.length - 1) {\n              if (endIndex < text.length) {\n                result.push({\n                  text: text.slice(endIndex, text.length)\n                });\n              }\n            } else if (endIndex < spans[i + 1].start) {\n              result.push({\n                text: text.slice(endIndex, spans[i + 1].start)\n              });\n            }\n          });\n          return result;\n        }\n      }, {\n        key: \"getTextShadow\",\n        value: function getTextShadow() {\n          var color, dx, dy, radius;\n\n          if (utils$3.isDefinedStr(this.attrs.text_shadow_color)) {\n            dx = typeof this.attrs.text_shadow_dx === 'number' ? this.attrs.text_shadow_dx : 0;\n            dy = typeof this.attrs.text_shadow_dy === 'number' ? this.attrs.text_shadow_dy : 0;\n            radius = typeof this.attrs.text_shadow_radius === 'number' ? this.attrs.text_shadow_radius : 0;\n            color = this.attrs.text_shadow_color;\n            return {\n              dx: dx,\n              dy: dy,\n              radius: radius,\n              color: color\n            };\n          }\n        }\n      }]);\n\n      return TextView;\n    }(View$2);\n    TextView.prototype.tagName = 'p';\n    TextView.prototype.className = 'incito__text-view';\n    return TextView;\n  }.call(commonjsGlobal);\n\n  var FlexLayout,\n      View$3,\n      allowedHostnames,\n      utils$4,\n      indexOf$2 = [].indexOf;\n  View$3 = require$$0;\n  utils$4 = utils_1;\n  allowedHostnames = ['www.youtube.com', 'www.vimeo.com', 'video.twentythree.net'];\n\n  var videoEmbed = FlexLayout = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, (FlexLayout.__proto__ || Object.getPrototypeOf(FlexLayout)).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var linkEl, ref, src;\n\n          if (utils$4.isDefinedStr(this.attrs.src)) {\n            src = this.attrs.src;\n            linkEl = document.createElement('a');\n            linkEl.setAttribute('href', src);\n\n            if (ref = linkEl.hostname, indexOf$2.call(allowedHostnames, ref) >= 0) {\n              this.el.setAttribute('data-src', src);\n              this.lazyload = true;\n            }\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$3);\n    FlexLayout.prototype.className = 'incito__video-embed-view';\n    FlexLayout.prototype.lazyload = false;\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var Video, View$4, utils$5;\n  View$4 = require$$0;\n  utils$5 = utils_1;\n\n  var video = Video = function () {\n    var Video =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(Video, _View);\n\n      function Video() {\n        _classCallCheck(this, Video);\n\n        return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n      }\n\n      _createClass(Video, [{\n        key: \"render\",\n        value: function render() {\n          if (!utils$5.isDefinedStr(this.attrs.src)) {\n            return;\n          }\n\n          if (this.attrs.autoplay === true) {\n            this.el.setAttribute('autoplay', '');\n          }\n\n          if (this.attrs.loop === true) {\n            this.el.setAttribute('loop', '');\n          }\n\n          if (this.attrs.controls === true) {\n            this.el.setAttribute('controls', '');\n          }\n\n          this.el.setAttribute('muted', 'true');\n          this.el.setAttribute('preload', 'metadata');\n          this.el.setAttribute('playsinline', '');\n          this.el.setAttribute('data-src', this.attrs.src);\n          this.el.setAttribute('data-mime', this.attrs.mime);\n          return this;\n        }\n      }]);\n\n      return Video;\n    }(View$4);\n    Video.prototype.className = 'incito__video-view';\n    Video.prototype.tagName = 'video';\n    Video.prototype.lazyload = true;\n    return Video;\n  }.call(commonjsGlobal);\n\n  var LinearLayout, View$5;\n  View$5 = require$$0;\n\n  var linearLayout = LinearLayout = function () {\n    var LinearLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(LinearLayout, _View);\n\n      function LinearLayout() {\n        _classCallCheck(this, LinearLayout);\n\n        return _possibleConstructorReturn(this, (LinearLayout.__proto__ || Object.getPrototypeOf(LinearLayout)).apply(this, arguments));\n      }\n\n      _createClass(LinearLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return LinearLayout;\n    }(View$5);\n    LinearLayout.prototype.className = 'incito__linear-layout-view';\n    return LinearLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout, View$6;\n  View$6 = require$$0;\n\n  var absoluteLayout = AbsoluteLayout = function () {\n    var AbsoluteLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(AbsoluteLayout, _View);\n\n      function AbsoluteLayout() {\n        _classCallCheck(this, AbsoluteLayout);\n\n        return _possibleConstructorReturn(this, (AbsoluteLayout.__proto__ || Object.getPrototypeOf(AbsoluteLayout)).apply(this, arguments));\n      }\n\n      _createClass(AbsoluteLayout, [{\n        key: \"render\",\n        value: function render() {\n          return this;\n        }\n      }]);\n\n      return AbsoluteLayout;\n    }(View$6);\n    AbsoluteLayout.prototype.className = 'incito__absolute-layout-view';\n    return AbsoluteLayout;\n  }.call(commonjsGlobal);\n\n  var FlexLayout$1,\n      View$7,\n      alignContentModes,\n      alignItemModes,\n      flexDirectionModes,\n      flexJustifyModes,\n      utils$6,\n      indexOf$3 = [].indexOf;\n  View$7 = require$$0;\n  utils$6 = utils_1;\n  alignItemModes = ['stretch', 'center', 'flex-start', 'flex-end', 'baseline'];\n  alignContentModes = ['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around', 'initial', 'inherit'];\n  flexJustifyModes = ['flex-start', 'flex-end', 'center', 'space-between', 'space-around'];\n  flexDirectionModes = ['row', 'column'];\n\n  var flexLayout = FlexLayout$1 = function () {\n    var FlexLayout =\n    /*#__PURE__*/\n    function (_View) {\n      _inherits(FlexLayout, _View);\n\n      function FlexLayout() {\n        _classCallCheck(this, FlexLayout);\n\n        return _possibleConstructorReturn(this, (FlexLayout.__proto__ || Object.getPrototypeOf(FlexLayout)).apply(this, arguments));\n      }\n\n      _createClass(FlexLayout, [{\n        key: \"render\",\n        value: function render() {\n          var ref, ref1, ref2, ref3;\n\n          if (ref = this.attrs.layout_flex_align_items, indexOf$3.call(alignItemModes, ref) >= 0) {\n            this.el.style.alignItems = this.attrs.layout_flex_align_items;\n            this.el.style.msAlignItems = this.attrs.layout_flex_align_items;\n          }\n\n          if (ref1 = this.attrs.layout_flex_align_content, indexOf$3.call(alignContentModes, ref1) >= 0) {\n            this.el.style.alignContent = this.attrs.layout_flex_align_content;\n            this.el.style.msAlignContent = this.attrs.layout_flex_align_content;\n          }\n\n          if (ref2 = this.attrs.layout_flex_justify_content, indexOf$3.call(flexJustifyModes, ref2) >= 0) {\n            this.el.style.justifyContent = this.attrs.layout_flex_justify_content;\n            this.el.style.msFlexPack = this.attrs.layout_flex_justify_content;\n          }\n\n          if (ref3 = this.attrs.layout_flex_direction, indexOf$3.call(flexDirectionModes, ref3) >= 0) {\n            this.el.style.flexDirection = this.attrs.layout_flex_direction;\n            this.el.style.msFlexDirection = this.attrs.layout_flex_direction;\n          }\n\n          if (typeof this.attrs.layout_flex_shrink === 'number') {\n            this.el.style.flexShrink = this.attrs.layout_flex_shrink;\n            this.el.style.msFlexShrink = this.attrs.layout_flex_shrink;\n          }\n\n          if (typeof this.attrs.layout_flex_grow === 'number') {\n            this.el.style.flexGrow = this.attrs.layout_flex_grow;\n            this.el.style.msFlexGrow = this.attrs.layout_flex_grow;\n          }\n\n          if (this.attrs.layout_flex_basis != null) {\n            this.el.style.flexBasis = utils$6.parseUnit(this.attrs.layout_flex_basis);\n            this.el.style.msFlexBasis = utils$6.parseUnit(this.attrs.layout_flex_basis);\n          }\n\n          return this;\n        }\n      }]);\n\n      return FlexLayout;\n    }(View$7);\n    FlexLayout.prototype.className = 'incito__flex-layout-view';\n    return FlexLayout;\n  }.call(commonjsGlobal);\n\n  var AbsoluteLayout$1, FlexLayout$2, FragView$1, ImageView, Incito, LinearLayout$1, MicroEvent, TextView$1, VideoEmbedView, VideoView, View$8, utils$7;\n  MicroEvent = microevent;\n  utils$7 = utils_1;\n  View$8 = require$$0;\n  FragView$1 = frag;\n  ImageView = image;\n  TextView$1 = text;\n  VideoEmbedView = videoEmbed;\n  VideoView = video;\n  LinearLayout$1 = linearLayout;\n  AbsoluteLayout$1 = absoluteLayout;\n  FlexLayout$2 = flexLayout;\n\n  Incito =\n  /*#__PURE__*/\n  function () {\n    function Incito(containerEl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Incito);\n\n      this.containerEl = containerEl;\n      this.options = options;\n      this.el = document.createElement('div');\n      this.entries = [];\n      this.ids = {};\n      return;\n    }\n\n    _createClass(Incito, [{\n      key: \"start\",\n      value: function start() {\n        var incito;\n        incito = this.options.incito || {};\n        this.el.className = 'incito';\n\n        if (incito.locale != null) {\n          this.el.setAttribute('lang', incito.locale);\n        }\n\n        this.loadFonts(incito.font_assets);\n        this.applyTheme(incito.theme);\n        this.render(this.el, incito.root_view);\n        this.containerEl.appendChild(this.el);\n        this.lazyload();\n        return this;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.containerEl.removeChild(this.el);\n\n        if (this.lazyloadCheck != null) {\n          window.removeEventListener('scroll', this.lazyloadCheck, false);\n          window.removeEventListener('resize', this.lazyloadCheck, false);\n        }\n\n        this.trigger('destroyed');\n      }\n    }, {\n      key: \"render\",\n      value: function render(el) {\n        var _this = this;\n\n        var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var match, ref, view, viewName, views;\n        match = null;\n        viewName = attrs.view_name;\n        views = {\n          View: View$8,\n          FragView: FragView$1,\n          ImageView: ImageView,\n          TextView: TextView$1,\n          VideoEmbedView: VideoEmbedView,\n          VideoView: VideoView,\n          LinearLayout: LinearLayout$1,\n          AbsoluteLayout: AbsoluteLayout$1,\n          FlexLayout: FlexLayout$2\n        };\n        match = (ref = views[viewName]) != null ? ref : View$8;\n        view = new match(attrs).render();\n\n        if (view.lazyload === true) {\n          this.entries.push(view.el);\n        }\n\n        if (attrs.id != null && _typeof(attrs.meta) === 'object') {\n          this.ids[attrs.id] = attrs.meta;\n        }\n\n        if (Array.isArray(attrs.child_views)) {\n          attrs.child_views.forEach(function (childView) {\n            _this.render(view.el, childView);\n          });\n        }\n\n        el.appendChild(view.el);\n        return view.el;\n      }\n    }, {\n      key: \"applyTheme\",\n      value: function applyTheme() {\n        var theme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        if (Array.isArray(theme.font_family)) {\n          this.el.style.fontFamily = theme.font_family.join(', ');\n        }\n\n        if (utils$7.isDefinedStr(theme.background_color)) {\n          this.el.style.backgroundColor = theme.background_color;\n        }\n\n        if (utils$7.isDefinedStr(theme.text_color)) {\n          this.el.style.color = theme.text_color;\n        }\n\n        if (typeof theme.line_spacing_multiplier === 'number') {\n          this.el.style.lineHeight = theme.line_spacing_multiplier;\n        }\n      }\n    }, {\n      key: \"loadFonts\",\n      value: function loadFonts() {\n        var fontAssets = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var font, key, ref, ref1, styleEl, text$$1, urls, value;\n\n        if ('FontFace' in window) {\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url(\".concat(src[1], \")\");\n            }).join(', ');\n            font = new FontFace(key, urls, {\n              style: (ref = value.style) != null ? ref : 'normal',\n              weight: (ref1 = value.weight) != null ? ref1 : 'normal'\n            });\n            document.fonts.add(font);\n            font.load();\n          }\n        } else {\n          styleEl = document.createElement('style');\n\n          for (key in fontAssets) {\n            value = fontAssets[key];\n            urls = value.src.map(function (src) {\n              return \"url('\".concat(src[1], \"') format('\").concat(src[0], \"')\");\n            }).join(', ');\n            text$$1 = \"@font-face {\\n    font-family: '\".concat(key, \"';\\n    src: \").concat(urls, \";\\n}\");\n            styleEl.appendChild(document.createTextNode(text$$1));\n          }\n\n          document.head.appendChild(styleEl);\n        }\n      }\n    }, {\n      key: \"lazyload\",\n      value: function lazyload() {\n        var _this2 = this;\n\n        var check, isInsideViewport, observer, threshold;\n        threshold = 1000;\n\n        if ('IntersectionObserver' in window) {\n          observer = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n              if (entry.isIntersecting || entry.intersectionRatio > 0) {\n                _this2.revealElement(entry.target);\n\n                observer.unobserve(entry.target);\n              }\n            });\n          }, {\n            rootMargin: \"\".concat(threshold, \"px\")\n          });\n          this.entries.forEach(observer.observe.bind(observer));\n        } else {\n          isInsideViewport = function isInsideViewport(el) {\n            var rect, ref, windowHeight;\n            rect = el.getBoundingClientRect();\n            windowHeight = (ref = window.innerHeight) != null ? ref : document.documentElement.clientHeight;\n            return rect.top <= windowHeight + threshold && rect.top + rect.height >= -threshold;\n          };\n\n          check = function check() {\n            _this2.entries = _this2.entries.filter(function (el) {\n              if (isInsideViewport(el)) {\n                _this2.revealElement(el);\n\n                return false;\n              } else {\n                return true;\n              }\n            });\n          };\n\n          this.lazyloadCheck = utils$7.throttle(check, 150);\n          window.addEventListener('scroll', this.lazyloadCheck, false);\n          window.addEventListener('resize', this.lazyloadCheck, false);\n          setTimeout(check, 0);\n        }\n      }\n    }, {\n      key: \"revealElement\",\n      value: function revealElement(el) {\n        var iframeEl, sourceEl, src;\n        src = el.getAttribute('data-src');\n\n        if (el.tagName.toLowerCase() === 'img') {\n          el.addEventListener('load', function () {\n            el.className += ' incito--loaded';\n          });\n          el.setAttribute('src', src);\n        } else if (el.tagName.toLowerCase() === 'video') {\n          sourceEl = document.createElement('source');\n          sourceEl.setAttribute('src', src);\n          sourceEl.setAttribute('type', el.getAttribute('data-mime'));\n          el.appendChild(sourceEl);\n        } else if (/incito__video-embed-view/gi.test(el.className)) {\n          iframeEl = document.createElement('iframe');\n          iframeEl.setAttribute('src', src);\n          el.appendChild(iframeEl);\n        } else {\n          el.style.backgroundImage = \"url(\".concat(src, \")\");\n        }\n      }\n    }]);\n\n    return Incito;\n  }();\n\n  MicroEvent.mixin(Incito);\n  var incito = Incito;\n\n  return incito;\n\n})));\n//# sourceMappingURL=incito.js.map\n","module.exports = class Controls\n    constructor: (@viewer) ->\n        @progressEl = @viewer.el.querySelector '.sgn-incito__progress'\n        @scrollListener = @scroll.bind @\n\n        if @progressEl?\n            window.addEventListener 'scroll', @scrollListener, false\n\n            @viewer.bind 'destroyed', =>\n                window.removeEventListener 'scroll', @scrollListener\n\n                return\n\n        return\n    \n    scroll: ->\n        scrollTop = window.scrollY\n        winHeight = window.innerHeight\n        docHeight = document.body.clientHeight\n        progress = Math.round (scrollTop + winHeight) / docHeight * 100\n\n        if scrollTop < 300\n            @progressEl.style.opacity = 0\n        else if scrollTop >= docHeight - winHeight\n            @progressEl.textContent = '100%'\n            @progressEl.style.opacity = 1\n        else\n            @progressEl.textContent = \"#{progress} %\"\n            @progressEl.style.opacity = 1\n\n        return","util = require '../../util'\nSGN = require '../../core'\nControls = require './controls'\nschema = require '../../../graphql/incito.graphql'\n\nmodule.exports = class Bootstrapper\n    constructor: (@options = {}) ->\n        @deviceCategory = @getDeviceCategory()\n        @pixelRatio = @getPixelRatio()\n        @pointer = @getPointer()\n        @orientation = @getOrientation()\n        @maxWidth = @getMaxWidth()\n        @versionsSupported = ['1.0.0']\n        @storageKey = \"incito-#{@options.id}\"\n\n        return\n    \n    getDeviceCategory: ->\n        util.getDeviceCategory()\n    \n    getPixelRatio: ->\n        window.devicePixelRatio or 1\n    \n    getPointer: ->\n        util.getPointer()\n    \n    getOrientation: ->\n        orientation = util.getOrientation screen.width, screen.height\n        orientation = 'horizontal' if orientation is 'quadratic'\n\n        orientation\n    \n    getMaxWidth: ->\n        if Math.abs(window.orientation) is 90\n            Math.min @options.el.offsetWidth, screen.width\n        else\n            @options.el.offsetWidth\n\n    fetch: (callback) ->\n        data = SGN.storage.session.get @storageKey\n\n        if data? and data.response? and data.width is @maxWidth\n            return callback null, data.response\n\n        SGN.GraphKit.request\n            query: schema\n            operationName: 'GetIncitoPublication'\n            variables:\n                id: @options.id\n                deviceCategory: 'DEVICE_CATEGORY_' + @deviceCategory.toUpperCase()\n                pixelRatio: @pixelRatio\n                pointer: 'POINTER_' + @pointer.toUpperCase()\n                orientation: 'ORIENTATION_' + @orientation.toUpperCase()\n                maxWidth: @maxWidth\n                versionsSupported: @versionsSupported\n        , (err, res) =>\n            if err?\n                callback err\n            else if res.errors and res.errors.length > 0\n                callback util.error(new Error(), 'graph request contained errors')\n            else\n                callback null, res\n\n                SGN.storage.session.set @storageKey,\n                    width: @maxWidth\n                    response: res\n            \n            return\n\n        return\n    \n    createViewer: (data) ->\n        if not data.incito?\n            throw util.error new Error(), 'you need to supply valid Incito to create a viewer'\n\n        viewer = new SGN.IncitoPublicationKit.Viewer @options.el,\n            id: @options.id\n            incito: data.incito\n            eventTracker: @options.eventTracker\n        controls = new Controls viewer\n\n        viewer","module.exports =\n    Viewer: require './viewer'\n\n    Bootstrapper: require './bootstrapper'","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","MicroEvent = require 'microevent'\nGator = require '../../../../vendor/gator'\nMustache = require 'mustache'\nkeyCodes = require '../../key-codes'\n\ntemplate = \"\"\"\n<div class=\"sgn-popover__background\" data-close></div>\n<div class=\"sgn-popover__menu\">\n    {{#header}}\n        <div class=\"sgn-popover__header\">{{header}}</div>\n    {{/header}}\n    <div class=\"sgn-popover__content\">\n        <ul>\n            {{#singleChoiceItems}}\n                <li data-index=\"{{index}}\">\n                    <p class=\"sgn-popover-item__title\">{{item.title}}</p>\n                    {{#item.subtitle}}\n                        <p class=\"sgn-popover-item__subtitle\">{{item.subtitle}}</p>\n                    {{/item.subtitle}}\n                </li>\n            {{/singleChoiceItems}}\n        </ul>\n    </div>\n</div>\n\"\"\"\n\nclass Popover\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n        @backgroundEl = document.createElement 'div'\n        @resizeListener = @resize.bind @\n        @scrollListener = @scroll.bind @\n\n        return\n\n    render: ->\n        width = @options.width ? 100\n        header = @options.header\n        template = @options.template if @options.template?\n        trigger = @trigger.bind @\n        view =\n            header: header\n            singleChoiceItems: @options.singleChoiceItems?.map (item, i) ->\n                item: item\n                index: i\n\n        @el.className = 'sgn-popover'\n        @el.setAttribute 'tabindex', -1\n        @el.innerHTML = Mustache.render template, view\n\n        @position()\n        @addEventListeners()\n\n        @\n\n    destroy: ->\n        Gator(@el).off()\n\n        window.removeEventListener 'resize', @resizeListener\n        window.removeEventListener 'scroll', @scrollListener\n\n        if @el.parentNode?\n            @el.parentNode.removeChild @el\n\n            @trigger 'destroyed'\n\n        return\n    \n    position: ->\n        top = @options.y\n        left = @options.x\n\n        menuEl = @el.querySelector '.sgn-popover__menu'\n\n        width = menuEl.offsetWidth\n        height = menuEl.offsetHeight\n        parentWidth = @el.parentNode.offsetWidth\n        parentHeight = @el.parentNode.offsetHeight\n        boundingRect = @el.parentNode.getBoundingClientRect()\n\n        top -= boundingRect.top\n        left -= boundingRect.left\n\n        top -= window.pageYOffset\n        left -= window.pageXOffset\n\n        if top + height > parentHeight\n            menuEl.style.top = parentHeight - height + 'px'\n        else\n            menuEl.style.top = top + 'px'\n\n        if left + width > parentWidth\n            menuEl.style.left = parentWidth - width + 'px'\n        else\n            menuEl.style.left = left + 'px'\n        \n        return\n    \n    addEventListeners: ->\n        trigger = @trigger.bind @\n\n        @el.addEventListener 'keyup', @keyUp.bind(@)\n\n        Gator(@el).on 'click', '[data-index]', (e) ->\n            e.preventDefault()\n            e.stopPropagation()\n\n            trigger 'selected', index: +@getAttribute 'data-index'\n\n            return\n\n        Gator(@el).on 'click', '[data-close]', (e) =>\n            e.preventDefault()\n            e.stopPropagation()\n            \n            @destroy()\n\n            return\n\n        Gator(@el).on 'click', '.sgn-popover__menu', (e) ->\n            e.stopPropagation()\n\n            return\n\n        window.addEventListener 'resize', @resizeListener, false\n        window.addEventListener 'scroll', @scrollListener, false\n\n        return\n\n    keyUp: (e) ->\n        @destroy() if e.keyCode is keyCodes.ESC\n        \n        return\n\n    resize: ->\n        @destroy()\n\n        return\n\n    scroll: ->\n        @destroy()\n\n        return\n\nMicroEvent.mixin Popover\n\nmodule.exports = Popover\n","/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\nvar _matcher,\n  _level = 0,\n  _id = 0,\n  _handlers = {},\n  _gatorInstances = {};\n\nfunction _addEvent(gator, type, callback) {\n  // blur and focus do not bubble up but if you use event capturing\n  // then you will get them\n  var useCapture = type == \"blur\" || type == \"focus\";\n  gator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\nfunction _getMatcher(element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n  // if it doesn't match a native browser method\n  // fall back to the gator function\n  _matcher = Gator.matchesSelector;\n  return _matcher;\n}\n\n/**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\nfunction _matchesSelector(element, selector, boundElement) {\n  // no selector means this event was bound directly to this element\n  if (selector == \"_root\") {\n    return boundElement;\n  }\n\n  // if we have moved up to the element you bound the event to\n  // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n  // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n  // if this element did not match but has a parent we should try\n  // going up the tree to see if any of the parent elements match\n  // for example if you are looking for a click on an <a> tag but there\n  // is a <span> inside of the a tag that it is the target,\n  // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler(gator, event, selector, callback) {\n  if (!_handlers[gator.id]) {\n    _handlers[gator.id] = {};\n  }\n\n  if (!_handlers[gator.id][event]) {\n    _handlers[gator.id][event] = {};\n  }\n\n  if (!_handlers[gator.id][event][selector]) {\n    _handlers[gator.id][event][selector] = [];\n  }\n\n  _handlers[gator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler(gator, event, selector, callback) {\n  // if there are no events tied to this element at all\n  // then don't do anything\n  if (!_handlers[gator.id]) {\n    return;\n  }\n\n  // if there is no event type specified then remove all events\n  // example: Gator(element).off()\n  if (!event) {\n    for (var type in _handlers[gator.id]) {\n      if (_handlers[gator.id].hasOwnProperty(type)) {\n        _handlers[gator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n  // if no callback or selector is specified remove all events of this type\n  // example: Gator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[gator.id][event] = {};\n    return;\n  }\n\n  // if a selector is specified but no callback remove all events\n  // for this selector\n  // example: Gator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[gator.id][event][selector];\n    return;\n  }\n\n  // if we have specified an event type, selector, and callback then we\n  // need to make sure there are callbacks tied to this selector to\n  // begin with.  if there aren't then we can stop here\n  if (!_handlers[gator.id][event][selector]) {\n    return;\n  }\n\n  // if there are then loop through all the callbacks and if we find\n  // one that matches remove it from the array\n  for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n    if (_handlers[gator.id][event][selector][i] === callback) {\n      _handlers[gator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent(id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  var target = e.target || e.srcElement,\n    selector,\n    match,\n    matches = {},\n    i = 0,\n    j = 0;\n\n  // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n      if (\n        match &&\n        Gator.matchesEvent(\n          type,\n          _gatorInstances[id].element,\n          match,\n          selector == \"_root\",\n          e\n        )\n      ) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n  // stopPropagation() fails to set cancelBubble to true in Webkit\n  // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function() {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Gator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\n/**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\nfunction _bind(events, selector, callback, remove) {\n  // fail silently if you pass null or undefined as an alement\n  // in the Gator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof selector == \"function\") {\n    callback = selector;\n    selector = \"_root\";\n  }\n\n  var id = this.id,\n    i;\n\n  function _getGlobalCallback(type) {\n    return function(e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    if (remove) {\n      _removeHandler(this, events[i], selector, callback);\n      continue;\n    }\n\n    if (!_handlers[id] || !_handlers[id][events[i]]) {\n      Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n    }\n\n    _addHandler(this, events[i], selector, callback);\n  }\n\n  return this;\n}\n\n/**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\nfunction Gator(element, id) {\n  // called as function\n  if (!(this instanceof Gator)) {\n    // only keep one Gator instance per node to make sure that\n    // we don't create a ton of new objects if you want to delegate\n    // multiple events from the same node\n    //\n    // for example: Gator(document).on(...\n    for (var key in _gatorInstances) {\n      if (_gatorInstances[key].element === element) {\n        return _gatorInstances[key];\n      }\n    }\n\n    _id++;\n    _gatorInstances[_id] = new Gator(element, _id);\n\n    return _gatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.on = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\nGator.prototype.off = function(events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nGator.matchesSelector = function() {};\nGator.cancel = _cancel;\nGator.addEvent = _addEvent;\nGator.matchesEvent = function() {\n  return true;\n};\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = Gator;\n}\n\nif (typeof window !== \"undefined\" && window.exports) {\n  window.Gator = Gator;\n}\n","module.exports = class OfferDetails\n    constructor: (@options = {}) ->\n        @el = document.createElement 'div'\n\n        @el.className = 'sgn-offer-details'\n        @el.setAttribute 'tabindex', -1\n        @el.appendChild @options.contentEl\n\n        @resizeListener = @resize.bind @\n\n        @position()\n\n        return\n    \n    appendTo: (el) ->\n        el.appendChild @el\n\n        @el.offsetWidth\n\n        @show()\n\n        @\n    \n    show: ->\n        @el.className += ' in'\n\n        window.addEventListener 'resize', @resizeListener, false\n\n        @\n    \n    destroy: ->\n        window.removeEventListener 'resize', @resizeListener\n\n        @el.parentNode.removeChild @el\n\n        return\n    \n    position: ->\n        rect = @options.anchorEl.getBoundingClientRect()\n        top = window.pageYOffset + rect.top + @options.anchorEl.offsetHeight\n        left = window.pageXOffset + rect.left\n        width = @options.anchorEl.offsetWidth\n\n        @el.style.top = top + 'px'\n        @el.style.left = left + 'px'\n        @el.style.width = width + 'px'\n\n        return\n    \n    resize: ->\n        @position()\n\n        return","Popover = require './popover'\n\nmodule.exports = (ctx, callback) ->\n    items = ctx.items\n    popover = null\n\n    if items.length is 1\n        callback items[0]\n    else if items.length > 1\n        popover = new Popover\n            header: ctx.header,\n            x: ctx.x\n            y: ctx.y\n            singleChoiceItems: items\n\n        popover.bind 'selected', (e) ->\n            callback items[e.index]\n\n            popover.destroy()\n\n            return\n\n        popover.bind 'destroyed', ->\n            ctx.el.focus()\n\n            return\n\n        ctx.el.appendChild popover.el\n        popover.render().el.focus()\n\n    destroy: ->\n        popover.destroy() if popover?\n\n        return","Gator = require '../../../../vendor/gator'\n\nmodule.exports =\n    OfferDetails: require './offer-details'\n\n    Popover: require './popover'\n\n    singleChoicePopover: require './single-choice-popover'\n\n    on: (el, events, selector, callback) ->\n        Gator(el).on events, selector, callback\n\n    off: (el, events, selector, callback) ->\n        Gator(el).off events, selector, callback","{ isBrowser } = require './util'\n\nSGN = require './core'\n\n# Expose storage backends.\nSGN.storage =\n    local: require './storage/client-local'\n    session: require './storage/client-session'\n    cookie: require './storage/client-cookie'\n\n# Expose request handler.\nSGN.request = require './request'\n\n# Expose the different kits.\nSGN.AssetsKit = require './kits/assets'\nSGN.EventsKit = require './kits/events'\nSGN.GraphKit = require './kits/graph'\nSGN.CoreKit = require './kits/core'\nSGN.PagedPublicationKit = require './kits/paged-publication'\nSGN.IncitoPublicationKit = require './kits/incito-publication'\nSGN.CoreUIKit = require './kits/core-ui'\n\n# Set the core session from the cookie store if possible.\nsession = SGN.storage.cookie.get 'session'\n\nif typeof session is 'object'\n    SGN.config.set\n        coreSessionToken: session.token\n        coreSessionClientId: session.client_id\n\nSGN.client = do ->\n    id = SGN.storage.local.get 'client-id'\n    id = id.data if id?.data\n\n    if not id?\n        id = SGN.util.uuid()\n        \n        SGN.storage.local.set 'client-id', id\n\n    id: id\n\n# Listen for changes in the config.\nSGN.config.bind 'change', (changedAttributes) ->\n    eventTracker = changedAttributes.eventTracker\n\n    if eventTracker?\n        eventTracker.trackClientSessionOpened()\n\n    return\n\nif isBrowser()\n    # Autoconfigure the SDK.\n    scriptEl = document.getElementById 'sgn-sdk'\n\n    if scriptEl?\n        appKey = scriptEl.getAttribute 'data-app-key'\n        trackId = scriptEl.getAttribute 'data-track-id'\n        config = {}\n\n        config.appKey = appKey if appKey?\n        config.eventTracker = new SGN.EventsKit.Tracker(trackId: trackId) if trackId?\n\n        SGN.config.set config\n\nmodule.exports = SGN\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","core","module","version","__e","global","window","Math","self","Function","__g","store","value","undefined","push","mode","copyright","id","px","random","concat","toString","require$$0","require$$1","USE_SYMBOL","name","uid","it","isObject","exec","e","get","a","document","is","createElement","require$$2","S","fn","val","call","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","bitmap","object","f","createDesc","UNSCOPABLES","ArrayProto","Array","done","slice","propertyIsEnumerable","cof","split","IObject","defined","hasOwnProperty","SRC","$toString","TPL","inspectSource","safe","isFunction","has","hide","join","String","this","that","aFunction","b","c","apply","arguments","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","exports","expProto","ctx","redefine","U","W","R","IS_INCLUDES","ceil","floor","isNaN","min","toInteger","max","shared","arrayIndexOf","$this","el","fromIndex","toIObject","toLength","index","toAbsoluteIndex","IE_PROTO","names","result","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","create","dPs","def","TAG","tag","stat","IteratorPrototype","NAME","next","setToStringTag","ObjectProto","getPrototypeOf","toObject","ITERATOR","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","Iterators","values","iterated","_t","_i","_k","step","Arguments","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$iterators","KEY","fails","gOPD","getOwnPropertyDescriptor","pIE","check","setPrototypeOf","set","test","buggy","__proto__","hiddenKeys","getOwnPropertyNames","MATCH","isRegExp","ignoreCase","multiline","unicode","sticky","SPECIES","gOPN","$RegExp","RegExp","re1","re2","CORRECT_NEW","require$$3","require$$4","p","C","tiRE","piRE","fiU","$flags","proxy","require$$5","DESCRIPTORS","flags","define","SYMBOL","fns","strfn","rxfn","string","arg","REPLACE","$replace","searchValue","replaceValue","util","FProto","nameRE","match","Config","MicroEvent","process","err","options","message","code","stack","time","Date","replace","r","field","url","href","location","queryParams","map","encodeURIComponent","from","to","ua","navigator","userAgent","indexOf","deviceCategory","platform","pointer","matchMedia","matches","width","height","density","logical","ref","screen","round","jan1","now","tmp","getFullYear","toGMTString","substring","lastIndexOf","getTimezoneOffset","color","hex","rgb","s","sum","x","parseInt","str","isBrowser","btoa","Buffer","arr","size","results","splice","deferTimer","last","threshold","scope","args","context","getTime","setTimeout","callback","img","Image","onload","onerror","Error","lat1","lng1","lat2","lng2","dist","radlat1","radlat2","radtheta","theta","PI","sin","cos","acos","asyncCalls","sharedCallback","allResults","counter","k","makeCallback","bind","event","fct","_events","unbind","trigger","mixin","destObject","attrs","changedAttributes","config","option","Mustache","pairs","translations","factory","mustache","objectToString","isArray","escapeRegExp","hasProperty","propName","regExpTest","nonSpaceRe","isWhitespace","re","testRegExp","entityMap","&","<",">","\"","'","/","`","=","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","Scanner","tail","pos","Context","view","parentContext","cache",".","parent","Writer","eos","scan","scanUntil","search","lookup","lookupHit","clearCache","parse","template","tags","tokens","openingTagRe","closingTagRe","closingCurlyRe","sections","spaces","hasTag","nonSpace","stripSpace","pop","compileTags","tagsToCompile","start","chr","token","openSection","scanner","valueLength","charAt","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","render","partials","renderTokens","originalTemplate","symbol","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","j","escape","defaultWriter","to_html","send","nodeName","storage","localStorage","JSON","stringify","SGN","sessionStorage","SPLIT","$split","_split","$push","NPCG","separator","limit","separator2","lastIndex","lastLength","output","lastLastIndex","splitLimit","separatorCopy","XMLHttpRequest","ca","ct","len","isNode","cookie","trim","date","setTime","days","toUTCString","clientLocalStorage","getPool","pool","progressCallback","request","file","data","error","statusCode","body","loaded","total","getOwnPropertySymbols","$assign","assign","A","K","forEach","T","aLen","getSymbols","gOPS","isEnum","addEventListener","Pulse","Tracker","dispatching","interval","setInterval","dispatch","dispatchInterval","evt","properties","trackId","uuid","geohash","country","getPoolSize","poolLimit","shift","events","nacks","dryRun","dispatchLimit","ship","response","resEvent","status","filter","poolEvent","_this","http","setRequestHeader","timeout","responseText","trackEvent","defaultOptions","destroyed","connection","connect","WebSocket","onopen","onOpen","onmessage","onMessage","onError","onclose","onClose","parseCookies","parsedCookies","cookies","keyValuePair","appKey","authToken","query","operationName","variables","headers","Authorization","useCookies","authCookie","callbackQueue","clientCookieStorage","renewed","session","sha256","runs","CoreKit","ensure","appSecret","appVersion","clientId","geo","json","locale","qs","ref1","ref2","geolocation","sign","r_locale","api_av","client_id","r_lat","latitude","r_lng","longitude","r_radius","radius","r_sensor","sensor","method","formData","ref3","responseToken","saveToken","globals","convertHex","bytesToHex","bytes","orig","arrBytesToHex","hexToBytes","convertString","bytesToString","fromCharCode","stringToBytes","charCodeAt","UTF8","decodeURIComponent","unescape","_imports","isPrime","n","sqrtN","sqrt","factor","getFractionalBits","nPrime","pow","bytesToWords","words","wordsToBytes","processBlock","H","M","offset","d","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","m","l","digestbytes","asBytes","asString","x2","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","saveCookie","ttl","saveClientId","complete","queueCount","renew","$find","original","callbackfn","res","forced","find","PagedPublicationPageSpread","PageSpread","PagedPublicationPageSpreads","PageSpreads","PagedPublicationCore","Verso","_isObject","_anObject","_fails","_descriptors","createCommonjsModule","_global","document$1","_ie8DomDefine","_objectDp","_toPrimitive","_hide","_propertyDesc","_has","_uid","_core","_redefine","_defined","_shared","_wks","$exports","_fixReWks","_cof","_isRegexp","_aFunction","_ctx","_export","_toObject","$sort","sort","comparefn","_iobject","_toIobject","_toInteger","min$1","_toAbsoluteIndex","_enumBugKeys","_objectKeys","_objectKeysInternal","_objectGops","_objectPie","_objectAssign","VENDOR_PREFIXES","TYPE_FUNCTION","abs","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","log","console","warn","nextKey","extend","dest","merge","inherit","child","base","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","removeEventListener","hasParent","node","parentNode","inStr","inArray","findByKey","toArray","uniqueArray","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","atan2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","touches","all","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","t","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TouchAction","getTouchActionProps","touchMap","CSS","supports","compute","TOUCH_ACTION_MAP","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","clearTimeout","taps","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","on","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","Animation$1","Hammer$1","PageSpread$1","hammer","microevent","page_spread","visibility","positioned","active","pageIds","left","maxZoomScale","getMaxZoomScale","getEl","getAttribute","classList","contains","querySelectorAll","getBoundingClientRect","pageEl","pageRect","rect","ref4","top","right","bottom","getPageEls","getLeft","setAttribute","animation","Animation","run","duration","easing","transform","_transitionEnd","transition","el1","ref5","options1","swipeVelocity","swipeThreshold","navigationDuration","navigationPanDuration","zoomDuration","doubleTapDelay","position","pinching","panning","startTransform","tap","delay","scrollerEl","querySelector","pageSpreadEls","pageSpreads","traversePageSpreads","buildPageIds","getHammerInputClass","onPanStart","onPanMove","onPanEnd","onSingletap","onPinchStart","onPinchMove","onPinchEnd","onPress","onContextmenu","onWheel","pageId","getPageSpreadPositionFromPageId","navigateTo","resizeListener","onResize","touchStartListener","onTouchStart","touchEndListener","onTouchEnd","getPosition","getPageSpreadCount","activePageSpread","carousel","currentPageSpread","currentPosition","getPageSpreadFromPosition","getCarouselFromPageSpread","isScrollable","deactivate","activate","visible","pageSpread","setVisibility","getLeftTransformFromPageSpread","setPosition","newPosition","animate","getActivePageSpread","gone","previousPosition","getWidth","pageSpreadSubject","els","contentRect","info","len1","overlayEl","overlayEls","pageEls","offsetLeft","offsetTop","contentX","contentY","pageX","pageY","isInsideContentX","isInsideContentY","isInsideContent","getContentRect","getOverlayEls","isCoordinateInsideElement","idx","pageSpreadContentRect","pageSpreadRect","getRect","coordinate","carouselOffset","carouselScaledOffset","curScale","pageSpreadBounds","getPageSpreadBounds","bounds","clipCoordinate","offsetWidth","offsetHeight","prev","isZoomable","zoomTo","_this2","getCoordinateInfo","_this3","coordinateInfo","zoomEvent","zoomedIn","_this4","contentsRendered","hotspotsRendered","renderEl","pages","getPages","page","className","getId","imageLoads","pageCount","image","loaderEl","images","medium","innerHTML","label","loadImage","isComplete","backgroundImage","versoPageSpread","large","removeAttribute","collection","ids","frag","createDocumentFragment","firstPage","lastPage","midstPageSpreads","pageMode","chunk","midstPages","makeOptions","getOption","getPageMode","pageLoaded","pagesLoaded","setColor","insertBefore","getFrag","verso","createVerso","getVerso","visibilityChangeListener","visibilityChange","throttle","resize","unloadListener","unload","root","focus","pageSpreadEl","backgroundColor","removeChild","opts","getColorBrightness","overridePageSpreadContentRect","beforeNavigation","afterNavigation","attemptedNavigation","clicked","doubleClicked","contextmenu","panStart","panEnd","zoomedOut","actualHeight","actualWidth","clientRect","imageRatio","pageHeight","pageWidth","pageLabels","getVisibility","renderContents","clearContents","newSpreadEl","pageSpreadCount","progress","progressLabel","theVerso","formatProgressLabel","renderPageSpreads","resetIdleTimer","startIdleTimer","findPage","zoomIn","zoomOut","idleTimeout","getPageIds","refresh","getType","eventName","hidden","switchPageMode","PagedPublicationHotspots","currentPageSpreadId","pageSpreadsLoaded","hotspotsReceived","resized","boundingRect","hotspot","hotspotEl","hotspotEls","ratio","renderHotspot","maxX","maxY","minX","minY","pageNumber","pageNumbers","locations","coords","pageSpreadId","setCache","renderHotspots","requestHotspots","getCache","PagedPublicationControls","keyCodes","keyDownListener","keyDown","keyboard","prevControl","prevClicked","nextControl","nextClicked","closeClicked","showProgress","progressBar","textContent","keyCode","ARROW_LEFT","ARROW_RIGHT","SPACE","NUMBER_ONE","base64map","crypt","rotl","rotr","endian","Number","randomBytes","substr","bytesToBase64","base64","triplet","base64ToBytes","imod4","charenc","utf8","bin","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","PagedPublicationEventTracking","md5","Controls","Core","EventTracking","Hotspots","Viewer","encoding","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","eventTracker","appeared","disappeared","pageSpreadDisappeared","trackPagedPublicationOpened","getViewToken","client","trackPagedPublicationPageDisappeared","pageSpreadAppeared","trackPageSpreadDisappeared","parts","pageSpreadWidth","pageSpreadMaxZoomScale","idleDelay","resizeDelay","_hotspots","_controls","_eventTracking","viewSession","hotspots","hotspotQueue","popover","_setupEventListeners","trackOpened","navigateToIndex","first","hotspotsRequested","CoreUIKit","singleChoicePopover","offer","heading","pricing","currency","price","hotspotRequest","hotspotRatio","processHotspotQueue","pickHotspot","Incito","PagedPublicationKit","details","dealer_id","branding","pageflip","dimensions","transformPages","zoom","viewer","applyHotspots","async","parallel","fetchDetails","fetchPages","_inherits","subClass","superClass","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","commonjsGlobal","View","utils$1","utils_1","formatUnit","unit","isDefinedStr","escapeHTML","unsafe","func","inThrottle","View$1","utils$2","setAttributes","tagName","shadow","strokeStyles","transforms","role","accessibility_label","accessibility_hidden","title","gravity","link","layout_width","layout_height","min_width","minWidth","max_width","maxWidth","min_height","minHeight","max_height","maxHeight","layout_top","layout_left","layout_right","layout_bottom","background_color","background_image","lazyload","background_tile_mode","backgroundRepeat","background_image_position","backgroundPosition","background_image_scale_type","backgroundSize","layout_margin","margin","layout_margin_top","marginTop","layout_margin_left","marginLeft","layout_margin_right","marginRight","layout_margin_bottom","marginBottom","padding","padding_top","paddingTop","padding_left","paddingLeft","padding_right","paddingRight","padding_bottom","paddingBottom","corner_radius","borderRadius","corner_top_left_radius","borderTopLeftRadius","corner_top_right_radius","borderTopRightRadius","corner_bottom_left_radius","borderBottomLeftRadius","corner_bottom_right_radius","borderBottomRightRadius","clip_children","overflow","getShadow","boxShadow","stroke_width","borderWidth","stroke_color","borderColor","stroke_style","borderStyle","stroke_top_width","borderTopWidth","stroke_top_color","borderTopColor","stroke_top_style","borderTopStyle","stroke_left_width","borderLeftWidth","stroke_left_color","borderLeftColor","stroke_left_style","borderLeftStyle","stroke_right_width","borderRightWidth","stroke_right_color","borderRightColor","stroke_right_style","borderRightStyle","stroke_bottom_width","borderBottomWidth","stroke_bottom_color","borderBottomColor","stroke_bottom_style","borderBottomStyle","getTransforms","transform_origin","transformOrigin","translateX","translateY","transform_translate_x","transform_translate_y","transform_rotate","transform_scale","shadow_color","shadow_dx","shadow_dy","shadow_radius","FragView","_View","dP$1","View$2","utils$3","indexOf$1","View$3","allowedHostnames","utils$4","text","TextView","parsedText","textShadow","textStyles","text_style","spans","parseSpans","escapedText","span","encodeURI","text_prevent_widow","font_family","fontFamily","text_size","fontSize","line_spacing_multiplier","lineHeight","text_color","fontWeight","fontStyle","getTextShadow","text_alignment","textAlign","font_stretch","fontStretch","single_line","max_lines","webkitLineClamp","webkitBoxOrient","text_all_caps","textTransform","endIndex","startIndex","text_shadow_color","text_shadow_dx","text_shadow_dy","text_shadow_radius","indexOf$2","View$4","utils$5","videoEmbed","FlexLayout","linkEl","hostname","View$5","video","Video","autoplay","loop","controls","mime","View$6","linearLayout","LinearLayout","View$7","alignContentModes","alignItemModes","flexDirectionModes","flexJustifyModes","utils$6","absoluteLayout","AbsoluteLayout","indexOf$3","AbsoluteLayout$1","FlexLayout$2","FragView$1","ImageView","LinearLayout$1","TextView$1","VideoEmbedView","VideoView","View$8","utils$7","flexLayout","layout_flex_align_items","alignItems","msAlignItems","layout_flex_align_content","alignContent","msAlignContent","layout_flex_justify_content","justifyContent","msFlexPack","layout_flex_direction","flexDirection","msFlexDirection","layout_flex_shrink","flexShrink","msFlexShrink","layout_flex_grow","flexGrow","msFlexGrow","layout_flex_basis","flexBasis","parseUnit","msFlexBasis","containerEl","incito","loadFonts","font_assets","applyTheme","theme","root_view","lazyloadCheck","viewName","view_name","meta","child_views","childView","font","styleEl","text$$1","urls","fontAssets","FontFace","weight","fonts","load","createTextNode","head","isInsideViewport","observer","IntersectionObserver","entry","isIntersecting","intersectionRatio","revealElement","unobserve","rootMargin","observe","windowHeight","innerHeight","clientHeight","iframeEl","sourceEl","progressEl","scrollListener","scroll","docHeight","scrollTop","winHeight","scrollY","opacity","schema","getDeviceCategory","pixelRatio","getPixelRatio","getPointer","orientation","getOrientation","getMaxWidth","versionsSupported","storageKey","devicePixelRatio","GraphKit","errors","IncitoPublicationKit","$match","regexp","Gator","Popover","_matcher","_level","_id","_handlers","_gatorInstances","_matchesSelector","selector","boundElement","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchesSelector","_getMatcher","_addHandler","gator","_removeHandler","_bind","addEvent","_getGlobalCallback","srcElement","matchesEvent","stopPropagation","cancelBubble","cancel","useCapture","contentEl","show","anchorEl","pageYOffset","pageXOffset","backgroundEl","header","menuEl","parentHeight","parentWidth","keyUp","ESC","scriptEl","items","formatQueryParams","withCredentials","getAllResponseHeaders","reduce","acc","current","lengthComputable","FormData","append","AssetsKit","require$$6","EventsKit","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","local","trackClientSessionOpened","getElementById"],"mappings":"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"}